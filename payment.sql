/*
Navicat MySQL Data Transfer

Source Server         : localhost
Source Server Version : 50553
Source Host           : localhost:3306
Source Database       : test2

Target Server Type    : MYSQL
Target Server Version : 50553
File Encoding         : 65001

Date: 2018-08-31 20:14:06
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for blog_article
-- ----------------------------
DROP TABLE IF EXISTS `blog_article`;
CREATE TABLE `blog_article` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `category_id` int(10) unsigned NOT NULL COMMENT '栏目ID',
  `title` varchar(200) NOT NULL COMMENT '标题',
  `keywords` varchar(100) DEFAULT NULL COMMENT '标签',
  `description` varchar(255) DEFAULT NULL COMMENT '摘要',
  `image_url` varchar(200) DEFAULT NULL COMMENT '图片',
  `content` longtext COMMENT '内容',
  `create_time` datetime DEFAULT NULL COMMENT '添加时间',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  `author` varchar(20) DEFAULT NULL COMMENT '文章作者',
  `source` varchar(30) DEFAULT NULL COMMENT '文章来源',
  `hits` int(10) unsigned DEFAULT '0' COMMENT '点击量',
  `is_recommend` tinyint(1) DEFAULT '0' COMMENT '是否推荐',
  `is_top` tinyint(4) DEFAULT '0' COMMENT '是否置顶',
  `url` varchar(250) DEFAULT NULL COMMENT '文章链接',
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  KEY `hits` (`hits`)
) ENGINE=InnoDB AUTO_INCREMENT=80 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of blog_article
-- ----------------------------
INSERT INTO `blog_article` VALUES ('14', '16', '数据结构-线性表-01', '数据结构', '1.线性表定义：由零个或者多个数据元素组成有限序列1.1：一个序列，元素之间有先来后到1.2：元素多个，一对一关系，首个无先驱，最后无后继。其他元素有且只有一个前驱和后继1.3：数学语言表示   a1，ai-1，ai，ai+11.4：当线性表的元素为0个，成为空表2.数据类型定义：是指一组性质相同的值的集合及定义在此集合上的一些操作的总称EXP：编程语言的整型。浮点型。字符型。指的就是数据类型2.1：原子类型：不可再分解   整型，浮点型，字符型2.2：结', '', '<p>1.线性表</p><p>定义：由零个或者多个数据元素组成有限序列</p><p>1.1：一个序列，元素之间有先来后到</p><p>1.2：元素多个，一对一关系，首个无先驱，最后无后继。其他元素有且只有一个前驱和后继</p><p>1.3：数学语言表示</p><p>&nbsp; &nbsp;a1，ai-1，ai，ai+1</p><p>1.4：当线性表的元素为0个，成为空表</p><p>2.数据类型</p><p>定义：是指一组性质相同的值的集合及定义在此集合上的一些操作的总称</p><p>EXP：编程语言的整型。浮点型。字符型。指的就是数据类型</p><p>2.1：原子类型：不可再分解&nbsp; &nbsp;整型，浮点型，字符型</p><p>2.2：结构类型：由若干个类型组合而成，可分解。例如数组</p><p>2.3：对已有的数据类型进行抽象，就有了抽象数据类型（Abstract Data Type）</p><p><br/></p><p>3.线性表&nbsp;创建&nbsp; 重置&nbsp; 删除&nbsp;插入&nbsp;交换</p><p>3.1</p><p>ADT&nbsp;线性表 （List）</p><p>Data</p><p>&nbsp; &nbsp; &nbsp; &nbsp;定义</p><p>Operation</p><p>&nbsp; &nbsp; &nbsp; &nbsp;InitList（*L）：初始化操作，建一个空LIST</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ListEmpty（L）：判断LIST是否为空表，空true，非空false</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ClearList（*L）：清空LIST</p><p>&nbsp; &nbsp; &nbsp; &nbsp;GetElem（L，i，*e）：将线性表L中的第I个位置元素返回给e</p><p>&nbsp; &nbsp; &nbsp; &nbsp;LocateElem（L，e）：在线性表L中查找与给定值e相等的元素，有，则范湖元素所在的序号，0没有</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ListInsert（*L，i，e）：在L表中第i个位置插入新的元素e</p><p>&nbsp; &nbsp; &nbsp; &nbsp;LisetDelete（*L，i，*e）：删除L表第i个位置元素，并用e返回其值</p><p>&nbsp; &nbsp; &nbsp; ListLength（L）：LIST元素个数</p><p>endADT</p><p><br/></p><p>3.2：例子</p><p><span style=\"white-space: nowrap;\"></span></p><pre style=\"background-color:#141414;color:#f8f8f8;font-family:&#39;Source Code Pro&#39;;font-size:15.0pt;\"><span style=\"color:#e3e3ff;font-weight:bold;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;宋体&#39;;font-size:9.0pt;\"><span style=\"color:#268ad1;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;宋体&#39;;font-size:12.0pt;\"><span style=\"color:#268ad1;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#268ad1;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#268ad1;\">#include </span>&lt;stdio.h&gt;<br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">线性表顺序存储的结构代码<br/></span><span style=\"color:#268ad1;\">#define </span>OK <span style=\"color:#cb4b16;\">1<br/></span><span style=\"color:#268ad1;\">#define </span>ERROR <span style=\"color:#cb4b16;\">0<br/></span><span style=\"color:#268ad1;\">#define </span>TRUE <span style=\"color:#cb4b16;\">1<br/></span><span style=\"color:#268ad1;\">#define </span>FALSE <span style=\"color:#cb4b16;\">0<br/></span><span style=\"color:#268ad1;\">typedef int </span>Status;<br/><span style=\"color:#93a1a1;font-style:italic;\">// Status</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是函数的类型，其值是函数解雇状态代码，如</span><span style=\"color:#93a1a1;font-style:italic;\">OK</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">等<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">初始条件：顺序表</span><span style=\"color:#93a1a1;font-style:italic;\">L</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">已存在。</span><span style=\"color:#93a1a1;font-style:italic;\">1&lt;=i&lt;=LsitLength(L)<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">操作结果：用</span><span style=\"color:#93a1a1;font-style:italic;\">e</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">返回</span><span style=\"color:#93a1a1;font-style:italic;\">L</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">中第</span><span style=\"color:#93a1a1;font-style:italic;\">i</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">个数据元素的值<br/></span><span style=\"color:#268ad1;\">#define &nbsp;</span>MAXSIZE  <span style=\"color:#cb4b16;\">20<br/></span><span style=\"color:#268ad1;\">typedef int </span>ElemType;<br/><span style=\"color:#268ad1;\">typedef struct<br/></span>{<br/>   ElemType data[MAXSIZE];<br/>   <span style=\"color:#268ad1;\">int </span>length;<br/>}SqList;<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">函数声明<br/></span><span style=\"color:#268ad1;\">int </span>unionL(SqList *param1,SqList param2);<br/>Status GetElem(SqList param1,<span style=\"color:#268ad1;\">int </span>param2,ElemType *param3);<br/>Status ListInsert(SqList *param1,<span style=\"color:#268ad1;\">int </span>param2,ElemType param3);<br/>Status ListDelete(SqList *param1,<span style=\"color:#268ad1;\">int </span>param2,ElemType param3);<br/><span style=\"color:#268ad1;\">int </span>ListLength(SqList La);<br/><span style=\"color:#268ad1;\">int </span>LocateElem(SqList *La,ElemType e);<br/><span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">求两个数组的∪</span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#268ad1;\">int </span>main()<br/>{<br/>    <span style=\"color:#268ad1;\">int </span>i;<br/>    SqList aaa;<br/>    aaa.length = <span style=\"color:#cb4b16;\">5</span>;<br/>    aaa.data[<span style=\"color:#cb4b16;\">0</span>] = <span style=\"color:#cb4b16;\">1</span>;<br/>    aaa.data[<span style=\"color:#cb4b16;\">1</span>] = <span style=\"color:#cb4b16;\">2</span>;<br/>    aaa.data[<span style=\"color:#cb4b16;\">2</span>] = <span style=\"color:#cb4b16;\">3</span>;<br/>    aaa.data[<span style=\"color:#cb4b16;\">3</span>] = <span style=\"color:#cb4b16;\">4</span>;<br/>    aaa.data[<span style=\"color:#cb4b16;\">4</span>] = <span style=\"color:#cb4b16;\">5</span>;<br/><br/>    SqList bbb;<br/>    bbb.length = <span style=\"color:#cb4b16;\">5</span>;<br/>    bbb.data[<span style=\"color:#cb4b16;\">0</span>] = <span style=\"color:#cb4b16;\">1</span>;<br/>    bbb.data[<span style=\"color:#cb4b16;\">1</span>] = <span style=\"color:#cb4b16;\">2</span>;<br/>    bbb.data[<span style=\"color:#cb4b16;\">2</span>] = <span style=\"color:#cb4b16;\">3</span>;<br/>    bbb.data[<span style=\"color:#cb4b16;\">3</span>] = <span style=\"color:#cb4b16;\">5</span>;<br/>    bbb.data[<span style=\"color:#cb4b16;\">4</span>] = <span style=\"color:#cb4b16;\">7</span>;<br/>    unionL(&amp;aaa,bbb);<br/><br/>}<br/><br/><br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// La </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表示</span><span style=\"color:#93a1a1;font-style:italic;\">A</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">集合</span><span style=\"color:#93a1a1;font-style:italic;\"> Lb</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表示</span><span style=\"color:#93a1a1;font-style:italic;\">B</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">集合<br/></span><span style=\"color:#268ad1;\">int </span>unionL(SqList *La,SqList Lb)<br/>{<br/>    <span style=\"color:#268ad1;\">typedef int </span>ElemType;<br/>   <span style=\"color:#268ad1;\">int </span>La_len,Lb_len,i;<br/>   ElemType e;<br/>   La_len = ListLength(*La);<br/>   Lb_len = ListLength(Lb);<br/>   <span style=\"color:#268ad1;\">for</span>(i=<span style=\"color:#cb4b16;\">0</span>;i&lt;La_len;i++)<br/>   {<br/><br/>      GetElem(Lb,i,&amp;e);<br/>      <span style=\"color:#268ad1;\">if</span>(!LocateElem(La,e)){<br/>         ListInsert(La,++La_len,e);<br/>      }<br/>   }<br/>   <span style=\"color:#268ad1;\">for</span>(i=<span style=\"color:#cb4b16;\">0</span>;i&lt;La<span style=\"color:#859900;\">-&gt;</span>length;i++){<br/>        printf(<span style=\"color:#2aa198;\">&quot;%d</span><span style=\"color:#859900;\">\\n</span><span style=\"color:#2aa198;\">&quot;</span>,La<span style=\"color:#859900;\">-&gt;</span>data[i]);<br/>    }<br/>   <span style=\"color:#268ad1;\">return </span><span style=\"color:#cb4b16;\">1</span>;<br/>}  <br/><br/><span style=\"color:#268ad1;\">int </span>LocateElem(SqList *La,ElemType e)<br/>{<br/>    <span style=\"color:#268ad1;\">int </span>i;<br/>    <span style=\"color:#268ad1;\">for</span>(i=<span style=\"color:#cb4b16;\">0</span>;i&lt;La<span style=\"color:#859900;\">-&gt;</span>length;i++){<br/>        <span style=\"color:#268ad1;\">if</span>(La<span style=\"color:#859900;\">-&gt;</span>data[i] == e){<br/>            <span style=\"color:#268ad1;\">return </span>i+<span style=\"color:#cb4b16;\">1</span>;<br/>        }<br/>    }<br/>    <span style=\"color:#268ad1;\">return </span><span style=\"color:#cb4b16;\">0</span>;<br/>}<br/><span style=\"color:#268ad1;\">int </span>ListLength(SqList La)<br/>{<br/>    <span style=\"color:#268ad1;\">return sizeof</span>(La.length);<br/>}<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">假设上面</span><span style=\"color:#93a1a1;font-style:italic;\">ElemType</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">占用的</span><span style=\"color:#93a1a1;font-style:italic;\">c</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">个存储单元（字节）<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">那么线性表中第</span><span style=\"color:#93a1a1;font-style:italic;\">i+1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">个数据元素和第</span><span style=\"color:#93a1a1;font-style:italic;\">i</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">个数据元素的存储位置的关系是<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// LOC(ai+1) = LOC(ai)+c</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">（</span><span style=\"color:#93a1a1;font-style:italic;\">LOC</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表示获得存储位置的函数）<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">所以对于第</span><span style=\"color:#93a1a1;font-style:italic;\">i</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">个数据元素</span><span style=\"color:#93a1a1;font-style:italic;\">ai</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的存储位置可以有</span><span style=\"color:#93a1a1;font-style:italic;\">a1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">推算得出<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// LOC(ai) =LOC(a1) + (i-1)*c<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// O(1) </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">通常称为随机存储结构，性能最高<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">实现</span><span style=\"color:#93a1a1;font-style:italic;\"> GetElem<br/></span>Status GetElem(SqList L, <span style=\"color:#268ad1;\">int </span>i, ElemType *e)<br/>{<br/>   <span style=\"color:#268ad1;\">if</span>(L.length == <span style=\"color:#cb4b16;\">0 </span>|| i&lt;<span style=\"color:#cb4b16;\">1 </span>|| i&gt;L.length)<br/>   {<br/>      <span style=\"color:#268ad1;\">return </span>ERROR;<br/>   }<br/>   *e = L.data[i-1];<br/>   <span style=\"color:#268ad1;\">return </span>OK;<br/>}<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">实现</span><span style=\"color:#93a1a1;font-style:italic;\">ListInsert(*L,i,e)<br/></span>Status ListInsert(SqList *L,<span style=\"color:#268ad1;\">int </span>i,ElemType e)<br/>{<br/>   <span style=\"color:#268ad1;\">int </span>k;<br/>   <span style=\"color:#268ad1;\">if</span>(L<span style=\"color:#859900;\">-&gt;</span>length == MAXSIZE)<br/>   {<br/>      <span style=\"color:#268ad1;\">return </span>ERROR;<br/>   }<br/>   <span style=\"color:#268ad1;\">if</span>(i&lt;<span style=\"color:#cb4b16;\">1 </span>|| i&gt;L<span style=\"color:#859900;\">-&gt;</span>length+<span style=\"color:#cb4b16;\">1</span>)<br/>   {<br/>      <span style=\"color:#268ad1;\">return </span>ERROR;<br/>   }<br/>   <span style=\"color:#268ad1;\">if</span>(i&lt;=L<span style=\"color:#859900;\">-&gt;</span>length)<br/>   {<br/>      <span style=\"color:#268ad1;\">for</span>(k=L<span style=\"color:#859900;\">-&gt;</span>length-1;k&gt;= i-1;k--)<br/>      {<br/>         L<span style=\"color:#859900;\">-&gt;</span>data[k+<span style=\"color:#cb4b16;\">1</span>] = L<span style=\"color:#859900;\">-&gt;</span>data[k];<br/>      }<br/>   }<br/>   L<span style=\"color:#859900;\">-&gt;</span>data[i-1] = e;<br/>   L<span style=\"color:#859900;\">-&gt;</span>length++;<br/>   <span style=\"color:#268ad1;\">return </span>OK;<br/>}<br/><br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">实现</span><span style=\"color:#93a1a1;font-style:italic;\">ListDelete(*L,i,e)<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">时间复杂度</span><span style=\"color:#93a1a1;font-style:italic;\"> O</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">（</span><span style=\"color:#93a1a1;font-style:italic;\">1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">）</span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp;O</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">（（</span><span style=\"color:#93a1a1;font-style:italic;\">n-1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">）</span><span style=\"color:#93a1a1;font-style:italic;\">/2</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">）</span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; O</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">（</span><span style=\"color:#93a1a1;font-style:italic;\">n</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">）<br/></span>Status ListDelete(SqList *L,<span style=\"color:#268ad1;\">int </span>i,ElemType e)<br/>{<br/>   <span style=\"color:#268ad1;\">int </span>k;<br/>   <span style=\"color:#268ad1;\">if</span>(L<span style=\"color:#859900;\">-&gt;</span>length == <span style=\"color:#cb4b16;\">0</span>)<br/>   {<br/>       <span style=\"color:#268ad1;\">return </span>ERROR;<br/>   }<br/>   <span style=\"color:#268ad1;\">if</span>(i&lt;<span style=\"color:#cb4b16;\">1 </span>|| i&gt;L<span style=\"color:#859900;\">-&gt;</span>length)<br/>   {<br/>      <span style=\"color:#268ad1;\">return </span>ERROR;<br/>   }<br/>   <span style=\"color:#93a1a1;font-style:italic;\">//*e = L-&gt;data[i-1];<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; </span><span style=\"color:#268ad1;\">if</span>(i&lt;=L<span style=\"color:#859900;\">-&gt;</span>length)<br/>   {<br/>      <span style=\"color:#268ad1;\">for</span>(k=i;k &lt; L<span style=\"color:#859900;\">-&gt;</span>length;k++)<br/>      {<br/>         L<span style=\"color:#859900;\">-&gt;</span>data[k] = L<span style=\"color:#859900;\">-&gt;</span>data[k+<span style=\"color:#cb4b16;\">1</span>];<br/>      }<br/>   }<br/>   L<span style=\"color:#859900;\">-&gt;</span>length--;<br/>   <span style=\"color:#268ad1;\">return </span>OK;<br/>}<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">线性表。适合元素个数比较稳定，不经常插入和产出元素。更多是存取数据的应用<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">优点<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// 1.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">无须为元素之间逻辑关系增加额外的存储空间<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// 2.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">快速存取<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">缺点<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// 1.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">插入和删除操作需要移动大量元素<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// 2.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">当长度变化大，难以确定存储空间的容量<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// 3.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">容易造成存空间的</span><span style=\"color:#93a1a1;font-style:italic;\">“</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">碎片</span><span style=\"color:#93a1a1;font-style:italic;\">”<br/></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\"></span><br/></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;宋体&#39;;font-size:12.0pt;\"><span style=\"white-space: nowrap;\"></span><br/></pre><p>/**</p><p>2018-05-23 2202&nbsp;线性表笔记</p><p>**/</p>', '2018-05-23 20:24:49', '2018-05-24 22:08:13', null, null, '96', '0', '0', '/index/article/show/id/14.html');
INSERT INTO `blog_article` VALUES ('15', '17', '操作系统-001', 'error', '1.用户角度上，操作系统是一个控制软件管理应用程序为应用程序提供服务杀死应用程序2.资源管理管理外设、分配资源3.CPU=&gt;&nbsp; 进程&nbsp; 磁盘=&gt;文件&nbsp; 内存=&gt;地址空间&nbsp; （通过操作系统连接）4.操作系统层次架构硬件之上应用程序之下5.Linux Windows Android的界面属于外壳（Shell），而不是内核（Kernel），Kerenl为重点6.Kernel-操作系统内部组件，包括：CPU调度器物理内存管理虚拟内存管理文件系统管', '', '<p>1.用户角度上，操作系统是一个控制软件</p><p><br/></p><p>管理应用程序</p><p><br/></p><p>为应用程序提供服务</p><p><br/></p><p>杀死应用程序</p><p><br/></p><p>2.资源管理</p><p><br/></p><p>管理外设、分配资源</p><p><br/></p><p>3.CPU=&gt;&nbsp; 进程&nbsp; 磁盘=&gt;文件&nbsp; 内存=&gt;地址空间&nbsp; （通过操作系统连接）</p><p><br/></p><p>4.操作系统层次架构</p><p>硬件之上</p><p>应用程序之下</p><p><br/></p><p>5.Linux Windows Android的界面属于外壳（Shell），而不是内核（Kernel），Kerenl为重点</p><p><br/></p><p>6.Kernel-操作系统内部组件，包括：</p><p>CPU调度器</p><p>物理内存管理</p><p>虚拟内存管理</p><p>文件系统管理</p><p>中断处理与设备驱动</p><p><br/></p><p>7.OS Kernel特征</p><p>并发</p><p>&nbsp; &nbsp; &nbsp;计算机系统中同时存在多个运行的程序，需要OS管理和调度</p><p>共享</p><p>&nbsp; &nbsp; “同时”访问</p><p>&nbsp; &nbsp; &nbsp; 互斥共享</p><p>虚拟</p><p>异步</p><p>&nbsp; &nbsp; &nbsp; &nbsp;程序的执行不是一贯到底。而是走走停停，向前推进的速度不可预知</p><p>&nbsp; &nbsp; &nbsp; &nbsp;但只要运行环境相同。OS需要保证程序运行的结果也要相同</p><p>&nbsp; &nbsp; &nbsp;</p><p>2018-05-23 2247 OS</p>', '2018-05-23 22:19:03', '2018-05-23 22:45:23', null, null, '110', '0', '0', '/index/article/show/id/15.html');
INSERT INTO `blog_article` VALUES ('16', '15', '计算机网络的体系结构', '体系结构', 'OSI 7层Apllication（应用层）：用户交互，能够产生网络流量Presentation（表示层）：加密 压缩  ASSCI  还是 二进制 开发人员要考虑的问题（比如乱码问题）Session（会话层）：服务和客户端建立的会话  查木马 netstat -nb病毒（破坏资源/系统） 木马（盗窃信息，远程控制）Transport（传输层）：可靠传输，不可靠传输，流量控制Network（网络层）：IP地址编址&n', '', '<p>OSI 7层</p><p>Apllication（应用层）：用户交互，能够产生网络流量</p><p><br/></p><p>Presentation（表示层）：加密&nbsp;压缩&nbsp; ASSCI&nbsp; 还是&nbsp;二进制&nbsp;开发人员要考虑的问题（比如乱码问题）</p><p><br/></p><p>Session（会话层）：服务和客户端建立的会话&nbsp; 查木马&nbsp;netstat -nb</p><p>病毒（破坏资源/系统）&nbsp;木马（盗窃信息，远程控制）</p><p><br/></p><p>Transport（传输层）：可靠传输，不可靠传输，流量控制</p><p><br/></p><p>Network（网络层）：IP地址编址&nbsp;选择最佳路径</p><p><br/></p><p>Data Link（数据链路层）：数据如何封装&nbsp; 添加物理层地址 MAC</p><p><br/></p><p>Physical（物理层）：电压&nbsp;接口标准</p><p><br/></p><p>2018-05-23 2314</p><p><br/></p><p><br/></p><p><br/></p><p>2018-05-28 2150</p><p>计算机网络的体系结构</p><p><br/></p><p>5&nbsp;应用层&nbsp; （传输数据单元PDU）&nbsp; &nbsp;数据</p><p>4 运输层&nbsp; （运输层保温）&nbsp; &nbsp; 数据分段，编号</p><p>3.网络层&nbsp; （IP数据报（IP分组））&nbsp; 添加IP地址</p><p>2.数据链路层 （数据帧）&nbsp; 添加物理地址mac</p><p>1.物理层（010101）&nbsp; &nbsp;转化为帧</p><p><br/></p><p><br/></p><p><br/></p><p>练习1：</p><p>&nbsp;查看会话</p><p>&nbsp;查看建立会话的程序</p><p>&nbsp; ping&nbsp; www.baidu.com</p><p>&nbsp; ping&nbsp;www.inhe.net</p><p>&nbsp; 查看计算机状态</p><p><br/></p>', '2018-05-23 22:45:28', '2018-05-28 22:07:05', null, null, '98', '0', '0', '/index/article/show/id/16.html');
INSERT INTO `blog_article` VALUES ('17', '9', 'TP5 多语言', 'THINKPHP5 多语言', 'tp5之多语言笔记一.配置1.开启语言包功能&#39;lang_switch_on&#39; =&gt; true,2.支持的语言列表&#39;lang_list&#39; =&gt; [&#39;zh-cn&#39;,&#39;en-us&#39;],二.语言定义(默认语言无需定义,下面会提到原因及使用)方法1.文件定义框架或模块目录\\lang\\zh-cn.phpreturn [&nbsp; &nbsp; &#39;按钮1&#39;=&gt;&#39;中文按钮1&#39;,//表示模板内使用{', '', '<p><span style=\"white-space: nowrap\">tp5之多语言笔记</span></p><p><span style=\"white-space: nowrap\">一.配置</span></p><p><span style=\"white-space: nowrap\">1.开启语言包功能</span></p><p><span style=\"white-space: nowrap\">&#39;lang_switch_on&#39; =&gt; true,</span></p><p><span style=\"white-space: nowrap\">2.支持的语言列表</span></p><p><span style=\"white-space: nowrap\">&#39;lang_list&#39; =&gt; [&#39;zh-cn&#39;,&#39;en-us&#39;],</span></p><p><span style=\"white-space: nowrap\">二.语言定义(默认语言无需定义,下面会提到原因及使用)方法</span></p><p><span style=\"white-space: nowrap\">1.文件定义</span></p><p><span style=\"white-space: nowrap\">框架或模块目录\\lang\\zh-cn.php</span></p><p><span style=\"white-space: nowrap\">return [</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &#39;按钮1&#39;=&gt;&#39;中文按钮1&#39;,//表示模板内使用{:lang(&#39;按钮1&#39;)}获得的字符在中文状态下显示为中文按钮1</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &#39;按钮2&#39;=&gt;&#39;中文按钮2&#39;,</span></p><p><span style=\"white-space: nowrap\">];</span></p><p><span style=\"white-space: nowrap\">框架或模块目录\\lang\\en-us.php</span></p><p><span style=\"white-space: nowrap\">return [</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &#39;按钮1&#39;=&gt;&#39;button1&#39;,//表示模板内使用{:lang(&#39;按钮1&#39;)}获得的字符在英文状态下显示为button1</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &#39;按钮2&#39;=&gt;&#39;button2&#39;,</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &#39;其它语言变量&#39;=&gt;&#39;Other language variables&#39;,</span></p><p><span style=\"white-space: nowrap\">];</span></p><p><span style=\"white-space: nowrap\">ps:如果还需要加载其他的语言包，可以在自动检测语言之后，用load方法进行加载：</span></p><p><span style=\"white-space: nowrap\">\\think\\Lang::load(路径\\lang\\语言.php&#39;);</span></p><p><span style=\"white-space: nowrap\">2.动态定义在控制器方法中</span></p><p><span style=\"white-space: nowrap\">a.单个设置</span></p><p><span style=\"white-space: nowrap\">\\think\\Lang::set($name, $value,&#39;zh-cn&#39;);//$name $value是键值对</span></p><p><span style=\"white-space: nowrap\">\\think\\Lang::set($name, $value,&#39;en-us&#39;);</span></p><p><span style=\"white-space: nowrap\">如\\think\\Lang::set(&#39;按钮&#39;, &#39;button&#39;,&#39;en-us&#39;);//表示模板内使用{:lang(&#39;按钮&#39;)}获得的字符在英文状态下显示为button</span></p><p><span style=\"white-space: nowrap\">b.批量设置</span></p><p><span style=\"white-space: nowrap\">\\think\\Lang::set([&#39;按钮1&#39;=&gt;&#39;button1&#39;,&#39;按钮2&#39;=&gt;&#39;button2&#39;],&#39;&#39;,&#39;en-us&#39;);</span></p><p><span style=\"white-space: nowrap\">ps:</span></p><p><span style=\"white-space: nowrap\">1.动态定义优先</span></p><p><span style=\"white-space: nowrap\">2.默认语言无需语言包或动态设置,控制器方法,模板内在需要的地方可以直接使用默认语言变量,再编写其它语言包或动态设置其它语言(需保证默认语言变量是其它语言变量的键值)即可切换,</span></p><p><span style=\"white-space: nowrap\">如使用语言为中(默认)英文,那么只要编写英文语言包</span></p><p><span style=\"white-space: nowrap\">return [</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &#39;中文&#39;=&gt;&#39;Chinese&#39;,</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; //.........</span></p><p><span style=\"white-space: nowrap\">];</span></p><p><span style=\"white-space: nowrap\">模板使用{:lang(&#39;中文&#39;)},那么在中文状态下会显示&#39;中文&#39;,英文状态下会显示&#39;Chinese&#39;,</span></p><p><span style=\"white-space: nowrap\">模板使用{:lang(&#39;中文中文&#39;)},那么在中英文状态下都会显示&#39;中文中文&#39;,英文状态下无效,因为中文语言变量&#39;中文中文&#39;与英文语言变量的键值&#39;中文&#39;不一致</span></p><p><span style=\"white-space: nowrap\"><br/></span></p><p><span style=\"white-space: nowrap\">三.在项目(貌似模块无效)公共文件(common.php)中选择自动侦测当前语言</span></p><p><span style=\"white-space: nowrap\">\\think\\Lang::detect();</span></p><p><span style=\"white-space: nowrap\">ps:convention.php里有个&#39;default_lang&#39; =&gt; &#39;zh-cn&#39;,貌似设置无效.为使之有效,可以修改detect方法如下</span></p><p><span style=\"white-space: nowrap\">public static function detect() {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; // 自动侦测设置获取语言选择</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; $langSet = Config::get(&#39;default_lang&#39;);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; if (isset($_GET[self::$langDetectVar])) {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; // url中设置了语言变量</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; $langSet = strtolower($_GET[self::$langDetectVar]);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; Cookie::set(self::$langCookieVar, $langSet, 3600);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; } elseif (Cookie::get(self::$langCookieVar)) {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; // 获取上次用户的选择</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; $langSet = strtolower(Cookie::get(self::$langCookieVar));</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; } elseif ($langSet) {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp;// 获取默认语言</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; Cookie::set(self::$langCookieVar, $langSet, 3600);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; } elseif (isset($_SERVER[&#39;HTTP_ACCEPT_LANGUAGE&#39;])) {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; // 自动侦测浏览器语言</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; preg_match(&#39;/^([a-z\\d\\-]+)/i&#39;, $_SERVER[&#39;HTTP_ACCEPT_LANGUAGE&#39;], $matches);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; $langSet = strtolower($matches[1]);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; Cookie::set(self::$langCookieVar, $langSet, 3600);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; }</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; if (empty(self::$allowLangList) || in_array($langSet, self::$allowLangList)) {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; // 合法的语言</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; self::$range = $langSet;</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; }</span></p><p><span style=\"white-space: nowrap\">}</span></p><p><span style=\"white-space: nowrap\">修改后,配置默认语言有效(当然须首先调用\\think\\Lang::detect();其它方法设置默认语言自己可以试试)</span></p><p><span style=\"white-space: nowrap\">修改后,自动侦测语言顺序:</span></p><p><span style=\"white-space: nowrap\">1.url参数lang的值,因为detect()在公共文件里执行,貌似永远获取不到</span></p><p><span style=\"white-space: nowrap\">2.获取上次用户的选择,也就是保存在cookie里的think_var的语言名称</span></p><p><span style=\"white-space: nowrap\">3.获取默认语言</span></p><p><span style=\"white-space: nowrap\">4.自动侦测浏览器语言</span></p><p><span style=\"white-space: nowrap\">四.控制器方法编写(模块/Index.php)</span></p><p><span style=\"white-space: nowrap\">public function index() {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; $view = new \\think\\View();</span></p><p>return $view-&gt;fetch();</p><p><span style=\"white-space: nowrap\">}</span></p><p><span style=\"white-space: nowrap\">public function lang() {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; switch ($_GET[&#39;lang&#39;]) {</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; case &#39;cn&#39;:</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cookie(&#39;think_var&#39;, &#39;zh-cn&#39;);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; break;</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; case &#39;en&#39;:</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cookie(&#39;think_var&#39;, &#39;en-us&#39;);</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; break;</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; &nbsp; &nbsp; //其它语言</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; }</span></p><p><span style=\"white-space: nowrap\">}</span></p><p><span style=\"white-space: nowrap\">五.模板使用(index.html)</span></p><p><span style=\"white-space: nowrap\">&lt;button type=&quot;button&quot;&gt;{:lang(&#39;按钮1&#39;)}&lt;/button&gt;</span></p><p><span style=\"white-space: nowrap\">&lt;button type=&quot;button&quot;&gt;{:lang(&#39;按钮2&#39;)}&lt;/button&gt;</span></p><p><span style=\"white-space: nowrap\">&lt;button type=&quot;button&quot; lang=&#39;其它语言&#39;&gt;{:lang(&#39;按钮3&#39;)}&lt;/button&gt;</span></p><p><span style=\"white-space: nowrap\">{:lang(&#39;其它语言变量&#39;)}</span></p><p><span style=\"white-space: nowrap\">语言的使用是通过设置cookie来实现的,由于cookie的特性,所以设置后需要刷新才能成功</span></p><p><span style=\"white-space: nowrap\">模板发送ajax请求成功后刷新页面</span></p><p><span style=\"white-space: nowrap\">&lt;script src=&quot;http://libs.baidu.com/jquery/1.10.2/jquery.js&quot;&gt;&lt;/script&gt;</span></p><p><span style=\"white-space: nowrap\">&lt;script&gt;</span></p><p><span style=\"white-space: nowrap\">$(&#39;.btn&#39;).click(function(){</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; var data={&#39;lang&#39;:$(this).attr(&#39;lang&#39;)}</span></p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; $.get(&quot;{:url(&#39;Index/lang&#39;)}&quot;,data,function(){</span></p><p>location.reload();</p><p><span style=\"white-space: nowrap\">&nbsp; &nbsp; })</span></p><p><span style=\"white-space: nowrap\">})</span></p><p><span style=\"white-space: nowrap\">&lt;/script&gt;</span></p><p><br/></p>', '2018-05-24 09:30:56', '2018-05-24 09:31:22', null, null, '102', '1', '0', '/index/article/show/id/17.html');
INSERT INTO `blog_article` VALUES ('18', '9', 'TP5 多语言应用，结合百度翻译API', '应用,结合,百度,翻译', '// 载入语言包public function _initialize(){    // 语言包路径    $enData = include (APP_PATH.\'pcshop/lang/en-us.php\');// 设置语言包\\think\\Lang::set($enData,\'\',\'en-us\');}public function lang() {    switch ($_GET[&', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:14px\"><p><span style=\"color:#93a1a1\"></span></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><p><span style=\"color:#859900;\"></span></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><p><span style=\"color:#93a1a1;font-style:italic;\"></span></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;font-style:italic;\">// config </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是否开启多语言<br/></span><span style=\"color:#2aa198;\">&#39;lang_switch_on&#39; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#859900;\">true</span>,<br/><span style=\"color:#2aa198;\">&#39;lang_list&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;zh-cn&#39;</span>,<span style=\"color:#2aa198;\">&#39;en-us&#39;</span><span style=\"color:#268bd2;\">]</span>,</pre><p><span style=\"color:#93a1a1;font-style:italic;\"></span><br/></p><p><span style=\"color:#93a1a1;font-style:italic;\"><br/></span></p><p><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">载入语言包<br/></span></p><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">_initialize</span>()<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">语言包路径<br/></span><p><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$enData </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">include </span>(<span style=\"color:#d33682;\">APP_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;pcshop/lang/en-us.php&#39;</span>);</p><p>// 设置语言包</p>\\<span style=\"color:#839496;\">think</span>\\<span style=\"color:#b58900;\">Lang</span><span style=\"color:#079a71;\">::</span><span style=\"color:#969483;\">set</span>(<span style=\"color:#268bd2;\">$enData</span>,<span style=\"color:#2aa198;\">&#39;&#39;</span>,<span style=\"color:#2aa198;\">&#39;en-us&#39;</span>);<span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\">}</span></pre><p><span style=\"color:#859900;\"></span><br/></p><p><span style=\"color:#859900;\"><br/></span></p><p><span style=\"color:#859900;\"><br/></span></p><p><span style=\"color:#859900;\"><br/></span></p><p><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">lang</span>() <span style=\"color:#dc322f;\">{<br/></span></p><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">switch </span>(<span style=\"color:#268bd2;\">$_GET[</span><span style=\"color:#2aa198;\">&#39;lang&#39;</span><span style=\"color:#268bd2;\">]</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">case </span><span style=\"color:#2aa198;\">&#39;cn&#39;</span><span style=\"color:#079a71;\">:<br/></span><span style=\"color:#079a71;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#839496;\">cookie</span>(<span style=\"color:#2aa198;\">&#39;think_var&#39;</span>, <span style=\"color:#2aa198;\">&#39;zh-cn&#39;</span>);<br/>            <span style=\"color:#859900;\">break</span>;<br/>        <span style=\"color:#859900;\">case </span><span style=\"color:#2aa198;\">&#39;en&#39;</span><span style=\"color:#079a71;\">:<br/></span><span style=\"color:#079a71;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#839496;\">cookie</span>(<span style=\"color:#2aa198;\">&#39;think_var&#39;</span>, <span style=\"color:#2aa198;\">&#39;en-us&#39;</span>);<br/>            <span style=\"color:#859900;\">break</span>;<br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">其它语言<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\">}</span></pre><p><span style=\"color:#93a1a1\"></span><br/></p><p><span style=\"color:#93a1a1\"><br/></span></p><p><span style=\"color:#93a1a1\"><br/></span></p><p><span style=\"color:#93a1a1\"><br/></span></p><p><span style=\"color:#93a1a1\">// HTML代码</span></p><p><span style=\"color:#93a1a1\">&lt;!DOCTYPE </span><span style=\"color:#839496\">html</span><span style=\"color:#93a1a1\">&gt;<br/></span></p><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">html </span><span style=\"color:#839496\">lang=</span><span style=\"color:#2aa198\">&quot;en&quot;</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">head</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold\">meta </span><span style=\"color:#839496\">charset=</span><span style=\"color:#2aa198\">&quot;UTF-8&quot;</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold\">title</span><span style=\"color:#93a1a1\">&gt;</span>Title<span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">title</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">head</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">body</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">button </span><span style=\"color:#839496\">type=</span><span style=\"color:#2aa198\">&quot;button&quot; </span><span style=\"color:#839496\">lang=</span><span style=\"color:#2aa198\">&#39;cn&#39; </span><span style=\"color:#839496\">class=</span><span style=\"color:#2aa198\">&#39;btn&#39;</span><span style=\"color:#93a1a1\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;\">按钮</span>1&#39;)}<span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">button</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">button </span><span style=\"color:#839496\">type=</span><span style=\"color:#2aa198\">&quot;button&quot; </span><span style=\"color:#839496\">lang=</span><span style=\"color:#2aa198\">&#39;en&#39; </span><span style=\"color:#839496\">class=</span><span style=\"color:#2aa198\">&#39;btn&#39;</span><span style=\"color:#93a1a1\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;\">按钮</span>2&#39;)}<span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">button</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">button </span><span style=\"color:#839496\">type=</span><span style=\"color:#2aa198\">&quot;button&quot; </span><span style=\"color:#839496\">lang=</span><span style=\"color:#2aa198\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;\">其它语言</span><span style=\"color:#2aa198\">&#39; </span><span style=\"color:#839496\">class=</span><span style=\"color:#2aa198\">&#39;btn&#39;</span><span style=\"color:#93a1a1\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;\">按钮</span>3&#39;)}<span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">button</span><span style=\"color:#93a1a1\">&gt;<br/></span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;\">其它语言变量</span>&#39;)}<br/><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">script </span><span style=\"color:#839496\">src=</span><span style=\"color:#2aa198\">&quot;http://libs.baidu.com/jquery/1.10.2/jquery.js&quot;</span><span style=\"color:#93a1a1\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">script</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;</span><span style=\"color:#268bd2;font-weight:bold\">script</span><span style=\"color:#93a1a1\">&gt;<br/></span> <span style=\"color:#b58900\">$</span>(<span style=\"color:#2aa198\">&#39;.</span><span style=\"color:#859900\">btn</span><span style=\"color:#2aa198\">&#39;</span>).<span style=\"color:#7a7a43\">click</span>(<span style=\"color:#859900\">function</span>()<span style=\"color:#dc322f\">{<br/></span> <span style=\"color:#859900\">var </span><span style=\"color:#458383\">data</span><span style=\"color:#079a71\">=</span><span style=\"color:#dc322f\">{</span><span style=\"color:#2aa198\">&#39;lang&#39;</span><span style=\"color:#079a71\">:</span><span style=\"color:#b58900\">$</span>(<span style=\"color:#859900\">this</span>).<span style=\"color:#7a7a43\">attr</span>(<span style=\"color:#2aa198\">&#39;lang&#39;</span>)<span style=\"color:#dc322f\">}<br/></span> <span style=\"color:#b58900\">$</span>.<span style=\"color:#7a7a43\">get</span>(<span style=\"color:#2aa198\">&quot;{:url(&#39;/index/Index/lang&#39;)}&quot;</span>,<span style=\"color:#458383\">data</span>,<span style=\"color:#859900\">function</span>()<span style=\"color:#dc322f\">{<br/></span> <span style=\"color:#660e7a;font-weight:bold;font-style:italic\">location</span>.<span style=\"color:#7a7a43\">reload</span>();<br/>        <span style=\"color:#dc322f\">}</span>)<br/>    <span style=\"color:#dc322f\">}</span>)<br/><span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">script</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">body</span><span style=\"color:#93a1a1\">&gt;<br/></span><span style=\"color:#93a1a1\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold\">html</span><span style=\"color:#93a1a1\">&gt;</span></pre><p><br/></p><p><br/></p><p>下面来记录百度翻译API，以及根据我们Cn的变量批量翻译为其他国家语言</p><p><br/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#268bd2;\">$trans </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">Chen</span>();<br/><span style=\"color:#268bd2;\">$cnData </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">include </span>(<span style=\"color:#d33682;\">APP_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;pcshop/lang/zh-cn.php&#39;</span>);<br/><span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&#39;&lt;pre /&gt;&#39;</span>;<br/><span style=\"color:#93a1a1;font-style:italic;\">//print_r($cnData);<br/></span><span style=\"color:#268bd2;\">$enData </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[]</span>;<br/><span style=\"color:#859900;\">foreach </span>(<span style=\"color:#268bd2;\">$cnData </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$k1</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$v1</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$en &nbsp;</span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$trans</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">translate</span>(<span style=\"color:#268bd2;\">$k1</span>,<span style=\"color:#2aa198;\">&#39;zh&#39;</span>,<span style=\"color:#2aa198;\">&#39;en&#39;</span>);<br/>    <span style=\"color:#268bd2;\">$enValue </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$en[</span><span style=\"color:#2aa198;\">&#39;trans_result&#39;</span><span style=\"color:#268bd2;\">][</span><span style=\"color:#2aa198;\">0</span><span style=\"color:#268bd2;\">][</span><span style=\"color:#2aa198;\">&#39;dst&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>    <span style=\"color:#268bd2;\">$enData[$k1] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$enValue</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#268bd2;\">$cont </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">var_export</span>(<span style=\"color:#268bd2;\">$enData</span>,<span style=\"color:#859900;\">true</span>);<br/><span style=\"color:#969483;font-style:italic;\">file_put_contents</span>(<span style=\"color:#d33682;\">APP_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;pcshop/lang/en-us.php&#39;</span>,<span style=\"color:#2aa198;\">&#39;&lt;?php return &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$cont</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;;&#39;</span>);</pre><p><br/></p><p><br/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#dc322f;\">&lt;?php<br/></span><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Created by whlphper.<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * User: Administrator<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Date: 2018/5/24 0024<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Time: </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">下午 </span><span style=\"color:#93a1a1;font-style:italic;\">1:32<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Desc:<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> */<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#859900;\">namespace </span><span style=\"color:#839496;\">Transport</span>;<br/><br/><span style=\"color:#969483;font-style:italic;\">define</span>(<span style=\"color:#2aa198;\">&quot;CURL_TIMEOUT&quot;</span>, <span style=\"color:#2aa198;\">10</span>);<br/><span style=\"color:#969483;font-style:italic;\">define</span>(<span style=\"color:#2aa198;\">&quot;URL&quot;</span>, <span style=\"color:#2aa198;\">&quot;http://api.fanyi.baidu.com/api/trans/vip/translate&quot;</span>);<br/><span style=\"color:#969483;font-style:italic;\">define</span>(<span style=\"color:#2aa198;\">&quot;APP_ID&quot;</span>, <span style=\"color:#2aa198;\">&quot;20180524000165621&quot;</span>); <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">替换为您的</span><span style=\"color:#93a1a1;font-style:italic;\">APPID<br/></span><span style=\"color:#969483;font-style:italic;\">define</span>(<span style=\"color:#2aa198;\">&quot;SEC_KEY&quot;</span>, <span style=\"color:#2aa198;\">&quot;I_GGmnnKEFjE4rSQBgJ7&quot;</span>);<span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">替换为您的密钥<br/></span><span style=\"color:#859900;\">class </span><span style=\"color:#b58900;\">Chen<br/></span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">@file </span><span style=\"color:#93a1a1;font-style:italic;\">baidu_transapi.php<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">@author </span><span style=\"color:#93a1a1;font-style:italic;\">mouyantao(</span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">mouyantao@baidu.com</span><span style=\"color:#93a1a1;font-style:italic;\">)<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">@date </span><span style=\"color:#93a1a1;font-style:italic;\">2015/06/23 14:32:18<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">@brief<br/></span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\"> &nbsp; &nbsp; </span><span style=\"color:#93a1a1;font-style:italic;\">*<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; **/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">翻译入口<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">translate</span>(<span style=\"color:#268bd2;\">$query</span>, <span style=\"color:#268bd2;\">$from</span>, <span style=\"color:#268bd2;\">$to</span>)<br/>    <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$args </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>(<br/>            <span style=\"color:#2aa198;\">&#39;q&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$query</span>,<br/>            <span style=\"color:#2aa198;\">&#39;appid&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#d33682;\">APP_ID</span>,<br/>            <span style=\"color:#2aa198;\">&#39;salt&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#969483;font-style:italic;\">rand</span>(<span style=\"color:#2aa198;\">10000</span>, <span style=\"color:#2aa198;\">99999</span>),<br/>            <span style=\"color:#2aa198;\">&#39;from&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$from</span>,<br/>            <span style=\"color:#2aa198;\">&#39;to&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$to</span>,<br/><br/>        );<br/>        <span style=\"color:#268bd2;\">$args[</span><span style=\"color:#2aa198;\">&#39;sign&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">buildSign</span>(<span style=\"color:#268bd2;\">$query</span>, <span style=\"color:#d33682;\">APP_ID</span>, <span style=\"color:#268bd2;\">$args[</span><span style=\"color:#2aa198;\">&#39;salt&#39;</span><span style=\"color:#268bd2;\">]</span>, <span style=\"color:#d33682;\">SEC_KEY</span>);<br/>        <span style=\"color:#268bd2;\">$ret </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">call</span>(<span style=\"color:#d33682;\">URL</span>, <span style=\"color:#268bd2;\">$args</span>);<br/>        <span style=\"color:#268bd2;\">$ret </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">json_decode</span>(<span style=\"color:#268bd2;\">$ret</span>, <span style=\"color:#859900;\">true</span>);<br/>        <span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$ret</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">加密<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">buildSign</span>(<span style=\"color:#268bd2;\">$query</span>, <span style=\"color:#268bd2;\">$appID</span>, <span style=\"color:#268bd2;\">$salt</span>, <span style=\"color:#268bd2;\">$secKey</span>)<br/>    <span style=\"color:#dc322f;\">{</span><span style=\"color:#93a1a1;font-style:italic;\">/*{{{*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$str </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$appID </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$query </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$salt </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$secKey</span>;<br/>        <span style=\"color:#268bd2;\">$ret </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">md5</span>(<span style=\"color:#268bd2;\">$str</span>);<br/>        <span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$ret</span>;<br/>    <span style=\"color:#dc322f;\">}</span><span style=\"color:#93a1a1;font-style:italic;\">/*}}}*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发起网络请求<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">call</span>(<span style=\"color:#268bd2;\">$url</span>, <span style=\"color:#268bd2;\">$args </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">null</span>, <span style=\"color:#268bd2;\">$method </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;post&quot;</span>, <span style=\"color:#268bd2;\">$testflag </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>, <span style=\"color:#268bd2;\">$timeout </span><span style=\"color:#079a71;\">= </span><span style=\"color:#d33682;\">CURL_TIMEOUT</span>, <span style=\"color:#268bd2;\">$headers </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>())<br/>    <span style=\"color:#dc322f;\">{</span><span style=\"color:#93a1a1;font-style:italic;\">/*{{{*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ret </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">false</span>;<br/>        <span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>;<br/>        <span style=\"color:#859900;\">while </span>(<span style=\"color:#268bd2;\">$ret </span><span style=\"color:#079a71;\">=== </span><span style=\"color:#859900;\">false</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if </span>(<span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#2aa198;\">1</span>)<br/>                <span style=\"color:#859900;\">break</span>;<br/>            <span style=\"color:#859900;\">if </span>(<span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#2aa198;\">0</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">sleep</span>(<span style=\"color:#2aa198;\">1</span>);<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ret </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">callOnce</span>(<span style=\"color:#268bd2;\">$url</span>, <span style=\"color:#268bd2;\">$args</span>, <span style=\"color:#268bd2;\">$method</span>, <span style=\"color:#859900;\">false</span>, <span style=\"color:#268bd2;\">$timeout</span>, <span style=\"color:#268bd2;\">$headers</span>);<br/>            <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">++</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$ret</span>;<br/>    <span style=\"color:#dc322f;\">}</span><span style=\"color:#93a1a1;font-style:italic;\">/*}}}*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">callOnce</span>(<span style=\"color:#268bd2;\">$url</span>, <span style=\"color:#268bd2;\">$args </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">null</span>, <span style=\"color:#268bd2;\">$method </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;post&quot;</span>, <span style=\"color:#268bd2;\">$withCookie </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">false</span>, <span style=\"color:#268bd2;\">$timeout </span><span style=\"color:#079a71;\">= </span><span style=\"color:#d33682;\">CURL_TIMEOUT</span>, <span style=\"color:#268bd2;\">$headers </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>())<br/>    <span style=\"color:#dc322f;\">{</span><span style=\"color:#93a1a1;font-style:italic;\">/*{{{*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ch </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">curl_init</span>();<br/>        <span style=\"color:#859900;\">if </span>(<span style=\"color:#268bd2;\">$method </span><span style=\"color:#079a71;\">== </span><span style=\"color:#2aa198;\">&quot;post&quot;</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">convert</span>(<span style=\"color:#268bd2;\">$args</span>);<br/>            <span style=\"color:#969483;font-style:italic;\">curl_setopt</span>(<span style=\"color:#268bd2;\">$ch</span>, <span style=\"color:#d33682;\">CURLOPT_POSTFIELDS</span>, <span style=\"color:#268bd2;\">$data</span>);<br/>            <span style=\"color:#969483;font-style:italic;\">curl_setopt</span>(<span style=\"color:#268bd2;\">$ch</span>, <span style=\"color:#d33682;\">CURLOPT_POST</span>, <span style=\"color:#2aa198;\">1</span>);<br/>        <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#839496;\">convert</span>(<span style=\"color:#268bd2;\">$args</span>);<br/>            <span style=\"color:#859900;\">if </span>(<span style=\"color:#268bd2;\">$data</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if </span>(<span style=\"color:#969483;font-style:italic;\">stripos</span>(<span style=\"color:#268bd2;\">$url</span>, <span style=\"color:#2aa198;\">&quot;?&quot;</span>) <span style=\"color:#079a71;\">&gt; </span><span style=\"color:#2aa198;\">0</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$url </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#2aa198;\">&quot;&amp;</span><span style=\"color:#268bd2;\">$data</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>                <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$url </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#2aa198;\">&quot;?</span><span style=\"color:#268bd2;\">$data</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>                <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">curl_setopt</span>(<span style=\"color:#268bd2;\">$ch</span>, <span style=\"color:#d33682;\">CURLOPT_URL</span>, <span style=\"color:#268bd2;\">$url</span>);<br/>        <span style=\"color:#969483;font-style:italic;\">curl_setopt</span>(<span style=\"color:#268bd2;\">$ch</span>, <span style=\"color:#d33682;\">CURLOPT_TIMEOUT</span>, <span style=\"color:#268bd2;\">$timeout</span>);<br/>        <span style=\"color:#969483;font-style:italic;\">curl_setopt</span>(<span style=\"color:#268bd2;\">$ch</span>, <span style=\"color:#d33682;\">CURLOPT_RETURNTRANSFER</span>, <span style=\"color:#2aa198;\">1</span>);<br/>        <span style=\"color:#859900;\">if </span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#859900;\">empty</span>(<span style=\"color:#268bd2;\">$headers</span>)) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">curl_setopt</span>(<span style=\"color:#268bd2;\">$ch</span>, <span style=\"color:#d33682;\">CURLOPT_HTTPHEADER</span>, <span style=\"color:#268bd2;\">$headers</span>);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if </span>(<span style=\"color:#268bd2;\">$withCookie</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">curl_setopt</span>(<span style=\"color:#268bd2;\">$ch</span>, <span style=\"color:#d33682;\">CURLOPT_COOKIEJAR</span>, <span style=\"color:#268bd2;\">$_COOKIE</span>);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$r </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">curl_exec</span>(<span style=\"color:#268bd2;\">$ch</span>);<br/>        <span style=\"color:#969483;font-style:italic;\">curl_close</span>(<span style=\"color:#268bd2;\">$ch</span>);<br/>        <span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$r</span>;<br/>    <span style=\"color:#dc322f;\">}</span><span style=\"color:#93a1a1;font-style:italic;\">/*}}}*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">convert</span>(<span style=\"color:#079a71;\">&amp;</span><span style=\"color:#268bd2;\">$args</span>)<br/>    <span style=\"color:#dc322f;\">{</span><span style=\"color:#93a1a1;font-style:italic;\">/*{{{*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>        <span style=\"color:#859900;\">if </span>(<span style=\"color:#969483;font-style:italic;\">is_array</span>(<span style=\"color:#268bd2;\">$args</span>)) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">foreach </span>(<span style=\"color:#268bd2;\">$args </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$key </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$val</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if </span>(<span style=\"color:#969483;font-style:italic;\">is_array</span>(<span style=\"color:#268bd2;\">$val</span>)) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">foreach </span>(<span style=\"color:#268bd2;\">$val </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$k </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$v</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#268bd2;\">$key </span><span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&#39;[&#39; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$k </span><span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&#39;]=&#39; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#969483;font-style:italic;\">rawurlencode</span>(<span style=\"color:#268bd2;\">$v</span>) <span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&#39;&amp;&#39;</span>;<br/>                    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#268bd2;\">$key</span><span style=\"color:#2aa198;\">=&quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#969483;font-style:italic;\">rawurlencode</span>(<span style=\"color:#268bd2;\">$val</span>) <span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&quot;&amp;&quot;</span>;<br/>                <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#969483;font-style:italic;\">trim</span>(<span style=\"color:#268bd2;\">$data</span>, <span style=\"color:#2aa198;\">&quot;&amp;&quot;</span>);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$args</span>;<br/>    <span style=\"color:#dc322f;\">}</span><span style=\"color:#93a1a1;font-style:italic;\">/*}}}*/<br/></span><span style=\"color:#dc322f;\">}</span></pre><p><br/></p>', '2018-05-24 15:09:32', '2018-05-24 16:25:03', null, null, '270', '1', '1', '/index/article/show/id/18.html');
INSERT INTO `blog_article` VALUES ('19', '9', 'PHPMailer，thinkphp5', 'PHPMailer，thinkphp5', 'use PHPMailer\\src\\PHPMailer;// 发送验证码public function checkEmail(){ &nbsp; &nbsp;$email = input(&quot;email&quot;);    $result = model(&#39;user&#39;)-&gt;where(&#39;email&#39;, $email)-&gt;find();    if($result){ &nbsp; &nbsp; &nbsp; &nbsp;$code = $th', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><p><span style=\"font-size: 10.8pt; color: rgb(133, 153, 0);\">use </span><span style=\"font-size: 10.8pt; color: rgb(131, 148, 150);\">PHPMailer</span><span style=\"font-size: 10.8pt;\">\\</span><span style=\"font-size: 10.8pt; color: rgb(131, 148, 150);\">src</span><span style=\"font-size: 10.8pt;\">\\</span><span style=\"font-size: 10.8pt; color: rgb(131, 148, 150);\">PHPMailer</span><span style=\"font-size: 10.8pt;\">;</span><br/></p><p><span style=\"color:#859900;\"></span>// 发送验证码</p><p><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">checkEmail</span>()</p><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$email </span><span style=\"color:#079a71;\">= </span><span style=\"color:#839496;\">input</span>(<span style=\"color:#2aa198;\">&quot;email&quot;</span>);<br/>    <span style=\"color:#268bd2;\">$result </span><span style=\"color:#079a71;\">= </span><span style=\"color:#839496;\">model</span>(<span style=\"color:#2aa198;\">&#39;user&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">where</span>(<span style=\"color:#2aa198;\">&#39;email&#39;</span>, <span style=\"color:#268bd2;\">$email</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">find</span>();<br/>    <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$result</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$code </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">randNumber</span>(<span style=\"color:#2aa198;\">6</span>);<br/>        <span style=\"color:#268bd2;\">$emailRes </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">email</span>(<span style=\"color:#268bd2;\">$email</span>,<span style=\"color:#268bd2;\">$code</span>);<br/>        <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$emailRes[</span><span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">== </span><span style=\"color:#2aa198;\">1</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$sms[</span><span style=\"color:#2aa198;\">&#39;email&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$email</span>;<br/>            <span style=\"color:#268bd2;\">$sms[</span><span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$code</span>;<br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#839496;\">model</span>(<span style=\"color:#2aa198;\">&#39;Sms&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">where</span>(<span style=\"color:#2aa198;\">&#39;email&#39;</span>,<span style=\"color:#268bd2;\">$email</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">find</span>())<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#839496;\">model</span>(<span style=\"color:#2aa198;\">&#39;Sms&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">save</span>(<span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$code]</span>,<span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;email&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$email]</span>);<br/>            <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#839496;\">model</span>(<span style=\"color:#2aa198;\">&#39;Sms&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">save</span>(<span style=\"color:#268bd2;\">$sms</span>);<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$emailRes</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;code&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">0</span>, <span style=\"color:#2aa198;\">&#39;msg&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">账号不存在</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><p><span style=\"color:#dc322f;\"><br/></span></p><p><span style=\"color:#dc322f;\">// 修改密码</span></p><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">modifyPwd</span>()<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#839496;\">input</span>(<span style=\"color:#2aa198;\">&#39;post.&#39;</span>);<br/>    <span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">checkSmsCode</span>(<span style=\"color:#2aa198;\">&#39;email&#39;</span>,<span style=\"color:#268bd2;\">$data[</span><span style=\"color:#2aa198;\">&#39;email&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$data[</span><span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#268bd2;\">]</span>))<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;code&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">0</span>, <span style=\"color:#2aa198;\">&#39;msg&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">短信验证码错误</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">/*<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;if (!captcha_check($data[&#39;code&#39;])) {<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">验证失败</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;return [&#39;code&#39; =&gt; 0, &#39;msg&#39; =&gt; &#39;</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">验证码错误</span><span style=\"color:#93a1a1;font-style:italic;\">&#39;];<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;};*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#839496;\">model</span>(<span style=\"color:#2aa198;\">&#39;user&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">save</span>(<span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;password&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#969483;font-style:italic;\">md5</span>(<span style=\"color:#268bd2;\">$data[</span><span style=\"color:#2aa198;\">&#39;pwd&#39;</span><span style=\"color:#268bd2;\">]</span>)<span style=\"color:#268bd2;\">]</span>, <span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;email&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$data[</span><span style=\"color:#2aa198;\">&#39;email&#39;</span><span style=\"color:#268bd2;\">]]</span>);<br/>    <span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;code&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">1</span>, <span style=\"color:#2aa198;\">&#39;msg&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">密码修改成功</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><p><span style=\"color:#dc322f;\"><br/></span></p><p><span style=\"color:#dc322f;\">// 检查验证码</span></p><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">checkSmsCode</span>(<span style=\"color:#268bd2;\">$type</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;email&#39;</span>,<span style=\"color:#268bd2;\">$account</span>,<span style=\"color:#268bd2;\">$code</span>)<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$res </span><span style=\"color:#079a71;\">= </span><span style=\"color:#839496;\">model</span>(<span style=\"color:#2aa198;\">&#39;Sms&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">where</span>(<span style=\"color:#268bd2;\">$type</span>,<span style=\"color:#268bd2;\">$account</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">find</span>();<br/>    <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$res[</span><span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">!= </span><span style=\"color:#268bd2;\">$code</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return false</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">return true</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送邮箱验证码<br/></span><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">email</span>(<span style=\"color:#268bd2;\">$email</span>, <span style=\"color:#268bd2;\">$code </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;666&#39;</span>)<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">try </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$toemail </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$email</span>;<span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">定义收件人的邮箱<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">PHPMailer</span>();<br/>        <span style=\"color:#268bd2;\">$siteName </span><span style=\"color:#079a71;\">= </span><span style=\"color:#839496;\">model</span>(<span style=\"color:#2aa198;\">&#39;Config&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">where</span>(<span style=\"color:#2aa198;\">&#39;name&#39;</span>,<span style=\"color:#2aa198;\">&#39;siteName&#39;</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">value</span>(<span style=\"color:#2aa198;\">&#39;value&#39;</span>);<br/>        <span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">isSMTP</span>();<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">使用</span><span style=\"color:#93a1a1;font-style:italic;\">SMTP</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">服务<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">CharSet </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;utf8&quot;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">编码格式为</span><span style=\"color:#93a1a1;font-style:italic;\">utf8</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，不设置编码的话，中文会出现乱码<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Host </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;smtp.163.com&quot;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送方的</span><span style=\"color:#93a1a1;font-style:italic;\">SMTP</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">服务器地址<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">SMTPAuth </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">true</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是否使用身份验证<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Username </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;whlphper1994@163.com&quot;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送方的</span><span style=\"color:#93a1a1;font-style:italic;\">QQ</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">邮箱用户名，就是自己的邮箱名<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Password </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;whlphper1994&quot;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送方的邮箱密码，不是登录密码</span><span style=\"color:#93a1a1;font-style:italic;\">,</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是</span><span style=\"color:#93a1a1;font-style:italic;\">qq</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的第三方授权登录码</span><span style=\"color:#93a1a1;font-style:italic;\">,</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">要自己去开启</span><span style=\"color:#93a1a1;font-style:italic;\">,</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">在邮箱的设置</span><span style=\"color:#93a1a1;font-style:italic;\">-&gt;</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">账户</span><span style=\"color:#93a1a1;font-style:italic;\">-&gt;POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">服务 里面<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">SMTPSecure </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;ssl&quot;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">使用</span><span style=\"color:#93a1a1;font-style:italic;\">ssl</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">协议方式</span><span style=\"color:#93a1a1;font-style:italic;\">,<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Port </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;994&#39;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// QQ</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">邮箱的</span><span style=\"color:#93a1a1;font-style:italic;\">ssl</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">协议方式端口号是</span><span style=\"color:#93a1a1;font-style:italic;\">465/587<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setFrom</span>(<span style=\"color:#2aa198;\">&quot;whlphper1994@163.com&quot;</span>, <span style=\"color:#268bd2;\">$siteName</span>);<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置发件人信息，如邮件格式说明中的发件人</span><span style=\"color:#93a1a1;font-style:italic;\">,<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">addAddress</span>(<span style=\"color:#268bd2;\">$toemail</span>, <span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">用户</span><span style=\"color:#2aa198;\">&#39;</span>);<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置收件人信息，如邮件格式说明中的收件人<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//$mail-&gt;addReplyTo(&quot;xxxxx@qq.com&quot;,&quot;Reply&quot;);// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置回复人信息，指的是收件人收到邮件后，如果要回复，回复邮件将发送到的邮箱地址<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//$mail-&gt;addCC(&quot;xxx@163.com&quot;);// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置邮件抄送人，可以只写地址，上述的设置也可以只写地址</span><span style=\"color:#93a1a1;font-style:italic;\">(</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">这个人也能收到邮件</span><span style=\"color:#93a1a1;font-style:italic;\">)<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;//$mail-&gt;addBCC(&quot;xxx@163.com&quot;);// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置秘密抄送人</span><span style=\"color:#93a1a1;font-style:italic;\">(</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">这个人也能收到邮件</span><span style=\"color:#93a1a1;font-style:italic;\">)<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;//$mail-&gt;addAttachment(&quot;bug0.jpg&quot;);// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">添加附件<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Subject </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$siteName</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;-</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">找回密码</span><span style=\"color:#2aa198;\">&quot;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">邮件标题<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Body </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">您的验证码是</span><span style=\"color:#2aa198;\"> &lt;p style=&#39;color:red;&#39;&gt;&quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$code </span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;&lt;/p&gt;&quot;</span>;<span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">邮件正文<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">IsHTML</span>(<span style=\"color:#859900;\">true</span>); <span style=\"color:#93a1a1;font-style:italic;\">// send as HTML<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;//$mail-&gt;AltBody = &quot;This is the plain text</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">纯文本</span><span style=\"color:#93a1a1;font-style:italic;\">&quot;;// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">这个是设置纯文本方式显示的正文内容，如果不支持</span><span style=\"color:#93a1a1;font-style:italic;\">Html</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">方式，就会用到这个，基本无用<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if </span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">send</span>()) <span style=\"color:#dc322f;\">{</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送邮件<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">throw new </span>\\<span style=\"color:#839496;\">Exception</span>(<span style=\"color:#2aa198;\">&quot;Mailer Error: &quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$mail</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">ErrorInfo</span>);<br/>        <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;code&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">1</span>, <span style=\"color:#2aa198;\">&#39;msg&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">邮箱发送成功</span><span style=\"color:#2aa198;\">&#39;</span>,<span style=\"color:#2aa198;\">&#39;data&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$code]</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;} </span><span style=\"color:#859900;\">catch </span>(\\<span style=\"color:#839496;\">Exception </span><span style=\"color:#268bd2;\">$E</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;code&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">0</span>, <span style=\"color:#2aa198;\">&#39;msg&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$E</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getMessage</span>()<span style=\"color:#268bd2;\">]</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">randNumber</span>(<span style=\"color:#268bd2;\">$len</span>)<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$chars </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>(<br/>        <span style=\"color:#2aa198;\">&quot;a&quot;</span>, <span style=\"color:#2aa198;\">&quot;b&quot;</span>, <span style=\"color:#2aa198;\">&quot;c&quot;</span>, <span style=\"color:#2aa198;\">&quot;d&quot;</span>, <span style=\"color:#2aa198;\">&quot;e&quot;</span>, <span style=\"color:#2aa198;\">&quot;f&quot;</span>, <span style=\"color:#2aa198;\">&quot;g&quot;</span>, <span style=\"color:#2aa198;\">&quot;h&quot;</span>, <span style=\"color:#2aa198;\">&quot;i&quot;</span>, <span style=\"color:#2aa198;\">&quot;j&quot;</span>, <span style=\"color:#2aa198;\">&quot;k&quot;</span>,<br/>        <span style=\"color:#2aa198;\">&quot;l&quot;</span>, <span style=\"color:#2aa198;\">&quot;m&quot;</span>, <span style=\"color:#2aa198;\">&quot;n&quot;</span>, <span style=\"color:#2aa198;\">&quot;o&quot;</span>, <span style=\"color:#2aa198;\">&quot;p&quot;</span>, <span style=\"color:#2aa198;\">&quot;q&quot;</span>, <span style=\"color:#2aa198;\">&quot;r&quot;</span>, <span style=\"color:#2aa198;\">&quot;s&quot;</span>, <span style=\"color:#2aa198;\">&quot;t&quot;</span>, <span style=\"color:#2aa198;\">&quot;u&quot;</span>, <span style=\"color:#2aa198;\">&quot;v&quot;</span>,<br/>        <span style=\"color:#2aa198;\">&quot;w&quot;</span>, <span style=\"color:#2aa198;\">&quot;x&quot;</span>, <span style=\"color:#2aa198;\">&quot;y&quot;</span>, <span style=\"color:#2aa198;\">&quot;z&quot;</span>, <span style=\"color:#2aa198;\">&quot;A&quot;</span>, <span style=\"color:#2aa198;\">&quot;B&quot;</span>, <span style=\"color:#2aa198;\">&quot;C&quot;</span>, <span style=\"color:#2aa198;\">&quot;D&quot;</span>, <span style=\"color:#2aa198;\">&quot;E&quot;</span>, <span style=\"color:#2aa198;\">&quot;F&quot;</span>, <span style=\"color:#2aa198;\">&quot;G&quot;</span>,<br/>        <span style=\"color:#2aa198;\">&quot;H&quot;</span>, <span style=\"color:#2aa198;\">&quot;I&quot;</span>, <span style=\"color:#2aa198;\">&quot;J&quot;</span>, <span style=\"color:#2aa198;\">&quot;K&quot;</span>, <span style=\"color:#2aa198;\">&quot;L&quot;</span>, <span style=\"color:#2aa198;\">&quot;M&quot;</span>, <span style=\"color:#2aa198;\">&quot;N&quot;</span>, <span style=\"color:#2aa198;\">&quot;O&quot;</span>, <span style=\"color:#2aa198;\">&quot;P&quot;</span>, <span style=\"color:#2aa198;\">&quot;Q&quot;</span>, <span style=\"color:#2aa198;\">&quot;R&quot;</span>,<br/>        <span style=\"color:#2aa198;\">&quot;S&quot;</span>, <span style=\"color:#2aa198;\">&quot;T&quot;</span>, <span style=\"color:#2aa198;\">&quot;U&quot;</span>, <span style=\"color:#2aa198;\">&quot;V&quot;</span>, <span style=\"color:#2aa198;\">&quot;W&quot;</span>, <span style=\"color:#2aa198;\">&quot;X&quot;</span>, <span style=\"color:#2aa198;\">&quot;Y&quot;</span>, <span style=\"color:#2aa198;\">&quot;Z&quot;</span>, <span style=\"color:#2aa198;\">&quot;0&quot;</span>, <span style=\"color:#2aa198;\">&quot;1&quot;</span>, <span style=\"color:#2aa198;\">&quot;2&quot;</span>,<br/>        <span style=\"color:#2aa198;\">&quot;3&quot;</span>, <span style=\"color:#2aa198;\">&quot;4&quot;</span>, <span style=\"color:#2aa198;\">&quot;5&quot;</span>, <span style=\"color:#2aa198;\">&quot;6&quot;</span>, <span style=\"color:#2aa198;\">&quot;7&quot;</span>, <span style=\"color:#2aa198;\">&quot;8&quot;</span>, <span style=\"color:#2aa198;\">&quot;9&quot;<br/></span><span style=\"color:#2aa198;\"> &nbsp; &nbsp;</span>);<br/>    <span style=\"color:#268bd2;\">$charsLen </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">count</span>(<span style=\"color:#268bd2;\">$chars</span>) <span style=\"color:#079a71;\">- </span><span style=\"color:#2aa198;\">1</span>;<br/>    <span style=\"color:#969483;font-style:italic;\">shuffle</span>(<span style=\"color:#268bd2;\">$chars</span>);<br/>    <span style=\"color:#268bd2;\">$output </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;&quot;</span>;<br/>    <span style=\"color:#859900;\">for </span>(<span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>; <span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">&lt; </span><span style=\"color:#268bd2;\">$len</span>; <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">++</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$output </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#268bd2;\">$chars[</span><span style=\"color:#969483;font-style:italic;\">mt_rand</span>(<span style=\"color:#2aa198;\">0</span>, <span style=\"color:#268bd2;\">$charsLen</span>)<span style=\"color:#268bd2;\">]</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$output</span>;<br/><span style=\"color:#dc322f;\">}</span></pre><p><br/></p>', '2018-05-24 17:54:20', '2018-05-24 17:57:57', null, null, '105', '1', '0', '/index/article/show/id/19.html');
INSERT INTO `blog_article` VALUES ('20', '18', '指针', 'C，指针', '#include &lt;stdio.h&gt;/* &nbsp;变量在内存中的地址int main (){ &nbsp; int &nbsp;var1; &nbsp; char var2[10]; &nbsp; printf(&quot;var1 ： %p\\n&quot;, &amp;var1 &nbsp;); &nbsp; printf(&quot;var2 ： %p\\n&quot;, &amp;var2 &nbsp;); &nbsp; return 0;}*/int main(){    ', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#268ad1;\">#include </span>&lt;stdio.h&gt;<br/><span style=\"color:#93a1a1;font-style:italic;\">/* &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">变量在内存中的地址</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">int main ()<br/></span><span style=\"color:#93a1a1;font-style:italic;\">{<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; int &nbsp;var1;<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; char var2[10];<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; printf(&quot;var1 </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：</span><span style=\"color:#93a1a1;font-style:italic;\"> %p\\n&quot;, &amp;var1 &nbsp;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; printf(&quot;var2 </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：</span><span style=\"color:#93a1a1;font-style:italic;\"> %p\\n&quot;, &amp;var2 &nbsp;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; return 0;<br/></span><span style=\"color:#93a1a1;font-style:italic;\">}*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#268ad1;\">int </span>main()<br/>{<br/>    <span style=\"color:#268ad1;\">int </span>var = <span style=\"color:#cb4b16;\">20</span>;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// declare pointer &nbsp;int ip<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268ad1;\">int </span>*ip;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// asiign the memeory address of var to the pointer ip<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span>ip = &amp;var;<br/>    printf(<span style=\"color:#2aa198;\">&quot;Address of var variable: %p</span><span style=\"color:#859900;\">\\n</span><span style=\"color:#2aa198;\">&quot;</span>,&amp;var);<br/>    printf(<span style=\"color:#2aa198;\">&quot;Address stored in ip variable: %p</span><span style=\"color:#859900;\">\\n</span><span style=\"color:#2aa198;\">&quot;</span>,ip);<br/>    printf(<span style=\"color:#2aa198;\">&quot;Value of *ip variable: %d</span><span style=\"color:#859900;\">\\n</span><span style=\"color:#2aa198;\">&quot;</span>,*ip);<br/>    <span style=\"color:#268ad1;\">return </span><span style=\"color:#cb4b16;\">0</span>;<br/>}</pre><h2 class=\"tutheader\" style=\"border-width: 1px 0px 0px; border-top-style: solid; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-top-color: rgb(212, 212, 212); border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; padding-top: 5px; font-size: 1.8em; line-height: 1.8em; clear: both; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; white-space: normal;\"><br/></h2><h2 class=\"tutheader\" style=\"border-width: 1px 0px 0px; border-top-style: solid; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-top-color: rgb(212, 212, 212); border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; padding-top: 5px; font-size: 1.8em; line-height: 1.8em; clear: both; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; white-space: normal;\">C 中的 NULL 指针</h2><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\">在变量声明的时候，如果没有确切的地址可以赋值，为指针变量赋一个 NULL 值是一个良好的编程习惯。赋为 NULL 值的指针被称为<strong>空</strong>指针。</p><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\">NULL 指针是一个定义在标准库中的值为零的常量。请看下面的程序：</p><div class=\"example\" style=\"border: 1px solid rgb(212, 212, 212); margin-bottom: 5px; padding: 5px; width: 715.781px; background-color: rgb(229, 238, 204); background-image: linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; white-space: normal;\"><h2 class=\"example\" style=\"border: 0px; margin-bottom: 2px; font-size: 14.4px; line-height: 1.8em; color: rgb(97, 127, 16); background-color: transparent;\">实例</h2><div class=\"example_code\" style=\"border: 1px solid rgb(212, 212, 212); padding: 5px; line-height: 1.4em; width: 701.453px; background-color: rgb(255, 255, 255); font-size: 13.2px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; word-break: break-all; word-wrap: break-word;\"><div class=\"hl-main\" style=\"border: 0px; white-space: pre-wrap; word-break: break-all; word-wrap: break-word;\"><span class=\"hl-prepro\" style=\"border: 0px; margin: 0px; padding: 0px;\">#include</span><span class=\"hl-prepro\" style=\"border: 0px; margin: 0px; padding: 0px;\"> </span><span class=\"hl-quotes\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(139, 0, 0);\">&lt;</span><span class=\"hl-string\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);\">stdio.h</span><span class=\"hl-quotes\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(139, 0, 0);\">&gt;</span><span class=\"hl-prepro\" style=\"border: 0px; margin: 0px; padding: 0px;\"></span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\">\n </span><span class=\"hl-types\" style=\"border: 0px; margin: 0px; padding: 0px;\">int</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> </span><span class=\"hl-identifier\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);\">main</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> </span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">(</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">)</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"></span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">{</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\">\n &nbsp; </span><span class=\"hl-types\" style=\"border: 0px; margin: 0px; padding: 0px;\">int</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> &nbsp;*</span><span class=\"hl-identifier\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);\">ptr</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> = </span><span class=\"hl-prepro\" style=\"border: 0px; margin: 0px; padding: 0px;\">NULL</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\">; \n &nbsp; </span><span class=\"hl-identifier\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);\">printf</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">(</span><span class=\"hl-quotes\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(139, 0, 0);\">&quot;</span><span class=\"hl-string\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);\">ptr 的值是 %p</span><span class=\"hl-special\" style=\"border: 0px; margin: 0px; padding: 0px; color: navy;\">\\</span><span class=\"hl-string\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);\">n</span><span class=\"hl-quotes\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(139, 0, 0);\">&quot;</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\">, </span><span class=\"hl-identifier\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);\">ptr</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> &nbsp;</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">)</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\">; \n &nbsp; </span><span class=\"hl-reserved\" style=\"border: 0px; margin: 0px; padding: 0px; color: green;\">return</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> </span><span class=\"hl-number\" style=\"border: 0px; margin: 0px; padding: 0px; color: maroon;\">0</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\">;</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">}</span></div></div></div><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\">当上面的代码被编译和执行时，它会产生下列结果：</p><pre class=\"prettyprint prettyprinted\" style=\"border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 12px; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; word-break: break-all; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51);\"><span class=\"pln\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);\">ptr </span><span class=\"pun\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(102, 102, 0);\">的值是</span><span class=\"pln\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 0, 0);\"> </span><span class=\"lit\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 102);\">0</span></pre><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\">在大多数的操作系统上，程序不允许访问地址为 0 的内存，因为该内存是操作系统保留的。然而，内存地址 0 有特别重要的意义，它表明该指针不指向一个可访问的内存位置。但按照惯例，如果指针包含空值（零值），则假定它不指向任何东西。</p><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\">如需检查一个空指针，您可以使用 if 语句，如下所示：</p><div class=\"example\" style=\"border: 1px solid rgb(212, 212, 212); margin-bottom: 5px; padding: 5px; width: 715.781px; background-color: rgb(229, 238, 204); background-image: linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; white-space: normal;\"><div class=\"example_code\" style=\"border: 1px solid rgb(212, 212, 212); padding: 5px; line-height: 1.4em; width: 701.453px; background-color: rgb(255, 255, 255); font-size: 13.2px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; word-break: break-all; word-wrap: break-word;\"><div class=\"hl-main\" style=\"border: 0px; white-space: pre-wrap; word-break: break-all; word-wrap: break-word;\"><span class=\"hl-reserved\" style=\"border: 0px; margin: 0px; padding: 0px; color: green;\">if</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">(</span><span class=\"hl-identifier\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);\">ptr</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">)</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> &nbsp; &nbsp; </span><span class=\"hl-mlcomment\" style=\"border: 0px; margin: 0px; padding: 0px;\">/*</span><span class=\"hl-mlcomment\" style=\"border: 0px; margin: 0px; padding: 0px;\"> 如果 p 非空，则完成 </span><span class=\"hl-mlcomment\" style=\"border: 0px; margin: 0px; padding: 0px;\">*/</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"></span><span class=\"hl-reserved\" style=\"border: 0px; margin: 0px; padding: 0px; color: green;\">if</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">(</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\">!</span><span class=\"hl-identifier\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);\">ptr</span><span class=\"hl-brackets\" style=\"border: 0px; margin: 0px; padding: 0px; color: olive;\">)</span><span class=\"hl-code\" style=\"border: 0px; margin: 0px; padding: 0px; color: gray;\"> &nbsp; &nbsp;</span><span class=\"hl-mlcomment\" style=\"border: 0px; margin: 0px; padding: 0px;\">/*</span><span class=\"hl-mlcomment\" style=\"border: 0px; margin: 0px; padding: 0px;\"> 如果 p 为空，则完成 </span><span class=\"hl-mlcomment\" style=\"border: 0px; margin: 0px; padding: 0px;\">*/</span></div></div></div><h2 class=\"tutheader\" style=\"border-width: 1px 0px 0px; border-top-style: solid; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-top-color: rgb(212, 212, 212); border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; padding-top: 5px; font-size: 1.8em; line-height: 1.8em; clear: both; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; white-space: normal;\">C 指针详解</h2><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\">在 C 中，有很多指针相关的概念，这些概念都很简单，但是都很重要。下面列出了 C 程序员必须清楚的一些与指针相关的重要概念：</p><table class=\"reference notranslate\" style=\"border: 0px; margin-top: 4px; margin-bottom: 4px; padding: 0px; width: 729px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; white-space: normal;\"><tbody style=\"border: 0px; margin: 0px; padding: 0px;\"><tr style=\"border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);\"><th style=\"border: 1px solid rgb(85, 85, 85); padding: 3px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left; width: 248px;\">概念</th><th style=\"border: 1px solid rgb(85, 85, 85); padding: 3px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;\">描述</th></tr><tr style=\"border: 0px; margin: 0px; padding: 0px;\"><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\"><a href=\"http://www.runoob.com/cprogramming/c-pointer-arithmetic.html\" title=\"指针的算术运算\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); text-decoration-line: underline; transition-duration: 0.2s; transition-property: opacity;\">指针的算术运算</a></td><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">可以对指针进行四种算术运算：++、--、+、-</td></tr><tr style=\"border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);\"><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\"><a href=\"http://www.runoob.com/cprogramming/c-array-of-pointers.html\" title=\"指针数组\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); text-decoration-line: underline; transition-duration: 0.2s; transition-property: opacity;\">指针数组</a></td><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">可以定义用来存储指针的数组。</td></tr><tr style=\"border: 0px; margin: 0px; padding: 0px;\"><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\"><a href=\"http://www.runoob.com/cprogramming/c-pointer-to-pointer.html\" title=\"指向指针的指针\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); text-decoration-line: underline; transition-duration: 0.2s; transition-property: opacity;\">指向指针的指针</a></td><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">C 允许指向指针的指针。</td></tr><tr style=\"border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);\"><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\"><a href=\"http://www.runoob.com/cprogramming/c-passing-pointers-to-functions.html\" title=\"传递指针给函数\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); text-decoration-line: underline; transition-duration: 0.2s; transition-property: opacity;\">传递指针给函数</a></td><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">通过引用或地址传递参数，使传递的参数在调用函数中被改变。</td></tr><tr style=\"border: 0px; margin: 0px; padding: 0px;\"><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\"><a href=\"http://www.runoob.com/cprogramming/c-return-pointer-from-functions.html\" title=\"从函数返回指针\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); text-decoration-line: underline; transition-duration: 0.2s; transition-property: opacity;\">从函数返回指针</a></td><td style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">C 允许函数返回指针到局部变量、静态变量和动态内存分配。</td></tr></tbody></table><p><br/></p>', '2018-05-24 20:24:16', '2018-05-24 20:38:02', null, null, '98', '0', '0', '/index/article/show/id/20.html');
INSERT INTO `blog_article` VALUES ('21', '16', '线性表链式存储结构', '线性表 链式存储', '1.线性表链式存储结构定义：    1.1特点是用一组任意的存储单元存储线性表的数据元素，这组存储单元可以存在内存中为被占用的任意位置    1.2比起顺序存储结构每个数据元素只需要存储一个位置就可以了（数据域）。现在链式存储结构中，除了要    存储数据元素信息外，还要存储它的后继元素的存储地址（指针或链，指针域）    1.3指针域和数据域组成数据元素称为存储映像，称为结点（Node）2.n个结点（Node）链接', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">1.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">线性表链式存储结构定义：</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;1.1.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">特点是用一组任意的存储单元存储线性表的数据元素，这组存储单元可以存在内存中为被占用的任意位置</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;1.2.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">比起顺序存储结构每个数据元素只需要存储一个位置就可以了（数据域）。现在链式存储结构中，除了要<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;存储数据元素信息外，还要存储它的后继元素的存储地址（指针或链，指针域）</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;1.3.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">指针域和数据域组成数据元素称为存储映像，称为结点（</span><span style=\"color:#93a1a1;font-style:italic;\">Node</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">）</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">2.n</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">个结点（</span><span style=\"color:#93a1a1;font-style:italic;\">Node</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">）链接成一个链表，即为线性表的链式存储结构</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">3.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">因此链表的每个结点中只包含一个指针域，所以叫做单链表</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">4.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对于线性表来说，有头有尾，链表也一样。我们把链表中的第一个结点的存储位置叫做头指针，最后一个结点指<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">针为空（</span><span style=\"color:#93a1a1;font-style:italic;\">NULL</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">）</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">5.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头结点的数据域不存储任何信息</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;5.1.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头指针是指链表指向第一个结点的指针，若链表有头结点，则是指向头结点的指针</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;5.2.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头指针具有标识作用，所以常用头指针冠以链表的名字（指针变量的名称）</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;5.3.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">无论链表是否为空，头指针均不为空</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;5.4.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头指针是必要的</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">6.C</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">语言 结构指针来描述单链表</span></pre><p><span style=\"font-family:&#39;宋体&#39;;\"></span><br/></p><p><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180524/2973380f7364d18a932f0fb6016fd855.png\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180524/2973380f7364d18a932f0fb6016fd855.png\"/></p><p><br/></p><p><br/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#268ad1;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">// 6.C</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">语言 结构指针来描述单链表<br/></span><span style=\"color:#268ad1;\">#define </span>OK <span style=\"color:#cb4b16;\">1<br/></span><span style=\"color:#268ad1;\">#define </span>ERROR <span style=\"color:#cb4b16;\">0<br/></span><span style=\"color:#268ad1;\">#define </span>TRUE <span style=\"color:#cb4b16;\">1<br/></span><span style=\"color:#268ad1;\">#define </span>FALSE <span style=\"color:#cb4b16;\">0<br/></span><span style=\"color:#268ad1;\">typedef int </span>Status;<br/><span style=\"color:#268ad1;\">typedef struct </span>Node<br/>{<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据域<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span>ElemType data;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">指针域<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268ad1;\">struct </span>Node* Next;<br/>} Node;<br/><br/><span style=\"color:#268ad1;\">typedef struct </span>Node* LinkList;<br/><span style=\"color:#93a1a1;font-style:italic;\">/*<br/></span><span style=\"color:#93a1a1;font-style:italic;\">p &nbsp;ai &nbsp;p-&gt;data p-&gt;next<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">p-&gt;next = i+1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">个元素 &nbsp;指向</span><span style=\"color:#93a1a1;font-style:italic;\">ai+1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的指针<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果</span><span style=\"color:#93a1a1;font-style:italic;\">p-&gt;data = ai p-&gt;next-&gt;data = ai+1<br/></span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">单链表的读取 算法</span><span style=\"color:#93a1a1;font-style:italic;\"> O(1) &nbsp;O(n)<br/></span>Status GetElem(LinkList L,<span style=\"color:#268ad1;\">int </span>i, ElemType *e)<br/>{<br/>    <span style=\"color:#268ad1;\">int </span>j;<br/>    LinkList p;<br/>    p = L<span style=\"color:#859900;\">-&gt;</span>next;<br/>    j = <span style=\"color:#cb4b16;\">1</span>;<br/>    <span style=\"color:#268ad1;\">while</span>(p &amp;&amp; j&lt;i)<br/>    {<br/>        p = p<span style=\"color:#859900;\">-&gt;</span>next;<br/>        ++j;<br/>    }<br/>    <span style=\"color:#268ad1;\">if</span>(!p || j&gt;i)<br/>    {<br/>        <span style=\"color:#268ad1;\">return </span>ERROR;<br/>    }<br/>    *e = p<span style=\"color:#859900;\">-&gt;</span>data;<br/>    <span style=\"color:#268ad1;\">return </span>OK;<br/><p>}</p><p><br/></p><p><br/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">// 2018-05-28 1953<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">单链表的插入<br/></span>Status InsertElem(LinkList *L,<span style=\"color:#268ad1;\">int </span>i,ElemType e)<br/>{<br/>    <span style=\"color:#268ad1;\">int </span>j;<br/>    LinkList p,s;<br/>    p = *L;<br/>    j = <span style=\"color:#cb4b16;\">1</span>;<br/>    <span style=\"color:#268ad1;\">while</span>(p &amp;&amp; j&lt;<span style=\"color:#cb4b16;\">1</span>)<br/>    {<br/>        p = p<span style=\"color:#859900;\">-&gt;</span>next;<br/>        j++;<br/>    }<br/>    <span style=\"color:#268ad1;\">if</span>(!p || j&gt;i)<br/>    {<br/>        <span style=\"color:#268ad1;\">return </span>ERROR;<br/>    }<br/>    s = (LinkList)malloc(<span style=\"color:#268ad1;\">sizeof</span>(Node));<br/>    s<span style=\"color:#859900;\">-&gt;</span>data = e;<br/>    s<span style=\"color:#859900;\">-&gt;</span>next = p<span style=\"color:#859900;\">-&gt;</span>next;<br/>    p<span style=\"color:#859900;\">-&gt;</span>next = s;<br/>    <span style=\"color:#268ad1;\">return </span>OK;<br/>}<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">单链表的删除<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">算法思路：删除链表中的某个节点<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">这个节点存在，并且链表存在<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">删除结点，原本的</span><span style=\"color:#93a1a1;font-style:italic;\">next</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，复制为所删除元素的</span><span style=\"color:#93a1a1;font-style:italic;\">next<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// p-&gt;next = p-&gt;next-&gt;next<br/></span>Status ListDelete(LinkList *L,<span style=\"color:#268ad1;\">int </span>i,ElemType *e)<br/>{<br/>    <span style=\"color:#268ad1;\">int </span>j;<br/>    LinkList p,q;<br/>    p = *L;<br/>    j = <span style=\"color:#cb4b16;\">1</span>;<br/>    <span style=\"color:#268ad1;\">while</span>(p<span style=\"color:#859900;\">-&gt;</span>next &amp;&amp; j&lt;i)<br/>    {<br/>        p = p<span style=\"color:#859900;\">-&gt;</span>next;<br/>        ++j;<br/>    }<br/>    <span style=\"color:#268ad1;\">if</span>(!(p<span style=\"color:#859900;\">-&gt;</span>next) || j&gt;i)<br/>    {<br/>        <span style=\"color:#268ad1;\">return </span>ERROR;<br/>    }<br/>    q = p<span style=\"color:#859900;\">-&gt;</span>next;<br/>    p<span style=\"color:#859900;\">-&gt;</span>next = q<span style=\"color:#859900;\">-&gt;</span>next;<br/>    *e = q<span style=\"color:#859900;\">-&gt;</span>data;<br/>    free(q);<br/>    <span style=\"color:#268ad1;\">return </span>OK;<br/>}<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">单链表的郑飚创建<br/></span><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;1.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对于顺序存储结构的线性表的整表创建，可以用数组初始化来直观理解</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;2.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">创建单链表算法思路</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;2.1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：生命一结点</span><span style=\"color:#93a1a1;font-style:italic;\">p</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">和是计数器变量</span><span style=\"color:#93a1a1;font-style:italic;\">i<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;2.2</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：初始化一空链表；</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;2.3</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：让</span><span style=\"color:#93a1a1;font-style:italic;\">L</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的头结点的指针指向</span><span style=\"color:#93a1a1;font-style:italic;\">null</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，即建立一个带头结点的单链表</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;2.4</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：循环实现后溪几点的赋值和插入</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;3.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头插法（把新加进的元素放在表头后的第一个位置）</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;4.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">尾插法</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">**/<br/></span>Void CreateListHead(LinkList *L,<span style=\"color:#268ad1;\">int </span>n)<br/>{<br/>    LinkList p;<br/>    <span style=\"color:#268ad1;\">int </span><span style=\"color:#cb4b16;\">1</span>;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">初始化随机数种子<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span>srand(time(<span style=\"color:#cb4b16;\">0</span>));<br/>    *L = (LinkList)malloc(<span style=\"color:#268ad1;\">sizeof</span>(Node));<br/>    (*L)<span style=\"color:#859900;\">-&gt;</span>next = null;<br/>    <span style=\"color:#268ad1;\">for</span>(i=<span style=\"color:#cb4b16;\">0</span>;i&lt;n;i++){<br/>        p = (LinkList)malloc(<span style=\"color:#268ad1;\">sizeof</span>(Node));<br/>        p<span style=\"color:#859900;\">-&gt;</span>data = rand()%<span style=\"color:#cb4b16;\">100</span>+<span style=\"color:#cb4b16;\">1</span>;<br/>        p<span style=\"color:#859900;\">-&gt;</span>next = (*L)<span style=\"color:#859900;\">-&gt;</span>next;<br/>        (*L)<span style=\"color:#859900;\">-&gt;</span>next = p;<br/>    }<br/>}<br/><br/>Void CreateListTail(LinkList *L,<span style=\"color:#268ad1;\">int </span>n)<br/>{<br/>    LinkList p,r;<br/>    <span style=\"color:#268ad1;\">int </span><span style=\"color:#cb4b16;\">1</span>;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">初始化随机数种子<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span>srand(time(<span style=\"color:#cb4b16;\">0</span>));<br/>    *L = (LinkList)malloc(<span style=\"color:#268ad1;\">sizeof</span>(Node));<br/>    r = *L;<br/>    <span style=\"color:#268ad1;\">for</span>(i=<span style=\"color:#cb4b16;\">0</span>;i&lt;n;i++){<br/>        p = (Node *)malloc(<span style=\"color:#268ad1;\">sizeof</span>(Node));<br/>        p<span style=\"color:#859900;\">-&gt;</span>data = rand()%<span style=\"color:#cb4b16;\">100</span>+<span style=\"color:#cb4b16;\">1</span>;<br/>        r<span style=\"color:#859900;\">-&gt;</span>next = p;<br/>        r= p;<br/>    }<br/>    r<span style=\"color:#859900;\">-&gt;</span>next = null;<br/>}<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">单链表的整表删除<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">内存释放<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">算法思路</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">**/<br/></span>Status ClearList(LinkList *L)<br/>{<br/>    LinkList p,q;<br/>    p = (*L)<span style=\"color:#859900;\">-&gt;</span>next;<br/>    <span style=\"color:#268ad1;\">while</span>(p)<br/>    {<br/>        q = p<span style=\"color:#859900;\">-&gt;</span>next;<br/>        free(p);<br/>        p = q;<br/>    }<br/>    (*L)<span style=\"color:#859900;\">-&gt;</span>next = NULL;<br/>    <span style=\"color:#268ad1;\">return </span>OK;<br/>}<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">静态链表</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">**/<br/></span><span style=\"color:#268ad1;\">#define </span>MAXSIZE <span style=\"color:#cb4b16;\">1000<br/></span><span style=\"color:#268ad1;\">typedef struct<br/></span>{<br/>    ElemType data;<span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268ad1;\">int </span>cur;      <span style=\"color:#93a1a1;font-style:italic;\">//<br/></span>}Component,StaticLinkList[MAXSIZE];<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">静态链表的初始化<br/></span>Status InitList(StaticLinkList space)<br/>{<br/>    <span style=\"color:#268ad1;\">int </span>i;<br/>    <span style=\"color:#268ad1;\">for</span>(i=<span style=\"color:#cb4b16;\">0</span>;i&lt;MAXSIZE-1;i++)<br/>    space[i].cur = i+<span style=\"color:#cb4b16;\">1</span>;<br/>    space[MAXSIZE-1].cur = <span style=\"color:#cb4b16;\">0</span>;<br/>    <span style=\"color:#268ad1;\">return </span>OK;<br/>}</pre><p><br/></p></pre><p><br/></p>', '2018-05-24 22:14:00', '2018-05-28 21:46:51', null, null, '109', '0', '0', '/index/article/show/id/21.html');
INSERT INTO `blog_article` VALUES ('22', '9', 'MYSQL 触发器', 'error', '第一步，创建数据库表t_book，创建语句如下：create table t_book(id int(8),bno int(4),bname varchar(20),bprice double(4,2));create table book_info(id int(8),bno int(4),bname varchar(20),bprice double(4,2));desc book_info;delimiter $$create trigger book_triggerafter updat', '', '<p><span style=\"white-space: nowrap;\">第一步，创建数据库表t_book，创建语句如下：</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">create table t_book(</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">id int(8),</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">bno int(4),</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">bname varchar(20),</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">bprice double(4,2)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">);</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">create table book_info(</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">id int(8),</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">bno int(4),</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">bname varchar(20),</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">bprice double(4,2)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">);</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">desc book_info;</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">delimiter $$</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">create trigger book_trigger</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">after update on t_book for each row begin</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">insert into book_info values (1,1,&#39;Java高级程序设计&#39;,23.45);</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">end;</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">$$</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; delimiter //</span></p><p><span style=\"white-space: nowrap;\">mysql&gt; create trigger simple_trigger</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; after update</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; on students for each row</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; begin</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; insert into students_bak values(old.sid,old.sname,new.sname,old.gender,new.gender,now());</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; end//</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.16 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from students;</span></p><p><span style=\"white-space: nowrap;\">+-----+--------+--------+---------+</span></p><p><span style=\"white-space: nowrap;\">| sid | sname&nbsp; | gender | dept_id |</span></p><p><span style=\"white-space: nowrap;\">+-----+--------+--------+---------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;1 | Andrew | -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;1 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;2 | Andy&nbsp; &nbsp;| -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;1 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;3 | Bob&nbsp; &nbsp; | -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;1 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;4 | Ruth&nbsp; &nbsp;| -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;2 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;5 | Mike&nbsp; &nbsp;| -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;2 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;6 | John&nbsp; &nbsp;| 0&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;3 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;7 | Cindy&nbsp; | 1&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;3 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;8 | Susan&nbsp; | 1&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;3 |</span></p><p><span style=\"white-space: nowrap;\">+-----+--------+--------+---------+</span></p><p><span style=\"white-space: nowrap;\">8 rows in set (0.01 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; update students set sname=&#39;abc&#39;,gender=1 where sid=1;</span></p><p><span style=\"white-space: nowrap;\">Query OK, 1 row affected (0.03 sec)</span></p><p><span style=\"white-space: nowrap;\">Rows matched: 1&nbsp; Changed: 1&nbsp; Warnings: 0</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from students;</span></p><p><span style=\"white-space: nowrap;\">+-----+-------+--------+---------+</span></p><p><span style=\"white-space: nowrap;\">| sid | sname | gender | dept_id |</span></p><p><span style=\"white-space: nowrap;\">+-----+-------+--------+---------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;1 | abc&nbsp; &nbsp;| 1&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;1 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;2 | Andy&nbsp; | -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;1 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;3 | Bob&nbsp; &nbsp;| -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;1 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;4 | Ruth&nbsp; | -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;2 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;5 | Mike&nbsp; | -1&nbsp; &nbsp; &nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;2 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;6 | John&nbsp; | 0&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;3 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;7 | Cindy | 1&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;3 |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp;8 | Susan | 1&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp;3 |</span></p><p><span style=\"white-space: nowrap;\">+-----+-------+--------+---------+</span></p><p><span style=\"white-space: nowrap;\">8 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from students_bak;</span></p><p><span style=\"white-space: nowrap;\">+--------+----------+----------+-----------+-----------+---------------------+</span></p><p><span style=\"white-space: nowrap;\">| oldsid | oldsname | newsname | oldgender | newgender | tstamp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+--------+----------+----------+-----------+-----------+---------------------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; &nbsp; &nbsp; 1 | Andrew&nbsp; &nbsp;| abc&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; -1 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 | 2017-12-13 11:04:52 |</span></p><p><span style=\"white-space: nowrap;\">+--------+----------+----------+-----------+-----------+---------------------+</span></p><p><span style=\"white-space: nowrap;\">1 row in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\">4.查看触发器（information_schema）</span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select TRIGGER_SCHEMA,TRIGGER_NAME,DEFINER,ACTION_STATEMENT from TRIGGERS where TRIGGER_SCHEMA=&#39;course&#39;;</span></p><p><span style=\"white-space: nowrap;\">+----------------+----------------+----------------+-----------------------------------------------------------------------------------------------------+</span></p><p><span style=\"white-space: nowrap;\">| TRIGGER_SCHEMA | TRIGGER_NAME&nbsp; &nbsp;| DEFINER&nbsp; &nbsp; &nbsp; &nbsp; | ACTION_STATEMENT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----------------+----------------+----------------+-----------------------------------------------------------------------------------------------------+</span></p><p><span style=\"white-space: nowrap;\">| course&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| simple_trigger | root@localhost | begin</span></p><p><span style=\"white-space: nowrap;\">insert into students_bak values(old.sid,old.sname,new.sname,old.gender,new.gender,now());</span></p><p><span style=\"white-space: nowrap;\">end |</span></p><p><span style=\"white-space: nowrap;\">+----------------+----------------+----------------+-----------------------------------------------------------------------------------------------------+</span></p><p><span style=\"white-space: nowrap;\">1 row in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\">5.删除触发器</span></p><p><span style=\"white-space: nowrap;\">DROP TRIGGER [IF EXISTS] [schema_name.]trigger_name</span></p><p><span style=\"white-space: nowrap;\">if exists用来避免删除不存在的触发器时引发的报错</span></p><p><span style=\"white-space: nowrap;\">当你执行drop table时，表上的触发器也被drop掉了</span></p><p><span style=\"white-space: nowrap;\">mysql&gt; drop trigger simple_trigger;</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.00 sec)</span></p><p><br/></p>', '2018-06-12 19:14:38', '2018-06-12 19:26:34', null, null, '95', '0', '0', '/index/article/show/id/22.html');
INSERT INTO `blog_article` VALUES ('23', '9', 'PHP与数据库，数据库抽象，PDO的使用', '数据库,数据库,抽象,使用', '1.PostgreSql 相关操作记录1.1：为用户授权：（和MYSQL一样） grant all privileges on \"user\" to \"userdemo\";1.2：插入数据：（同MYSQL） 不过好像操作的表都需要加引号/** * PHP postgreSql */$objHandle = pg_connect(\"host=localhost port=5432 dbname=chaptersix user=ch', '', '<p>1.PostgreSql&nbsp;相关操作记录</p><p>1.1：为用户授权：（和MYSQL一样） grant all privileges on &quot;user&quot; to &quot;userdemo&quot;;</p><p>1.2：插入数据：（同MYSQL）&nbsp;不过好像操作的表都需要加引号</p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><br/><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * PHP postgreSql<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> */<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#268bd2;\">$objHandle </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">pg_connect</span>(<span style=\"color:#2aa198;\">&quot;host=localhost port=5432 dbname=chaptersix user=chaptersix password=chaptersix&quot;</span>);<br/><span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#268bd2;\">$objHandle</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&#39;connect error&#39;</span>;<br/>    <span style=\"color:#859900;\">exit</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#268bd2;\">$objResult </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">pg_query</span>(<span style=\"color:#268bd2;\">$objHandle</span>,<span style=\"color:#2aa198;\">&#39;select </span><span style=\"color:#969483;font-style:italic;\">*</span><span style=\"color:#2aa198;\"> from &quot;user&quot;&#39;</span>);<br/><span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#268bd2;\">$objResult</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&#39;query error&#39;</span>;<br/>    <span style=\"color:#859900;\">exit</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#268bd2;\">$arRowHash </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">pg_fetch_all</span>(<span style=\"color:#268bd2;\">$objResult</span>);<br/><span style=\"color:#859900;\">for</span>(<span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">0</span>;<span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">&lt;</span><span style=\"color:#969483;font-style:italic;\">sizeof</span>(<span style=\"color:#268bd2;\">$arRowHash</span>)<span style=\"color:#079a71;\">-</span><span style=\"color:#2aa198;\">1</span>;<span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">++</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&quot;Row </span><span style=\"color:#268bd2;\">$i</span><span style=\"color:#2aa198;\">&lt;br /&gt;</span><span style=\"color:#d33682;font-weight:bold;\">\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>    <span style=\"color:#859900;\">foreach </span>(<span style=\"color:#268bd2;\">$arRowHash[$i] </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$k</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$v</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&quot;- column </span><span style=\"color:#268bd2;\">$key</span><span style=\"color:#2aa198;\">, value </span><span style=\"color:#268bd2;\">$v</span><span style=\"color:#2aa198;\">&lt;br /&gt;</span><span style=\"color:#d33682;font-weight:bold;\">\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#969483;font-style:italic;\">pg_close</span>(<span style=\"color:#268bd2;\">$objHandle</span>);</pre><p><br/></p><p>2.PDO是什么，愚蠢的我还是看的不够仔细。PDO（PHP Data Object），数据库抽象类，可以连接主流的数据库</p><p><br/></p><p>3.PDO&nbsp;链接postgreSql</p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * PDO<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> */<br/></span><span style=\"color:#268bd2;\">$strDsn </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;pgsql:dbname=name;host=localhost;port=9898;user=username;password=pass;&quot;</span>;<br/><span style=\"color:#859900;\">try</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objPdo </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">PDO</span>(<span style=\"color:#268bd2;\">$strDsn</span>);<br/>    <span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&#39;success&#39;</span>;<br/><span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">catch </span>(<span style=\"color:#839496;\">PDOException </span><span style=\"color:#268bd2;\">$e</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#268bd2;\">$e</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getMessage</span>();<br/>    <span style=\"color:#859900;\">exit</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#268bd2;\">$objPdo </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">null</span>;<br/><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&#39;disconnect&#39;</span>;</pre><p><br/></p><p>4.PDO MYSQL</p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * pdo mysql<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> */<br/></span><span style=\"color:#268bd2;\">$dbms</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;mysql&#39;</span>;     <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据库类型<br/></span><span style=\"color:#268bd2;\">$host</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;localhost&#39;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据库主机名<br/></span><span style=\"color:#268bd2;\">$dbName</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;test&#39;</span>;    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">使用的数据库<br/></span><span style=\"color:#268bd2;\">$user</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;root&#39;</span>;      <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据库连接用户名<br/></span><span style=\"color:#268bd2;\">$pass</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;</span>;          <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对应的密码<br/></span><span style=\"color:#268bd2;\">$dsn</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#268bd2;\">$dbms</span><span style=\"color:#2aa198;\">:host=</span><span style=\"color:#268bd2;\">$host</span><span style=\"color:#2aa198;\">;dbname=</span><span style=\"color:#268bd2;\">$dbName</span><span style=\"color:#2aa198;\">&quot;</span>;<br/><br/><br/><span style=\"color:#859900;\">try </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dbh </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">PDO</span>(<span style=\"color:#268bd2;\">$dsn</span>, <span style=\"color:#268bd2;\">$user</span>, <span style=\"color:#268bd2;\">$pass</span>); <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">初始化一个</span><span style=\"color:#93a1a1;font-style:italic;\">PDO</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对象<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">连接成功</span><span style=\"color:#2aa198;\">&lt;br/&gt;&quot;</span>;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">你还可以进行一次搜索操作</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;foreach ($dbh-&gt;query(&#39;SELECT * from FOO&#39;) as $row) {<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;print_r($row); //</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">你可以用</span><span style=\"color:#93a1a1;font-style:italic;\"> echo($GLOBAL); </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">来看到这些值</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dbh </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">null</span>;<br/><span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">catch </span>(<span style=\"color:#839496;\">PDOException </span><span style=\"color:#268bd2;\">$e</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">die </span>(<span style=\"color:#2aa198;\">&quot;Error!: &quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$e</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getMessage</span>() <span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&quot;&lt;br/&gt;&quot;</span>);<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">默认这个不是长连接，如果需要数据库长连接，需要最后加一个参数：</span><span style=\"color:#93a1a1;font-style:italic;\">array(PDO::ATTR_PERSISTENT =&gt; true) </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">变成这样：<br/></span><span style=\"color:#268bd2;\">$db </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">PDO</span>(<span style=\"color:#268bd2;\">$dsn</span>, <span style=\"color:#268bd2;\">$user</span>, <span style=\"color:#268bd2;\">$pass</span>, <span style=\"color:#859900;\">array</span>(<span style=\"color:#b58900;\">PDO</span><span style=\"color:#079a71;\">::</span><span style=\"color:#d33682;\">ATTR_PERSISTENT </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#859900;\">true</span>));</pre><p><br/></p><p><br/></p><p>5.PDO之安全操作</p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * PDO </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">正确写法（相对安全）<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#268bd2;\">$dbms</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;mysql&#39;</span>;     <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据库类型<br/></span><span style=\"color:#268bd2;\">$host</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;localhost&#39;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据库主机名<br/></span><span style=\"color:#268bd2;\">$dbName</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;test&#39;</span>;    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">使用的数据库<br/></span><span style=\"color:#268bd2;\">$user</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;root&#39;</span>;      <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据库连接用户名<br/></span><span style=\"color:#268bd2;\">$pass</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;</span>;          <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对应的密码<br/></span><span style=\"color:#268bd2;\">$dsn</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#268bd2;\">$dbms</span><span style=\"color:#2aa198;\">:host=</span><span style=\"color:#268bd2;\">$host</span><span style=\"color:#2aa198;\">;dbname=</span><span style=\"color:#268bd2;\">$dbName</span><span style=\"color:#2aa198;\">&quot;</span>;<br/><br/><br/><span style=\"color:#859900;\">try </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dbh </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">PDO</span>(<span style=\"color:#268bd2;\">$dsn</span>, <span style=\"color:#268bd2;\">$user</span>, <span style=\"color:#268bd2;\">$pass</span>); <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">初始化一个</span><span style=\"color:#93a1a1;font-style:italic;\">PDO</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对象<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">连接成功</span><span style=\"color:#2aa198;\">&lt;br/&gt;&quot;</span>;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">开启事物<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dbh</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">beginTransaction</span>();<br/>    <span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">你还可以进行一次搜索操作</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;foreach ($dbh-&gt;query(&#39;SELECT * from FOO&#39;) as $row) {<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;print_r($row); //</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">你可以用</span><span style=\"color:#93a1a1;font-style:italic;\"> echo($GLOBAL); </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">来看到这些值</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>;<br/>    <span style=\"color:#268bd2;\">$strUserName</span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;test&#39;</span>;<br/>    <span style=\"color:#268bd2;\">$strQuery </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;select </span><span style=\"color:#969483;font-style:italic;\">*</span><span style=\"color:#2aa198;\"> from user where username = </span><span style=\"color:#cb4b16;\">:username</span><span style=\"color:#2aa198;\">&#39;</span>;<br/>    <span style=\"color:#268bd2;\">$objStatement </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$dbh</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">prepare</span>(<span style=\"color:#268bd2;\">$strQuery</span>);<br/>    <span style=\"color:#268bd2;\">$objStatement</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">bindParam</span>(<span style=\"color:#2aa198;\">&#39;:username&#39;</span>,<span style=\"color:#268bd2;\">$strUserName</span>,<span style=\"color:#b58900;\">PDO</span><span style=\"color:#079a71;\">::</span><span style=\"color:#d33682;\">PARAM_STR</span>);<br/>    <span style=\"color:#268bd2;\">$objStatement</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">execute</span>();<br/>    <span style=\"color:#859900;\">while</span>(<span style=\"color:#268bd2;\">$arRow </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$objStatement</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">fetch</span>(<span style=\"color:#b58900;\">PDO</span><span style=\"color:#079a71;\">::</span><span style=\"color:#d33682;\">FETCH_ASSOC</span>))<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&quot;ROw </span><span style=\"color:#268bd2;\">$i</span><span style=\"color:#2aa198;\">&lt;br /&gt;&quot;</span>;<br/>        <span style=\"color:#859900;\">foreach </span>(<span style=\"color:#268bd2;\">$arRow </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$value</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#268bd2;\">$key</span><span style=\"color:#2aa198;\"> === </span><span style=\"color:#268bd2;\">$value</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">++</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">提交事物<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dbh</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">commit</span>();<br/>    <span style=\"color:#268bd2;\">$dbh </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">null</span>;<br/><span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">catch </span>(<span style=\"color:#839496;\">PDOException </span><span style=\"color:#268bd2;\">$e</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">事务回滚<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dbh</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">rollBack</span>();<br/>    <span style=\"color:#859900;\">die </span>(<span style=\"color:#2aa198;\">&quot;Error!: &quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$e</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getMessage</span>() <span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&quot;&lt;br/&gt;&quot;</span>);<br/><span style=\"color:#dc322f;\">}</span></pre><p><br/></p>', '0000-00-00 00:00:00', '2018-06-12 20:21:45', null, null, '97', '0', '0', '/index/article/show/id/23.html');
INSERT INTO `blog_article` VALUES ('24', '9', 'PHP高级之-header缓存', '高级', '<?php/** * Created by PhpStorm. * User: Administrator * Date: 2018/6/26 0026 * Time: 20:54 */// Determine the greater timestamp://$max = ($max_a > $max_c) ? $max_a : $max_c;//header(\"Status: 404 Not Found\"); 404//header(\'HTTP/1.1 ', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#dc322f;\">&lt;?php<br/></span><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Created by PhpStorm.<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * User: Administrator<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Date: 2018/6/26 0026<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Time: 20:54<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> */<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">// Determine the greater timestamp:<br/></span><span style=\"color:#93a1a1;font-style:italic;\">//$max = ($max_a &gt; $max_c) ? $max_a : $max_c;<br/></span><span style=\"color:#93a1a1;font-style:italic;\">//header(&quot;Status: 404 Not Found&quot;); 404<br/></span><span style=\"color:#93a1a1;font-style:italic;\">//header(&#39;HTTP/1.1 &nbsp;401 &nbsp;Unauthorized&#39;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\">//header(&#39;status: 401 Unauthorized&#39;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">定义一个合理缓存时间。合理值屈居于页面本身、访问者的数量和页面的更新频率，此处为</span><span style=\"color:#93a1a1;font-style:italic;\">3600</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">秒</span><span style=\"color:#93a1a1;font-style:italic;\">(1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">小时</span><span style=\"color:#93a1a1;font-style:italic;\">)</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">。<br/></span><span style=\"color:#268bd2;\">$cache_time </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">10</span>;<br/><span style=\"color:#268bd2;\">$modified_time </span><span style=\"color:#079a71;\">= @</span><span style=\"color:#268bd2;\">$_SERVER[</span><span style=\"color:#2aa198;\">&#39;HTTP_IF_MODIFIED_SINCE&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#859900;\">if </span>(<span style=\"color:#969483;font-style:italic;\">strtotime</span>(<span style=\"color:#268bd2;\">$modified_time</span>) <span style=\"color:#079a71;\">+ </span><span style=\"color:#268bd2;\">$cache_time </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#969483;font-style:italic;\">time</span>()) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&quot;HTTP/1.1 304&quot;</span>);<br/>    <span style=\"color:#859900;\">exit</span>;<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送</span><span style=\"color:#93a1a1;font-style:italic;\">Last-Modified</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头标，设置文档的最后的更新日期。<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&quot;Last-Modified: &quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#969483;font-style:italic;\">gmdate</span>(<span style=\"color:#2aa198;\">&quot;D, d M Y H:i:s&quot;</span>, <span style=\"color:#969483;font-style:italic;\">time</span>()) <span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&quot; GMT&quot;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送</span><span style=\"color:#93a1a1;font-style:italic;\">Expires</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头标，设置当前缓存的文档过期时间，</span><span style=\"color:#93a1a1;font-style:italic;\">GMT</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">格式，我们使用的是</span><span style=\"color:#93a1a1;font-style:italic;\">GMT+8</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">时区<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&quot;Expires: &quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#969483;font-style:italic;\">gmdate</span>(<span style=\"color:#2aa198;\">&quot;D, d M Y H:i:s&quot;</span>, <span style=\"color:#969483;font-style:italic;\">time</span>() <span style=\"color:#079a71;\">+ </span><span style=\"color:#268bd2;\">$cache_time</span>) <span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&quot; GMT&quot;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送</span><span style=\"color:#93a1a1;font-style:italic;\">Cache_Control</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头标，设置</span><span style=\"color:#93a1a1;font-style:italic;\">xx</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">秒以后文档过时</span><span style=\"color:#93a1a1;font-style:italic;\">,</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">可以代替</span><span style=\"color:#93a1a1;font-style:italic;\">Expires</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，如果同时出现，</span><span style=\"color:#93a1a1;font-style:italic;\">max-age</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">优先。<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&quot;Cache-Control: max-age=</span><span style=\"color:#268bd2;\">$cache_time</span><span style=\"color:#2aa198;\">&quot;</span>);<br/><br/><br/><span style=\"color:#dc322f;\">?&gt;<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">html</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">head</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">title</span><span style=\"color:#93a1a1;\">&gt;</span>aaa<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">title</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">head</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">body</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">h3</span><span style=\"color:#93a1a1;\">&gt;</span><span style=\"font-family:&#39;宋体&#39;;\">文本</span>d<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">h3</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">body</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">html</span><span style=\"color:#93a1a1;\">&gt;</span></pre><p><br/></p><p><br/></p><p>但是<strong><span style=\"color:#ff0000\">今天没有搞明白PHP怎么根据请求头来缓存相对应的文件</span></strong></p><p><br/></p><p>却<span style=\"color:#ff0000\"><strong>搞明白了apache怎么缓存对应的文件，有对应代码记录</strong></span></p>', '2018-06-26 22:33:07', '2018-06-26 22:32:32', null, null, '87', '1', '1', '/index/article/show/id/24.html');
INSERT INTO `blog_article` VALUES ('25', '9', 'PHP header 参数 - 01', '参数', '//定义编码header( \'Content-Type:text/html;charset=utf-8 \'); //Atomheader(\'Content-type: application/atom+xml\'); //CSSheader(\'Content-type: text/css\'); //Javascriptheader(\'Content-type: text/javascript\');&nbs', '', '<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border: 1px solid silver; width: 1145px; word-break: break-word; color: rgb(57, 57, 57); white-space: normal; margin-top: 0px !important; margin-bottom: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; font-size: 12px !important; min-height: auto !important;\"><tbody style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><tr style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><td class=\"code\" style=\"padding: 3px; border-color: silver; border-collapse: collapse; border-radius: 0px !important; background: none !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><div class=\"container\" style=\"border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><div class=\"line number1 index0 alt2\" style=\"padding-right: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php comments\" style=\"white-space: pre-wrap; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 130, 0) !important;\"></code><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">定义编码<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>( <span style=\"color:#2aa198;\">&#39;Content-Type:text/html;charset=utf-8 &#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//Atom<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: application/atom+xml&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//CSS<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: text/css&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//Javascript<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: text/javascript&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//JPEG Image<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: image/jpeg&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//JSON<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: application/json&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//PDF<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: application/pdf&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//RSS<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: application/rss+xml; charset=ISO-8859-1&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//Text (Plain)<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: text/plain&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//XML<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-type: text/xml&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// ok<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;HTTP/1.1 200 OK&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置一个</span><span style=\"color:#93a1a1;font-style:italic;\">404</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">头</span><span style=\"color:#93a1a1;font-style:italic;\">:<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;HTTP/1.1 404 Not Found&#39;</span>);</pre><code class=\"php plain\" style=\"white-space: pre-wrap; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 0) !important;\"></code></div><div class=\"line number36 index35 alt1\" style=\"padding-right: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div></div></td></tr></tbody></table>', '2018-06-26 21:43:33', '2018-06-26 21:48:58', null, null, '82', '1', '1', '/index/article/show/id/25.html');
INSERT INTO `blog_article` VALUES ('26', '9', 'PHP header头 参数 2', '参数', '//设置地址被永久的重定向header(\'HTTP/1.1 301 Moved Permanently\'); //转到一个新地址header(\'Location: http://www.example.org/\'); //文件延迟转向:header(\'Refresh: 10; url=http://www.example.org/\');print \'You will be redirected in 10 se', '', '<div class=\"line number37 index36 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; white-space: normal; color: rgb(57, 57, 57); padding-right: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php comments\" style=\"white-space: pre-wrap; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 130, 0) !important;\"><strong></strong></code><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置地址被永久的重定向<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;HTTP/1.1 301 Moved Permanently&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">转到一个新地址<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Location: http://www.example.org/&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">文件延迟转向</span><span style=\"color:#93a1a1;font-style:italic;\">:<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Refresh: 10; url=http://www.example.org/&#39;</span>);<br/><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&#39;You will be redirected in 10 seconds&#39;</span>;<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">当然，也可以使用</span><span style=\"color:#93a1a1;font-style:italic;\">html</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">语法实现<br/></span><span style=\"color:#93a1a1;font-style:italic;\">// &lt;meta http-equiv=&quot;refresh&quot; content=&quot;10;http://www.example.org/ /&gt;<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">// override X-Powered-By: PHP:<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;X-Powered-By: PHP/4.4.0&#39;</span>);<br/><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;X-Powered-By: Brain/0.6b&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">文档语言<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-language: en&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">告诉浏览器最后一次修改时间<br/></span><span style=\"color:#268bd2;\">$time </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">time</span>() <span style=\"color:#079a71;\">- </span><span style=\"color:#2aa198;\">60</span>; <span style=\"color:#93a1a1;font-style:italic;\">// or filemtime($fn), etc<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Last-Modified: &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">gmdate</span>(<span style=\"color:#2aa198;\">&#39;D, d M Y H:i:s&#39;</span>, <span style=\"color:#268bd2;\">$time</span>)<span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39; GMT&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">告诉浏览器文档内容没有发生改变<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;HTTP/1.1 304 Not Modified&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置内容长度<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Length: 1234&#39;</span>);</pre><strong><code class=\"php plain\" style=\"white-space: pre-wrap; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 0) !important;\"></code></strong></div><p><br/></p>', '2018-06-26 21:45:17', '2018-06-26 21:48:44', null, null, '89', '1', '1', '/index/article/show/id/26.html');
INSERT INTO `blog_article` VALUES ('27', '9', 'PHP header 头 参数 03', '参数', '//设置为一个下载类型header(\'Content-Type: application/octet-stream\');header(\'Content-Disposition: attachment; filename=\"example.zip\"\');header(\'Content-Transfer-Encoding: binary\');// load the file to send:readfile(\'example', '', '<div class=\"line number67 index66 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; white-space: normal; color: rgb(57, 57, 57); padding-right: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php comments\" style=\"white-space: pre-wrap; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 130, 0) !important;\"></code><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置为一个下载类型<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: application/octet-stream&#39;</span>);<br/><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Disposition: attachment; filename=&quot;example.zip&quot;&#39;</span>);<br/><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Transfer-Encoding: binary&#39;</span>);<br/><span style=\"color:#93a1a1;font-style:italic;\">// load the file to send:<br/></span><span style=\"color:#969483;font-style:italic;\">readfile</span>(<span style=\"color:#2aa198;\">&#39;example.zip&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对当前文档禁用缓存<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Cache-Control: no-cache, no-store, max-age=0, must-revalidate&#39;</span>);<br/><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Expires: Mon, 26 Jul 1997 05:00:00 GMT&#39;</span>); <span style=\"color:#93a1a1;font-style:italic;\">// Date in the past<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Pragma: no-cache&#39;</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置内容类型</span><span style=\"color:#93a1a1;font-style:italic;\">:<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: text/html; charset=iso-8859-1&#39;</span>);<br/><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: text/html; charset=utf-8&#39;</span>);<br/><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: text/plain&#39;</span>); <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">纯文本格式<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: image/jpeg&#39;</span>); <span style=\"color:#93a1a1;font-style:italic;\">//JPG***<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: application/zip&#39;</span>); <span style=\"color:#93a1a1;font-style:italic;\">// ZIP</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">文件<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: application/pdf&#39;</span>); <span style=\"color:#93a1a1;font-style:italic;\">// PDF</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">文件<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: audio/mpeg&#39;</span>); <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">音频文件<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: application/x-shockw**e-flash&#39;</span>); <span style=\"color:#93a1a1;font-style:italic;\">//Flash</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">动画<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">显示登陆对话框<br/></span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;HTTP/1.1 401 Unauthorized&#39;</span>);<br/><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;WWW-Authenticate: Basic realm=&quot;Top Secret&quot;&#39;</span>);<br/><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&#39;Text that will be displayed if the user hits cancel or &#39;</span>;<br/><span style=\"color:#859900;\">print </span><span style=\"color:#2aa198;\">&#39;enters wrong login data&#39;</span>;</pre><code class=\"php plain\" style=\"white-space: pre-wrap; margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 0) !important;\"></code></div><p><br/></p>', '2018-06-26 21:45:47', '2018-06-26 21:48:28', null, null, '82', '1', '1', '/index/article/show/id/27.html');
INSERT INTO `blog_article` VALUES ('28', '9', 'Apache 之防盗链以及缓存', 'error', '<IfModule mod_rewrite.c>    SetEnvIfNoCase Referer \"http://111.com\" local_ref    SetEnvIfNoCase Referer \"http://aaa.com\" local_ref    #SetEnvIfNoCase Referer \"^$\" local_ref    <file', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Consolas&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;font-style:italic;\"># </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">下面是</span><span style=\"color:#93a1a1;font-style:italic;\">apaceh</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">防盗链<br/></span><span style=\"color:#268bd2;\">SetEnvIfNoCase </span><span style=\"color:#859900;\">Referer </span>&quot;<span style=\"color:#859900;\">http://localhost</span>&quot; <span style=\"color:#859900;\">local_ref<br/></span><span style=\"color:#268bd2;\">SetEnvIfNoCase </span><span style=\"color:#859900;\">Referer </span>&quot;<span style=\"color:#859900;\">http://localhost</span>&quot; <span style=\"color:#859900;\">local_ref<br/></span><span style=\"color:#93a1a1;font-style:italic;\">#SetEnvIfNoCase Referer &quot;^$&quot; local_ref<br/></span>&lt;<span style=\"color:#268bd2;\">filesmatch </span>&quot;<span style=\"color:#859900;\">\\.(txt|doc|mp3|zip|rar|jpg|gif|png|js|css)</span>&quot;&gt;<br/>          <span style=\"color:#268bd2;\">Order </span><span style=\"color:#859900;\">Allow,Deny<br/></span><span style=\"color:#859900;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">Allow </span><span style=\"color:#859900;\">from env=local_ref<br/></span>&lt;/<span style=\"color:#268bd2;\">filesmatch</span>&gt;<br/><br/><span style=\"color:#93a1a1;font-style:italic;\"># </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">下面是</span><span style=\"color:#93a1a1;font-style:italic;\">apaceh</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">开始缓存的方式<br/></span><span style=\"color:#93a1a1;font-style:italic;\"># </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">第一种方法需要开启</span><span style=\"color:#93a1a1;font-style:italic;\"> mod_expires.so</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">模块<br/></span>&lt;<span style=\"color:#268bd2;\">IfModule </span><span style=\"color:#859900;\">mod_expires.c</span>&gt;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">#</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">打开缓存<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">#ExpiresActive On<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;#</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">默认对所有资源缓存</span><span style=\"color:#93a1a1;font-style:italic;\">600</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">秒<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">#ExpiresDefault A5<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;#png</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">格式的资源缓存</span><span style=\"color:#93a1a1;font-style:italic;\">5</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">秒<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">#ExpiresByType image/png A5<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;#jpg</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">格式的资源缓存</span><span style=\"color:#93a1a1;font-style:italic;\">50</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">秒<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">#ExpiresByType image/jpg A5<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;#</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">好含这些后缀的资源，都缓存</span><span style=\"color:#93a1a1;font-style:italic;\">100</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">秒<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span>&lt;<span style=\"color:#268bd2;\">FilesMatch </span>&quot;<span style=\"color:#859900;\">\\.(jpg|jpeg|png|gif|swf)$</span>&quot;&gt;<br/>        <span style=\"color:#93a1a1;font-style:italic;\">#ExpiresDefault A5<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;# </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">第二种方法需要开启</span><span style=\"color:#93a1a1;font-style:italic;\"> mod_headers.so</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">模块<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">#Header set Cache-Control &quot;max-age=5&quot;<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;# </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">缓存的第三种方法 &nbsp;这个没有生效 可能是 没有开启</span><span style=\"color:#93a1a1;font-style:italic;\"> mod_expires.so </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">模块<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\"># FileEtag INode Mtime Size<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span>&lt;/<span style=\"color:#268bd2;\">FilesMatch</span>&gt;<br/>&lt;/<span style=\"color:#268bd2;\">IfModule</span>&gt;</pre><p><br/></p>', '2018-06-26 22:12:09', '2018-06-26 22:29:04', null, null, '96', '1', '0', '/index/article/show/id/28.html');
INSERT INTO `blog_article` VALUES ('29', '9', 'PHP-redis  消息队列 1', 'error', 'redis实现消息队列步骤如下：1）.redis函数rpush,lpop2）.建议定时任务入队列3）创建定时任务出队列插入数据到redis队列<?php $redis = new Redis(); $redis->connect(\'127.0.0.1\',6379); $password = \'123456\'; $redis->auth($password);', '', '<p style=\"margin: 10px auto; font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\">redis实现消息队列步骤如下：</p><p style=\"margin: 10px auto; font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\">1）.redis函数rpush,lpop</p><p style=\"margin: 10px auto; font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\">2）.建议定时任务入队列</p><p style=\"margin: 10px auto; font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\">3）创建定时任务出队列</p><p style=\"margin: 10px auto; font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\"><br/></p><p style=\"margin: 10px auto; font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\">插入数据到redis队列</span></p><div class=\"line number1 index0 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">&lt;?php</code></div><div class=\"line number2 index1 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number3 index2 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">=&nbsp;</code><code class=\"php keyword\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 255) !important;\">new</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">Redis();</code></div><div class=\"line number4 index3 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number5 index4 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">-&gt;connect(</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;127.0.0.1&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,6379);</code></div><div class=\"line number6 index5 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number7 index6 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$password</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">=&nbsp;</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;123456&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">;</code></div><div class=\"line number8 index7 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number9 index8 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">-&gt;auth(</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$password</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">);</code></div><div class=\"line number10 index9 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number11 index10 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$arr</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">=&nbsp;</code><code class=\"php keyword\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 255) !important;\">array</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">(</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;h&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;e&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;l&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;l&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;o&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;w&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;o&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;r&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;l&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;d&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">);</code></div><div class=\"line number12 index11 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number13 index12 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php keyword\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 255) !important;\">foreach</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">(</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$arr</code>&nbsp;<code class=\"php keyword\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 255) !important;\">as</code>&nbsp;<code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$k</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">=&gt;</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$v</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">){</code></div><div class=\"line number14 index13 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number15 index14 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php spaces\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">&nbsp;&nbsp;</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">-&gt;rpush(</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&quot;mylist&quot;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$v</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">);</code></div><div class=\"line number16 index15 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><p style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">}</code></p><p style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\"><br/></code></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\">定时扫描出队列</span></p><p><span style=\"font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif; font-size: 14px; white-space: normal;\"></span></p><div class=\"line number1 index0 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">&lt;?php</code></div><div class=\"line number2 index1 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number3 index2 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">=&nbsp;</code><code class=\"php keyword\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 255) !important;\">new</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">Redis();</code></div><div class=\"line number4 index3 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number5 index4 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">-&gt;connect(</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;127.0.0.1&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">,6379);</code></div><div class=\"line number6 index5 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number7 index6 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$password</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">=&nbsp;</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;123456&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">;</code></div><div class=\"line number8 index7 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number9 index8 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">-&gt;auth(</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$password</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">);</code></div><div class=\"line number10 index9 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number11 index10 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php comments\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 130, 0) !important;\">//list类型出队操作</code></div><div class=\"line number12 index11 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number13 index12 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$value</code>&nbsp;<code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">=&nbsp;</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$redis</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">-&gt;lpop(</code><code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&#39;mylist&#39;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">);</code></div><div class=\"line number14 index13 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number15 index14 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php keyword\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 255) !important;\">if</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">(</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$value</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">){</code></div><div class=\"line number16 index15 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number17 index16 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php spaces\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">&nbsp;</code><code class=\"php functions\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(255, 20, 147) !important;\">echo</code>&nbsp;<code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&quot;出队的值&quot;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">.</code><code class=\"php variable\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(170, 119, 0) !important;\">$value</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">;</code></div><div class=\"line number18 index17 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number19 index18 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">}</code><code class=\"php keyword\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(0, 0, 255) !important;\">else</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">{</code></div><div class=\"line number20 index19 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number21 index20 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php spaces\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">&nbsp;&nbsp;</code><code class=\"php functions\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: rgb(255, 20, 147) !important;\">echo</code>&nbsp;<code class=\"php string\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important; color: blue !important;\">&quot;出队完成&quot;</code><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">;</code></div><div class=\"line number22 index21 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><div class=\"line number23 index22 alt2\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">}</code></div><div class=\"line number24 index23 alt1\" style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background-image: none !important; background-position: initial !important; background-size: initial !important; background-repeat: initial !important; background-attachment: initial !important; background-origin: initial !important; background-clip: initial !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\">&nbsp;</div><p style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">?&gt;</code></p><p style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\"><br/></code></p><p style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\"><br/></code></p><p style=\"font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; padding-right: 1em !important; padding-left: 1em !important; border-radius: 0px !important; background: none rgb(244, 244, 244) !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important;\"><code class=\"php plain\" style=\"margin: 0px !important; padding: 0px !important; border-radius: 0px !important; background: none !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.8em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; min-height: auto !important;\">https://blog.csdn.net/u014017080/article/details/52312871&nbsp; &nbsp;这个也需要学习下</code></p>', '2018-06-26 22:46:08', '2018-06-26 22:55:00', null, null, '94', '0', '0', '/index/article/show/id/29.html');
INSERT INTO `blog_article` VALUES ('30', '9', 'PHP 多进程的推送', 'error', '<?php     //push推送配置 注:使用前请确认log文件为空    2016-04-12 include_once(dirname (__FILE__).\"/../../config.inc.php\"); //if(exec(\'ps aux | grep redis_push.php | grep -v grep | wc -l\') != 0) goto check; im', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-size:10.8pt;\"><br/><br/></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"> <span style=\"color:#93a1a1;font-style:italic;\">//push</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">推送配置 注</span><span style=\"color:#93a1a1;font-style:italic;\">:</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">使用前请确认</span><span style=\"color:#93a1a1;font-style:italic;\">log</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">文件为空</span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;2016-04-12 <br/></span><span style=\"color:#859900;\">include_once</span>(<span style=\"color:#969483;font-style:italic;\">dirname </span>(<span style=\"color:#d33682;\">__FILE__</span>)<span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;/../../config.inc.php&quot;</span>); <br/><span style=\"color:#93a1a1;font-style:italic;\">//if(exec(&#39;ps aux | grep redis_push.php | grep -v grep | wc -l&#39;) != 0) goto check; <br/></span><span style=\"color:#839496;\">import</span>(<span style=\"color:#2aa198;\">&#39;push.class.php&#39;</span>); <br/><span style=\"color:#839496;\">import</span>(<span style=\"color:#2aa198;\">&#39;Redis.class.php&#39;</span>); <br/>  <br/><span style=\"color:#268bd2;\">$time </span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">time</span>(); <br/><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>(<span style=\"color:#2aa198;\">&quot;apikey&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&#39;xxxx&#39;</span>,<span style=\"color:#2aa198;\">&quot;secret&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&#39;xxxx&#39;</span>); <br/><span style=\"color:#268bd2;\">$push </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">Channel</span>(<span style=\"color:#268bd2;\">$data</span>); <br/><span style=\"color:#268bd2;\">$redis </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">RedisCache</span>(<span style=\"color:#268bd2;\">$Credis[</span><span style=\"color:#2aa198;\">&#39;host&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$Credis[</span><span style=\"color:#2aa198;\">&#39;port&#39;</span><span style=\"color:#268bd2;\">]</span>); <br/><span style=\"color:#859900;\">if</span>(<span style=\"color:#969483;font-style:italic;\">exec</span>(<span style=\"color:#2aa198;\">&#39;ps aux | grep redis_push.php | grep -v grep | wc -l&#39;</span>) <span style=\"color:#079a71;\">!= </span><span style=\"color:#2aa198;\">0</span>) <span style=\"color:#859900;\">goto </span><span style=\"color:#839496;\">check</span>;<span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果有推送任务 直接执行监控代码 <br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp;<br/></span><span style=\"color:#93a1a1;font-style:italic;\">/*PUSH</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">配置项</span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#268bd2;\">$config </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>(<br/>    <span style=\"color:#2aa198;\">&quot;file&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&quot;test.txt&quot;</span>,<br/>    <span style=\"color:#2aa198;\">&quot;Title&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&quot;sssss&quot;</span>,<br/>    <span style=\"color:#2aa198;\">&quot;Content&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&quot;ssssssssssssssss&quot;</span>,<br/>    <span style=\"color:#2aa198;\">&quot;OpenType&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&quot;0&quot;</span>,  <span style=\"color:#93a1a1;font-style:italic;\">//1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是</span><span style=\"color:#93a1a1;font-style:italic;\"> 0</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">否 &nbsp;是否跳转链接 <br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#2aa198;\">&quot;Url&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&quot;&quot;</span>,     <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">链接地址 <br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#2aa198;\">&quot;num&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&quot;500&quot;</span>,   <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">每次推送条数 <br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#2aa198;\">&quot;s&quot;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&quot;1&quot; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">睡眠时间 （单位：秒） <br/></span>); <br/><span style=\"color:#268bd2;\">$num </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">15</span>;      <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">启动进程数量 <br/></span><span style=\"color:#268bd2;\">$a </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$config[</span><span style=\"color:#2aa198;\">&#39;OpenType&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">1 </span><span style=\"color:#079a71;\">? </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">是</span><span style=\"color:#2aa198;\">&quot; </span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">否</span><span style=\"color:#2aa198;\">&quot;</span>; <br/><span style=\"color:#268bd2;\">$c </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">json_encode</span>(<span style=\"color:#268bd2;\">$config</span>); <br/><span style=\"color:#268bd2;\">$info </span><span style=\"color:#079a71;\">= </span><span style=\"font-weight:bold;\">&lt;&lt;&lt;monkey</span><span style=\"color:#2aa198;\"> <br/></span><span style=\"color:#2aa198;\"> &nbsp;************ </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">请确认信息是否有误</span><span style=\"color:#2aa198;\">*10</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">秒后启动</span><span style=\"color:#2aa198;\">push</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">任务</span><span style=\"color:#2aa198;\">! ************* <br/></span><span style=\"color:#2aa198;\"> &nbsp;* </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">文件名称</span><span style=\"color:#2aa198;\"> &nbsp;: </span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$config[</span><span style=\"color:#2aa198;\">&#39;file&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#2aa198;\">; <br/></span><span style=\"color:#2aa198;\"> &nbsp;* </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">推送标题</span><span style=\"color:#2aa198;\"> &nbsp;: </span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$config[</span><span style=\"color:#2aa198;\">&#39;Title&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#2aa198;\">; <br/></span><span style=\"color:#2aa198;\"> &nbsp;* </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">推送内容</span><span style=\"color:#2aa198;\"> &nbsp;: </span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$config[</span><span style=\"color:#2aa198;\">&#39;Content&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#2aa198;\">; <br/></span><span style=\"color:#2aa198;\"> &nbsp;* </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">是否跳转</span><span style=\"color:#2aa198;\"> &nbsp;: </span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$config[</span><span style=\"color:#2aa198;\">&#39;OpenType&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#2aa198;\">; <br/></span><span style=\"color:#2aa198;\"> &nbsp;* </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">进程数量</span><span style=\"color:#2aa198;\"> &nbsp;: </span><span style=\"color:#268bd2;\">$num</span><span style=\"color:#2aa198;\">;(</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">如果为单进程无视此项</span><span style=\"color:#2aa198;\">) <br/></span><span style=\"color:#2aa198;\"> &nbsp;* </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">睡眠时间</span><span style=\"color:#2aa198;\"> &nbsp;: </span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$config[</span><span style=\"color:#2aa198;\">&#39;s&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#2aa198;\">; <br/></span><span style=\"color:#2aa198;\"> &nbsp;* </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">日志目录</span><span style=\"color:#2aa198;\"> &nbsp;: /log; <br/></span><span style=\"color:#2aa198;\"> &nbsp;***************************************************************\\n <br/></span><span style=\"color:#2aa198;\">monkey; <br/></span><span style=\"color:#2aa198;\">echo </span><span style=\"color:#268bd2;\">$info</span><span style=\"color:#2aa198;\">; <br/></span><span style=\"color:#2aa198;\">sleep(3); <br/></span><span style=\"color:#268bd2;\">$n</span><span style=\"color:#2aa198;\"> = 1; <br/></span><span style=\"color:#2aa198;\">while(</span><span style=\"color:#268bd2;\">$n</span><span style=\"color:#2aa198;\">&lt;=10){ <br/></span><span style=\"color:#2aa198;\"> echo (10-</span><span style=\"color:#268bd2;\">$n</span><span style=\"color:#2aa198;\">++),&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">秒</span><span style=\"color:#2aa198;\">\\n&quot;; <br/></span><span style=\"color:#2aa198;\"> sleep(1); <br/></span><span style=\"color:#2aa198;\">} <br/></span><span style=\"color:#2aa198;\">echo &quot;------------------------- </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">任务已启动</span><span style=\"color:#2aa198;\"> -------------------------\\n&quot;; <br/></span><span style=\"color:#2aa198;\">if(</span><span style=\"color:#268bd2;\">$redis</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Scount</span><span style=\"color:#2aa198;\">(&#39;push_getchannel_success&#39;)){ <br/></span><span style=\"color:#2aa198;\"> echo &quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">队列有未完成任务</span><span style=\"color:#2aa198;\">\\n&quot;; <br/></span><span style=\"color:#2aa198;\">}else{ <br/></span><span style=\"color:#2aa198;\"> </span><span style=\"color:#268bd2;\">$res</span><span style=\"color:#2aa198;\"> = exec(&quot;php redis_getchannel.php </span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$config[</span><span style=\"color:#2aa198;\">&#39;file&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#2aa198;\">&quot;);//</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">写入</span><span style=\"color:#2aa198;\">redis</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">脚本</span><span style=\"color:#2aa198;\"> <br/></span><span style=\"color:#2aa198;\"> echo </span><span style=\"color:#268bd2;\">$res</span><span style=\"color:#2aa198;\">; <br/></span><span style=\"color:#2aa198;\">} <br/></span><span style=\"color:#2aa198;\">smtp_mail(&#39;xxxx@qq.com&#39;,&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">推送任务已开启</span><span style=\"color:#2aa198;\">&#39;,&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">请实时监测</span><span style=\"color:#2aa198;\">,5</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">秒后您的手机将接收到测试推送</span><span style=\"color:#2aa198;\">!&#39;);//</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">推送监控 实现定时全自动推送</span><span style=\"color:#2aa198;\"> &nbsp;<br/></span><span style=\"color:#2aa198;\">echo &quot;\\n---------------- 5</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">秒后</span><span style=\"color:#2aa198;\"> test </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">将收到测试推送消息</span><span style=\"color:#2aa198;\"> ----------------\\n&quot;; <br/></span><span style=\"color:#2aa198;\">sleep(5); <br/></span><span style=\"color:#268bd2;\">$re</span><span style=\"color:#2aa198;\"> = </span><span style=\"color:#268bd2;\">$push</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">BaiduPush</span><span style=\"color:#2aa198;\">(&#39;xxxx&#39;,&#39;xxxxx&#39;,</span><span style=\"color:#268bd2;\">$config[</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#d33682;\">Content</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#2aa198;\">,</span><span style=\"color:#268bd2;\">$config[</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#d33682;\">Title</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#2aa198;\">,&#39;1&#39;,</span><span style=\"color:#268bd2;\">$config[</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#d33682;\">OpenType</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#2aa198;\">,</span><span style=\"color:#268bd2;\">$config[</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#d33682;\">Url</span><span style=\"background-color:#ffcccc;\">&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#2aa198;\">,&#39;xxxxx&#39;,</span><span style=\"color:#268bd2;\">$push</span><span style=\"color:#2aa198;\">); <br/></span><span style=\"color:#2aa198;\">sleep(1); <br/></span><span style=\"color:#2aa198;\">echo &quot;\\n---------------- </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">测试推送已发出</span><span style=\"color:#2aa198;\">!</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">如未收到</span><span style=\"color:#2aa198;\">,</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">请及时终止程序</span><span style=\"color:#2aa198;\">! 10</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">秒后正式推送</span><span style=\"color:#2aa198;\">!!! ----------------\\n&quot;; <br/></span><span style=\"color:#268bd2;\">$m</span><span style=\"color:#2aa198;\"> = 1; <br/></span><span style=\"color:#2aa198;\">while(</span><span style=\"color:#268bd2;\">$m</span><span style=\"color:#2aa198;\">&lt;=10){ <br/></span><span style=\"color:#2aa198;\"> echo (10-</span><span style=\"color:#268bd2;\">$m</span><span style=\"color:#2aa198;\">++),&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">秒</span><span style=\"color:#2aa198;\">\\n&quot;; <br/></span><span style=\"color:#2aa198;\"> sleep(1); <br/></span><span style=\"color:#2aa198;\">} <br/></span><span style=\"color:#2aa198;\">echo &quot;\\n---------------- </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">推送任务已经开始</span><span style=\"color:#2aa198;\">!</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">请耐心等待</span><span style=\"color:#2aa198;\">! ----------------\\n&quot;; <br/></span><span style=\"color:#2aa198;\">//</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">下面设置是否多进程</span><span style=\"color:#2aa198;\"> <br/></span><span style=\"color:#2aa198;\">for(</span><span style=\"color:#268bd2;\">$i</span><span style=\"color:#2aa198;\">=1;</span><span style=\"color:#268bd2;\">$i</span><span style=\"color:#2aa198;\">&lt;=</span><span style=\"color:#268bd2;\">$num</span><span style=\"color:#2aa198;\">;</span><span style=\"color:#268bd2;\">$i</span><span style=\"color:#2aa198;\">++){ <br/></span><span style=\"color:#2aa198;\">exec(&quot;php redis_push.php &#39;</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$c</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#2aa198;\">&#39; &gt; /dev/null 2&gt;&amp;1 &amp;&quot;); <br/></span><span style=\"color:#2aa198;\">} <br/></span><span style=\"color:#2aa198;\"> &nbsp;<br/></span><span style=\"color:#2aa198;\">check: <br/></span><span style=\"color:#2aa198;\">while(1){ <br/></span><span style=\"color:#2aa198;\"> if(exec(&#39;ps aux | grep redis_push.php | grep -v grep | wc -l&#39;) == 0){ <br/></span><span style=\"color:#2aa198;\"> &nbsp;echo &quot;push </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">发送完成 用时</span><span style=\"color:#2aa198;\">&quot;,time()-</span><span style=\"color:#268bd2;\">$time</span><span style=\"color:#2aa198;\">,&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">秒</span><span style=\"color:#2aa198;\">&quot;; <br/></span><span style=\"color:#2aa198;\"> &nbsp;die(); <br/></span><span style=\"color:#2aa198;\"> } <br/></span><span style=\"color:#2aa198;\"> echo &quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">当前进程数：</span><span style=\"color:#2aa198;\">&quot;,exec(&#39;ps aux | grep redis_push.php | grep -v grep | wc -l&#39;),&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">个</span><span style=\"color:#2aa198;\">&quot;,&quot;\\n&quot;; <br/></span><span style=\"color:#2aa198;\"> echo &quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">当前剩余推送数量：</span><span style=\"color:#2aa198;\">&quot;.</span><span style=\"color:#268bd2;\">$redis</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">Scount</span><span style=\"color:#2aa198;\">(&#39;push_getchannel_success&#39;).&quot;\\n&quot;; <br/></span><span style=\"color:#2aa198;\"> sleep(10); <br/></span><span style=\"color:#2aa198;\">} </span></pre><p><br/></p>', '2018-06-27 22:45:12', '2018-06-27 13:47:26', null, null, '74', '0', '1', '/index/article/show/id/30.html');
INSERT INTO `blog_article` VALUES ('31', '9', 'PHP redis 函数', '函数 redis', '1.开启服务端redis-server.exe redis.windows.conf2.开启客户端redis-cli.exe -h 127.0.0.1 -p 63793.', '', '<p>1.开启服务端</p><p>redis-server.exe redis.windows.conf</p><p><br/></p><p>2.开启客户端</p><p>redis-cli.exe -h 127.0.0.1 -p 6379</p><p><br/></p><p>3.</p><p><br/></p>', '2018-06-27 21:49:50', '2018-06-27 13:52:17', null, null, '75', '1', '1', '/index/article/show/id/31.html');
INSERT INTO `blog_article` VALUES ('32', '20', 'MYSQL 优化常用方法', '优化', '1.&nbsp;选择最实用的字段属性：比如说一个状态码status（-1=拒绝 0=审核中 1=审核成功），这个字段就最好设置为tinyint，对于与设置int好一些。因为占用的空间不一样PS：总结：int(11)，tinyint(1)，bigint(20)，后面的数字，不代表占用空间容量。而代表最小显示位数。这个东西基本没有意义，除非你对字段指定zerofill。2.使用JOIN，并且设置索引字段，连接（JOIN）.. 之所以更有效率一些，是因为 MySQL不需要在内存中创建临时表来完成这个逻', '', '<p>1.&nbsp;<strong>选择最实用的字段属性：比如说一个状态码status（-1=拒绝 0=审核中 1=审核成功），这个字段就最好设置为tinyint，对于与设置int好一些。</strong></p><p><strong>因为占用的空间不一样</strong></p><p>PS：<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; text-align: justify; white-space: normal;\">总结：int(11)，tinyint(1)，bigint(20)，后面的数字，</span><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all; color: rgb(79, 79, 79); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; text-align: justify; white-space: normal;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(255, 0, 0);\">不代表占用空间容量。而代表最小显示位数</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; text-align: justify; white-space: normal;\">。这个东西基本没有意义，除非你对字段指定zerofill。</span></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; text-align: justify; white-space: normal;\">2.<strong>使用JOIN，并且设置索引字段，<span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">连接（JOIN）.. 之所以更有效率一些，是因为 MySQL不需要在内存中创建临时表来完成这个逻辑上的需要两个步骤的查询工作，我基本不怎么用子查询</span></strong></span></p><p style=\"text-align: justify;\"><span style=\"color:#333333;font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong>3.<span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">使用联合(UNION)来代替手动创建的临时表&nbsp;</span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"color:#333333;font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">SELECT Name, Phone FROM client UNION SELECT Name, BirthDate FROM author&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">UNION&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">SELECT Name, Supplier FROM product&nbsp;</span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"color:#333333;font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong>4.启用事物&nbsp;</strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\"><span style=\"color:#333333\">&nbsp; &nbsp; &nbsp;</span><span style=\"color:#ff0000\"> MYISAM</span><span style=\"color:#333333\">是不支持事物的，但是</span><span style=\"color:#ff0000\">查询效率快，存储效率快，并且占用磁盘较少</span><span style=\"color:#333333\">，在MYISAM引擎中</span><span style=\"color:#ff0000\">使用count速度</span><span style=\"color:#333333\">会会快。所以，当我们用的表不涉及到原子性的逻辑，并且数据量很大，可以设置为MYISAM。</span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\"><span style=\"color:#333333\">&nbsp; &nbsp; &nbsp; 但是比如说，用户下单了，需要生成用户的订单记录表，并且需要生成对应的订单详细商品，在这里如果没有事物操作，在写完订单表然后出错了，这样用户就只会有这笔记交易的基本信息，但是用户买的什么显然就不知道了，这样就是很差的很诡异的现象。像</span><span style=\"color:#ff0000\">这种原子性的，前后必须要正确的，就需要开启事物了</span><span style=\"color:#333333\">。</span><span style=\"color:#ff0000\">开启事物，需要设置表的引擎为INNODB</span><span style=\"color:#333333\">，此引擎支持表锁，</span><span style=\"color:#ff0000\">支持事物，bengin&nbsp;transcation&nbsp; &nbsp;====&nbsp; &nbsp;执行业务逻辑（出错==rollback）&nbsp;正确 ===&nbsp;commit，注意在事物范围内，如果有某表并不是INNODB，这个事物显得也没那么有意义</span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\">5.<span style=\"color:#ff0000\">外键</span>这个东西。。。感觉是挺好的。保证数据的完整性或者合法性。<br/></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\"><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">CREATE TABLE customerinfo&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">(&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">CustomerID INT NOT NULL ,&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(255, 0, 0); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">PRIMARY KEY ( CustomerID )&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">) TYPE = INNODB;&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">CREATE TABLE salesinfo&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">(&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">SalesID INT NOT NULL,&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">CustomerID INT NOT NULL,&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">PRIMARY KEY(CustomerID, SalesID),&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(255, 0, 0); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">FOREIGN KEY (CustomerID) REFERENCES customerinfo&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><span style=\"color:#ff0000\">(CustomerID) </span><span style=\"color:#76923c\">ON DELETECASCADE&nbsp;</span></span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"/><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">) TYPE = INNODB;&nbsp;</span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\"><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">注意例子中的参数“</span><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;color:#76923c\">ON DELETE CASCADE”。该参数保证当 customerinfo 表中的一条客户记录被删除的时候，salesinfo 表中所有与该客户相关的记录也会被自动删除</span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">。如果要在 MySQL 中使用外键，一定要记住在创建表的时候将表的类型定义</span><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;color:#76923c\">为事务安全表 InnoDB类型</span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">。该类型不是 MySQL 表的默认类型。定义的方法是在 CREATE TABLE 语句中加上 TYPE=INNODB。如例中所示。&nbsp;</span></span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\"><span style=\"color:#ff0000\"><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">6.使用索引、</span></span></span></span></span></span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\"><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">索引是</span><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;color:#76923c\">提高数据库性能的常用方</span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">法，它可以令数据库服务器以比没有索引快得多的速度检索特定的行，</span><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;color:#76923c\">尤其是在查询语句当中包含有MAX(), MIN()和ORDERBY这些命令的时候，性能提高更为明显</span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">。那该对哪些字段建立索引呢？一般说来，</span><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;color:#76923c\">索引应建立在那些将用于JOIN, WHERE判断和ORDER BY排序的字段上</span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">。</span><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;color:#76923c\">尽量不要对数据库中某个含有大量重复的值的字段建立索引</span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">。</span></span></span></strong></span></span></p><p style=\"text-align: justify;\"><span style=\"font-family:-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun\"><span style=\"font-size: 14px;\"><strong style=\"\"><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><span style=\"font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">7.然后就是我们的SQL语句优化了，可以通过explain来分析一下语句，然后具体调整</span></span></span></strong></span></span></p>', '2018-06-27 19:58:14', '2018-06-27 20:28:16', null, null, '78', '1', '0', '/index/article/show/id/32.html');
INSERT INTO `blog_article` VALUES ('33', '20', 'MYSQL 性能优化', 'MYSQL 性能优化', '方法一：通用cmd来设置mysql&gt; show global status;&nbsp; //&nbsp;可以列出mysql服务器运行各种状态值+------------------------------------------+-------------+| Variable_name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Va', '', '<p>方法一：通用cmd来设置</p><p>mysql&gt; s<span style=\"color:#76923c\">how global status;</span>&nbsp; <span style=\"color:#76923c\">//&nbsp;<span style=\"font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif; text-align: justify; white-space: normal;\">可以列出mysql服务器运行各种状态值</span></span></p><p>+------------------------------------------+-------------+</p><p>| Variable_name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Value&nbsp; &nbsp; &nbsp; &nbsp;|</p><p>+------------------------------------------+-------------+</p><p>| Aborted_clients&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</p><p>............</p><p><br/></p><p>mysql&gt; <span style=\"color:#76923c\">show variables;</span>&nbsp; &nbsp; <span style=\"color:#76923c\">//<span style=\"font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif; text-align: justify; white-space: normal;\">查询mysql服务器配置信息语句：</span></span></p><p>+---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+</p><p>| Variable_name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Value&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</p><p>+---------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+</p><p>| auto_increment_increment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</p><p><br/></p><p><br/></p><p>1.&nbsp;慢查询</p><p><span style=\"white-space: nowrap;\">mysql&gt; show variables like &#39;slow%&#39;;&nbsp; &nbsp;//查看慢查询是否打开</span></p><p><span style=\"white-space: nowrap;\">+---------------------+-------------------------------------------------+</span></p><p><span style=\"white-space: nowrap;\">| Variable_name&nbsp; &nbsp; &nbsp; &nbsp;| Value&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">+---------------------+-------------------------------------------------+</span></p><p><span style=\"white-space: nowrap;\">| slow_launch_time&nbsp; &nbsp; | 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">| slow_query_log&nbsp; &nbsp; &nbsp; | OFF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">| slow_query_log_file | D:\\phpStudy\\MySQL\\data\\WIN-P0AQHQ5QACM-slow.log |</span></p><p><span style=\"white-space: nowrap;\">+---------------------+-------------------------------------------------+</span></p><p><span style=\"white-space: nowrap;\">3 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; show global status like &#39;slow%&#39;;&nbsp; //慢查询的记录</span></p><p><span style=\"white-space: nowrap;\">+---------------------+-------+</span></p><p><span style=\"white-space: nowrap;\">| Variable_name&nbsp; &nbsp; &nbsp; &nbsp;| Value |</span></p><p><span style=\"white-space: nowrap;\">+---------------------+-------+</span></p><p><span style=\"white-space: nowrap;\">| Slow_launch_threads | 0&nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">| Slow_queries&nbsp; &nbsp; &nbsp; &nbsp; | 0&nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">+---------------------+-------+</span></p><p><span style=\"white-space: nowrap;\">2 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; <span style=\"color:#76923c\">set global slow_query_log=&#39;ON&#39;; </span>//开启慢查询</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.02 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; <span style=\"color:#76923c\">set global slow_query_log_file=</span>&#39;D:\\phpStufy\\MySQL\\data\\db-slow.log&#39;;//设置慢查询的日志文件位置</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.02 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; <span style=\"color:#76923c\">set global slow_launch_time=3</span>; //超过3S就记录</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; show variables like &#39;slow%&#39;;</span></p><p><span style=\"white-space: nowrap;\">+---------------------+--------------------------------+</span></p><p><span style=\"white-space: nowrap;\">| Variable_name&nbsp; &nbsp; &nbsp; &nbsp;| Value&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+---------------------+--------------------------------+</span></p><p><span style=\"white-space: nowrap;\">| slow_launch_time&nbsp; &nbsp; | 3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| slow_query_log&nbsp; &nbsp; &nbsp; | ON&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">| slow_query_log_file | D:phpStufyMySQLdatadb-slow.log |</span></p><p><span style=\"white-space: nowrap;\">+---------------------+--------------------------------+</span></p><p><span style=\"white-space: nowrap;\">3 rows in set (0.00 sec)</span></p><p>mysql&gt;<span style=\"color:#76923c\"> show variables like &#39;long_query_time&#39;; //&nbsp;</span></p><p>+-----------------+-----------+</p><p>| Variable_name&nbsp; &nbsp;| Value&nbsp; &nbsp; &nbsp;|</p><p>+-----------------+-----------+</p><p>| long_query_time | 10.000000 |</p><p>+-----------------+-----------+</p><p>1 row in set (0.00 sec)</p><p><br/></p><p><br/></p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 14px; line-height: 26px; word-break: break-all; white-space: normal; font-family: &quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;\">方法二：配置文件设置<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>修改配置文件my.cnf，在[mysqld]下的下方加入</p><div class=\"cnblogs_code\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all; white-space: normal; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); font-family: &quot;Courier New&quot;; font-size: 12px;\"><p style=\"box-sizing: border-box; outline: 0px; padding: 8px; margin-bottom: 24px; position: relative; overflow-x: auto; font-family: &quot;Courier New&quot;; font-size: 14px; line-height: 22px; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(255, 0, 0); line-height: 1.5;\">[</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(255, 0, 0); line-height: 1.5;\">mysqld</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(255, 0, 0); line-height: 1.5;\">]</span></p><p style=\"box-sizing: border-box; outline: 0px; padding: 8px; margin-bottom: 24px; position: relative; overflow-x: auto; font-family: &quot;Courier New&quot;; font-size: 14px; line-height: 22px; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 1.5;\">slow_query_log </span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">=</span> <span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 255); line-height: 1.5;\">ON</span></p><p style=\"box-sizing: border-box; outline: 0px; padding: 8px; margin-bottom: 24px; position: relative; overflow-x: auto; font-family: &quot;Courier New&quot;; font-size: 14px; line-height: 22px; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 1.5;\">slow_query_log_file </span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">=</span> <span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">/</span>usr<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">/</span>local<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">/</span>mysql<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">/</span>data<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">/</span>slow.<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(255, 0, 255); line-height: 1.5;\">log</span></p><p style=\"box-sizing: border-box; outline: 0px; padding: 8px; margin-bottom: 24px; position: relative; overflow-x: auto; font-family: &quot;Courier New&quot;; font-size: 14px; line-height: 22px; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 1.5;\">long_query_time </span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 128, 128); line-height: 1.5;\">=</span> <span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(128, 0, 0); line-height: 1.5;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">1</span></span></p></div><p><br/></p><p><br/></p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">网 上有不少mysql 性能优化方案，不过，mysql的优化同sql server相比，更为麻烦与复杂，同样的设置，在不同的环境下 ，由于内存，访问量，读写频率，数据差异等等情况，可能会出现不同的结果，因此简单地根据某个给出方案来配置mysql是行不通的，最好能使用 status信息对mysql进行具体的优化。</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\"><code style=\"box-sizing: border-box; outline: 0px; border-radius: 4px; word-break: break-all; line-height: 1.5em; border: 1px solid rgb(239, 239, 239); overflow: auto; background-color: rgb(252, 252, 249); display: block; font-size: 1em; font-family: &quot;Lucida Console&quot;, &quot;courier new&quot;, monospace;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 24px; font-family: nsimsun;\">mysql&gt; show global status;</span></code></p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">　　可以列出mysql服务器运行各种状态值，另外，查询mysql服务器配置信息语句：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\"><code style=\"box-sizing: border-box; outline: 0px; border-radius: 4px; word-break: break-all; line-height: 1.5em; border: 1px solid rgb(239, 239, 239); overflow: auto; background-color: rgb(252, 252, 249); display: block; font-size: 1em; font-family: &quot;Lucida Console&quot;, &quot;courier new&quot;, monospace;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 24px; font-family: nsimsun;\">mysql&gt; show variables;</span></code></p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">一、慢查询</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\"><code style=\"box-sizing: border-box; outline: 0px; border-radius: 4px; word-break: break-all; line-height: 1.5em; border: 1px solid rgb(239, 239, 239); overflow: auto; background-color: rgb(252, 252, 249); display: block; font-size: 1em; font-family: &quot;Lucida Console&quot;, &quot;courier new&quot;, monospace;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 24px; font-family: nsimsun;\">mysql&gt; show variables like &#39;slow%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　 | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| log_slow_queries | on　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| slow_launch_time | 2　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------+-------+</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 24px;\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 24px;\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 24px; font-family: nsimsun;\">mysql&gt; show global status like&nbsp;<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; line-height: 18px;\">&#39;slow%&#39;;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　 | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| slow_launch_threads | 0　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| slow_queries　　　　　　　　 | 4148 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------------+-------+&nbsp;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/></span></code></p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">配 置中打开了记录慢查询，执行时间超过2秒的即为慢查询，系统显示有4148个慢查询，你可以分析慢查询日志，找出有问题的sql语句，慢查询时间不宜设置 过长，否则意义不大，最好在5秒以内，如果你需要微秒级别的慢查询，可以考虑给mysql打补丁：http://www.percona.com /docs/wiki/release:start，记得找对应的版本。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">打开慢查询日志可能会对系统性能有一点点影响，如果你的mysql是主－从结构，可以考虑打开其中一台从服务器的慢查询日志，这样既可以监控慢查询，对系统性能影响又小。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">二、连接数</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">经 常会遇见”mysql: error 1040: too many connections”的情况，一种是访问量确实很高，mysql服务器抗不住，这个时候就要考虑增加从服务器分散读压力，另外一种情况是mysql配 置文件中max_connections值过小：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show variables like &#39;max_connections&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　 | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| max_connections | 256　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------+-------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">这台mysql服务器最大连接数是256，然后查询一下服务器响应的最大连接数：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;max_used_connections&#39;;</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">mysql服务器过去的最大连接数是245，没有达到服务器连接数上限256，应该没有出现1040错误，比较理想的设置是</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">max_used_connections / max_connections * 100% ≈ 85%</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">最大连接数占上限连接数的85％左右，如果发现比例在10%以下，mysql服务器连接数上限设置的过高了。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">三、key_buffer_size</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">key_buffer_size是对myisam表性能影响最大的一个参数，下面一台以myisam为主要存储引擎服务器的配置：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show variables like &#39;key_buffer_size&#39;;</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">+-----------------+------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　 | value　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------+------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| key_buffer_size | 536870912 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------+------------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">分配了512mb内存给key_buffer_size，我们再看一下key_buffer_size的使用情况：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;key_read%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------+-------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　　　　 | value　　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------+-------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| key_read_requests　　　　　　 | 27813678764 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| key_reads　　　　　　　　　　　　　　 | 6798830　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------+-------------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">　　一共有27813678764个索引读取请求，有6798830个请求在内存中没有找到直接从硬盘读取索引，计算索引未命中缓存的概率：</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">key_cache_miss_rate ＝ key_reads / key_read_requests * 100%</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">比 如上面的数据，key_cache_miss_rate为0.0244%，4000个索引读取请求才有一个直接读硬盘，已经很bt 了，key_cache_miss_rate在0.1%以下都很好（每1000个请求有一个直接读硬盘），如果key_cache_miss_rate在 0.01%以下的话，key_buffer_size分配的过多，可以适当减少。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">mysql服务器还提供了key_blocks_*参数：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;key_blocks_u%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------+-------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　　　　 | value　　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------+-------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| key_blocks_unused　　　　　　 | 0　　　　　　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| key_blocks_used　　　　　　　　 | 413543　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------+-------------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">key_blocks_unused 表示未使用的缓存簇(blocks)数，key_blocks_used表示曾经用到的最大的blocks数，比如这台服务器，所有的缓存都用到了，要么 增加key_buffer_size，要么就是过渡索引了，把缓存占满了。比较理想的设置：</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">key_blocks_used / (key_blocks_unused + key_blocks_used) * 100% ≈ 80%</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">四、临时表</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;created_tmp%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------------+---------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　　　　　 | value　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------------+---------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| created_tmp_disk_tables | 21197　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| created_tmp_files　　　　　　　 | 58　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| created_tmp_tables　　　　　　 | 1771587 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------------+---------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">每次创建临时表，created_tmp_tables增加，如果是在磁盘上创建临时表，created_tmp_disk_tables也增加,created_tmp_files表示mysql服务创建的临时文件文件数，比较理想的配置是：</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">　 　created_tmp_disk_tables / created_tmp_tables * 100% &lt;= 25%比如上面的服务器created_tmp_disk_tables / created_tmp_tables * 100% ＝ 1.20%，应该相当好了。我们再看一下mysql服务器对临时表的配置：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show variables where variable_name in (&#39;tmp_table_size&#39;, &#39;max_heap_table_size&#39;);<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　 | value　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| max_heap_table_size | 268435456 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| tmp_table_size　　　　　　 | 536870912 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------------+-----------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">只有256mb以下的临时表才能全部放内存，超过的就会用到硬盘临时表。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">五、open table情况</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;open%tables%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| open_tables　　　 | 919　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| opened_tables | 1951　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">open_tables 表示打开表的数量，opened_tables表示打开过的表数量，如果opened_tables数量过大，说明配置中 table_cache(5.1.3之后这个值叫做table_open_cache)值可能太小，我们查询一下服务器table_cache值：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show variables like &#39;table_cache&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| table_cache　　　 | 2048　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">比较合适的值为：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">open_tables / opened_tables * 100% &gt;= 85%</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">open_tables / table_cache * 100% &lt;= 95%</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">六、进程使用情况</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;thread%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　 | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| threads_cached　　　　 | 46　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| threads_connected | 2　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| threads_created　　　 | 570　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| threads_running　　　 | 1　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+-------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">如 果我们在mysql服务器配置文件中设置了thread_cache_size，当客户端断开之后，服务器处理此客户的线程将会缓存起来以响应下一个客户 而不是销毁（前提是缓存数未达上限）。threads_created表示创建过的线程数，如果发现threads_created值过大的话，表明 mysql服务器一直在创建线程，这也是比较耗资源，可以适当增加配置文件中thread_cache_size值，查询服务器 thread_cache_size配置：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show variables like &#39;thread_cache_size&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　 | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| thread_cache_size | 64　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+-------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">示例中的服务器还是挺健康的。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">七、查询缓存(query cache)</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;qcache%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　　　　　 | value　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_free_blocks　　　　　　 | 22756　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_free_memory　　　　　　 | 76764704　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_hits　　　　　　　　　　　　　 | 213028692 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_inserts　　　　　　　　　　 | 208894227 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_lowmem_<a title=\"pr\" href=\"http://www.001pp.com/pr.asp\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(203, 71, 33); cursor: pointer; word-break: break-all;\">pr</a>unes　　　　 | 4010916　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_not_cached　　　　　　　 | 13385031　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_queries_in_cache | 43560　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| qcache_total_blocks　　　　　 | 111212　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------------+-----------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">mysql查询缓存变量解释：</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_free_blocks：缓存中相邻内存块的个数。数目大说明可能有碎片。flush query cache会对缓存中的碎片进行整理，从而得到一个空闲块。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_free_memory：缓存中的空闲内存。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_hits：每次查询在缓存中命中时就增大</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_inserts：每次插入一个查询时就增大。命中次数除以插入次数就是不中比率。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_lowmem_prunes： 缓存出现内存不足并且必须要进行清理以便为更多查询提供空间的次数。这个数字最好长时间来看；如果这个数字在不断增长，就表示可能碎片非常严重，或者内存 很少。（上面的 free_blocks和free_memory可以告诉您属于哪种情况）</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_not_cached：不适合进行缓存的查询的数量，通常是由于这些查询不是 select 语句或者用了now()之类的函数。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_queries_in_cache：当前缓存的查询（和响应）的数量。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">qcache_total_blocks：缓存中块的数量。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">我们再查询一下服务器关于query_cache的配置：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show variables like &#39;query_cache%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　　　　　　　　　　 | value　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| query_cache_limit　　　　　　　　　　　　 | 2097152　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| query_cache_min_res_unit　　　　　 | 4096　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| query_cache_size　　　　　　　　　　　　　 | 203423744 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| query_cache_type　　　　　　　　　　　　　 | on　　　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| query_cache_wlock_invalidate | off　　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------------------+-----------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">各字段的解释：</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">query_cache_limit：超过此大小的查询将不缓存</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">query_cache_min_res_unit：缓存块的最小大小</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">query_cache_size：查询缓存大小</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">query_cache_type：缓存类型，决定缓存什么样的查询，示例中表示不缓存 select sql_no_cache 查询</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">query_cache_wlock_invalidate：当有其他客户端正在对myisam表进行写操作时，如果查询在query cache中，是否返回cache结果还是等写操作完成再读表获取结果。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">query_cache_min_res_unit的配置是一柄”双刃剑”，默认是4kb，设置值大对大数据查询有好处，但如果你的查询都是小数据查询，就容易造成内存碎片和浪费。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">查询缓存碎片率 = qcache_free_blocks / qcache_total_blocks * 100%</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">如果查询缓存碎片率超过20%，可以用flush query cache整理缓存碎片，或者试试减小query_cache_min_res_unit，如果你的查询都是小数据量的话。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">查询缓存利用率 = (query_cache_size - qcache_free_memory) / query_cache_size * 100%</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">查询缓存利用率在25%以下的话说明query_cache_size设置的过大，可适当减小；查询缓存利用率在80％以上而且qcache_lowmem_prunes &gt; 50的话说明query_cache_size可能有点小，要不就是碎片太多。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">查询缓存命中率 = (qcache_hits - qcache_inserts) / qcache_hits * 100%</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">示例服务器 查询缓存碎片率 ＝ 20.46％，查询缓存利用率 ＝ 62.26％，查询缓存命中率 ＝ 1.94％，命中率很差，可能写操作比较频繁吧，而且可能有些碎片。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">八、排序使用情况</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;sort%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　 | value　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| sort_merge_passes | 29　　　　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| sort_range　　　　　　　　 | 37432840　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| sort_rows　　　　　　　　　 | 9178691532 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| sort_scan　　　　　　　　　 | 1860569　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-------------------+------------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">sort_merge_passes 包括两步。mysql 首先会尝试在内存中做排序，使用的内存大小由系统变量 sort_buffer_size 决定，如果它的大小不够把所有的记录都读到内存中，mysql 就会把每次在内存中排序的结果存到临时文件中，等 mysql 找到所有记录之后，再把临时文件中的记录做一次排序。这再次排序就会增加 sort_merge_passes。实际上，mysql 会用另一个临时文件来存再次排序的结果，所以通常会看到 sort_merge_passes 增加的数值是建临时文件数的两倍。因为用到了临时文件，所以速度可能会比较慢，增加 sort_buffer_size 会减少 sort_merge_passes 和 创建临时文件的次数。但盲目的增加 sort_buffer_size 并不一定能提高速度，见 how fast can you sort data with mysql?（引自<a href=\"http://qroom.blogspot.com/2007/09/mysql-select-sort.html\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(203, 71, 33); cursor: pointer; word-break: break-all; line-height: 28px;\">http://qroom.blogspot.com/2007/09/mysql-select-sort.html</a>，貌似被墙）</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">另外，增加read_rnd_buffer_size(3.2.3是record_rnd_buffer_size)的值对排序的操作也有一点的好处，参见：<a href=\"http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(203, 71, 33); cursor: pointer; word-break: break-all; line-height: 28px;\">http://www.mysqlperformanceblog.com/2007/07/24/what-exactly-is-read_rnd_buffer_size/</a></p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">九、文件打开数(open_files)</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;open_files&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| open_files　　　　 | 1410　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-------+</p></blockquote><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show variables like &#39;open_files_limit&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　 | value |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------+-------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| open_files_limit | 4590　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+------------------+-------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">比较合适的设置：open_files / open_files_limit * 100% &lt;= 75％</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">十、表锁情况</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;table_locks%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　　　 | value　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| table_locks_immediate | 490206328 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| table_locks_waited　　　　 | 2084912　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------------+-----------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">　 　table_locks_immediate表示立即释放表锁数，table_locks_waited表示需要等待的表锁数，如果 table_locks_immediate / table_locks_waited &gt; 5000，最好采用innodb引擎，因为innodb是行锁而myisam是表锁，对于高并发写入的应用innodb效果会好些。示例中的服务器 table_locks_immediate / table_locks_waited ＝ 235，myisam就足够了。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">十一、表扫描情况</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;handler_read%&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------------+-------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name　　　　　　　　　 | value　　　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------------+-------------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| handler_read_first　　　　 | 5803750　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| handler_read_key　　　　　　 | 6049319850　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| handler_read_next　　　　　 | 94440908210 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| handler_read_prev　　　　　 | 34822001724 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| handler_read_rnd　　　　　　 | 405482605　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| handler_read_rnd_next | 18912877839 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+-----------------------+-------------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">各字段解释参见<a href=\"http://hi.baidu.com/thinkinginlamp/blog/item/31690cd7c4bc5cdaa144df9c.html\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(203, 71, 33); cursor: pointer; word-break: break-all; line-height: 28px;\">http://hi.baidu.com/thinkinginlamp/blog/item/31690cd7c4bc5cdaa144df9c.html</a>，调出服务器完成的查询请求次数：</p><blockquote style=\"box-sizing: border-box; outline: 0px; padding-top: 16px; padding-right: 16px; padding-left: 16px; margin-bottom: 24px; border: 1px solid rgb(239, 239, 239); background: rgb(238, 240, 244); overflow: auto; word-wrap: normal; word-break: break-all; white-space: normal; line-height: 1.8em; font-size: 0.9em; font-weight: bold; font-family: &quot;Trebuchet MS&quot;, sans-serif; color: rgb(108, 110, 58);\"><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 16px; color: rgb(79, 79, 79); font-weight: 400; line-height: 24px; text-align: justify; word-break: break-all;\">mysql&gt; show global status like &#39;com_select&#39;;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| variable_name | value　　　　　 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-----------+<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>| com_select　　　　 | 222693559 |<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>+---------------+-----------+</p></blockquote><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">计算表扫描率：</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">表扫描率 ＝ handler_read_rnd_next / com_select</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">如果表扫描率超过4000，说明进行了太多表扫描，很有可能索引没有建好，增加read_buffer_size值会有一些好处，但最好不要超过8mb。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">后记：</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(68, 68, 68); line-height: 19px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, &quot;Trebuchet MS&quot;, Tahoma, sans-serif;\">文中提到一些数字都是参考值，了解基本原理就可以，除了mysql提供的各种status值外，操作系统的一些性能指标也很重要，比如常用的top,iostat等，尤其是iostat，现在的系统瓶颈一般都在磁盘io上，关于iostat的使用，可以参考：<a href=\"http://www.php-oa.com/2009/02/03/iostat.html\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(203, 71, 33); cursor: pointer; word-break: break-all; line-height: 28px;\">http://www.php-oa.com/2009/02/03/iostat.html</a></p><p><br/></p><p>转载&nbsp;&nbsp;https://blog.csdn.net/jinxingfeng_cn/article/details/16878295</p>', '2018-06-27 20:29:01', '2018-06-27 21:05:25', null, null, '77', '1', '1', '/index/article/show/id/33.html');
INSERT INTO `blog_article` VALUES ('34', '20', 'MySQL 双机热备，负载均衡', 'MySQL 双机热备，负载均衡', '主从复制1. 在主服务器（192.168.0.199）创建一个从服务器192.168.0.166可以登录的用户mysql&gt; grant replication slave on *.* to &#39;mysql12&#39;@&#39;192.168.0.166&#39; identified by &#39;mysql12&#39;;&nbsp;&nbsp;Query OK, 0 rows affected (0.00 sec)2.刷新权限mysql&gt; flush privile', '', '<p><span style=\"white-space: nowrap;\"></span></p><h1><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\">主从复制</span></strong></span></h1><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c\">1. 在主服务器（192.168.0.199）创建一个从服务器192.168.0.166可以登录的用户</span></strong></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; grant replication slave on *.* to &#39;mysql12&#39;@&#39;192.168.0.166&#39; identified by &#39;mysql12&#39;;&nbsp;&nbsp;</span><br/></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.00 sec)</span></p><p><span style=\"white-space: nowrap;color:#76923c\"><strong>2.刷新权限</strong></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; flush privileges;&nbsp;&nbsp;</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><strong style=\"color: rgb(118, 146, 60);\">3.查看主服务器 192.168.0.199 二进制文件以及位置</strong></span></p><p>mysql&gt; show master status;</p><p>+------------------+----------+--------------+--------------------------+</p><p>| File&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Position | Binlog_Do_DB | Binlog_Ignore_DB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</p><p>+------------------+----------+--------------+--------------------------+</p><p>| mysql-bin.000062 |&nbsp; &nbsp; &nbsp;1130 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | mysql,information_schema |</p><p>+------------------+----------+--------------+--------------------------+</p><p>1 row in set (0.00 sec)</p><p><span style=\"color:#76923c\"><strong>4.在从服务器192.168.0.166中执行</strong></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; change master to&nbsp;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; master_host=&#39;192.168.0.199&#39;,&nbsp; // 主服务器</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; master_user=&#39;mysql12&#39;,&nbsp; // 用户密码</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; master_password=&#39;mysql12&#39;, // 密码</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; master_log_file=&#39;mysql-bin.000062&#39;, // 二进制文件</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; master_log_pos=1130; // 文件位置</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected, 2 warnings (0.01 sec)</span></p><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c\">5.在从服务器192.168.0.166 开始复制，查看复制是否配置成功</span></strong></span></p><p><span style=\"white-space: nowrap;\"></span></p><p>mysql&gt; start slave;</p><p>Query OK, 0 rows affected, 1 warning (0.00 sec)</p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"></span></p><p>mysql&gt; show slave status\\G;</p><p>*************************** 1. row ***************************</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Slave_IO_State: Waiting for master to send event</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">&nbsp; Master_Host: 192.168.0.199</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Master_User: mysql12</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Master_Port: 3306</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Connect_Retry: 60</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">Master_Log_File: mysql-bin.000062</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Read_Master_Log_Pos: 1130</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Relay_Log_File: localhost-relay-bin.000002</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Relay_Log_Pos: 266</p><p>&nbsp; &nbsp; &nbsp; &nbsp; Relay_Master_Log_File: mysql-bin.000062</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\"> &nbsp;Slave_IO_Running: </span><span style=\"color:#ff0000\">Yes&nbsp; //上下都为Yes即表示主从复制OK了</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Slave_SQL_Running: </span><span style=\"color:#ff0000\">Yes</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">Replicate_Do_DB: test&nbsp; //这里我在&nbsp; /etc/my.cnf 文件中配置了复制的数据库名称</span></p><p><span style=\"white-space: nowrap;\"><br/></span><span style=\"color:#76923c\"><strong>6.测试主从复制</strong></span></p><p><span style=\"color:#76923c\"><strong>在主服务器 192.168.0.199 插入数据</strong></span></p><p><span style=\"color:#76923c\"><strong></strong></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; use test;</span></p><p><span style=\"white-space: nowrap;\">Database changed</span></p><p><span style=\"white-space: nowrap;\">mysql&gt; show tables;</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">| Tables_in_test |</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">| ci_news&nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| table_two&nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| teacher&nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| test_one&nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">4 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from ci_news;</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+-----------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">| id | title&nbsp; &nbsp; &nbsp;| slug&nbsp; &nbsp; &nbsp; | text&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+-----------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 1 | title01&nbsp; &nbsp;| author01&nbsp; | aaaaaaaaaaaaaaaaaaaaa |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 3 | crete01&nbsp; &nbsp;| crete01&nbsp; &nbsp;| create01012121212&nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 5 | crete02&nbsp; &nbsp;| crete02&nbsp; &nbsp;| 5445hghgfhgfhgfhgf&nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 7 | crete0545 | crete0545 | hhhhhhhhhhhhhhhhhh&nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+-----------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">4 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; <span style=\"color:#76923c\">insert into ci_news values(9,&#39;form master&#39;,&#39;mastertest&#39;,&#39;fddfdfd&#39;);</span></span></p><p><span style=\"white-space: nowrap;\">Query OK, 1 row affected (0.00 sec)</span></p><p><span style=\"color:#76923c\"><strong><br/></strong></span></p><p><span style=\"color:#76923c\"><strong>在从服务器中查看</strong></span></p><p><span style=\"color:#76923c\"><strong></strong></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; use test;</span></p><p><span style=\"white-space: nowrap;\">Reading table information for completion of table and column names</span></p><p><span style=\"white-space: nowrap;\">You can turn off this feature to get a quicker startup with -A</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">Database changed</span></p><p><span style=\"white-space: nowrap;\">mysql&gt; show tables;</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">| Tables_in_test |</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">| ci_news&nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| table_two&nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| teacher&nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| test_one&nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">4 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from ci_news;</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+-----------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">| id | title&nbsp; &nbsp; &nbsp;| slug&nbsp; &nbsp; &nbsp; | text&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+-----------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 1 | title01&nbsp; &nbsp;| author01&nbsp; | aaaaaaaaaaaaaaaaaaaaa |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 3 | crete01&nbsp; &nbsp;| crete01&nbsp; &nbsp;| create01012121212&nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 5 | crete02&nbsp; &nbsp;| crete02&nbsp; &nbsp;| 5445hghgfhgfhgfhgf&nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 7 | crete0545 | crete0545 | hhhhhhhhhhhhhhhhhh&nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+-----------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">4 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from ci_news;</span></p><p><span style=\"white-space: nowrap;\">+----+-------------+------------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">| id | title&nbsp; &nbsp; &nbsp; &nbsp;| slug&nbsp; &nbsp; &nbsp; &nbsp;| text&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+-------------+------------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 1 | title01&nbsp; &nbsp; &nbsp;| author01&nbsp; &nbsp;| aaaaaaaaaaaaaaaaaaaaa |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 3 | crete01&nbsp; &nbsp; &nbsp;| crete01&nbsp; &nbsp; | create01012121212&nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 5 | crete02&nbsp; &nbsp; &nbsp;| crete02&nbsp; &nbsp; | 5445hghgfhgfhgfhgf&nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 7 | crete0545&nbsp; &nbsp;| crete0545&nbsp; | hhhhhhhhhhhhhhhhhh&nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;color:#76923c\">|&nbsp; 9 | form master | mastertest | fddfdfd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">+----+-------------+------------+-----------------------+</span></p><p><span style=\"white-space: nowrap;\">5 rows in set (0.00 sec)</span></p><p><span style=\"color:#76923c\"><strong><br/></strong></span></p><p><span style=\"color:#76923c\"><strong>代表主从完成<br/></strong></span><br/></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"color:#76923c\"><strong></strong></span></p><h1 style=\"white-space: normal;\"><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\">主主复制</span></strong></span></h1><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\"><span style=\"font-size: 16px;\"><span style=\"color: rgb(68, 68, 68); font-family: &quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif, 宋体; font-size: 14px; white-space: normal;\">主主复制即在两台MySQL主机内都可以变更数据，而且另外一台主机也会做出相应的变更。聪明的你也许已经想到该怎么实现了。对，就是将两个主从复制有机合并起来就好了。只不过在配置的时候我们需要注意一些问题，例如，主键重复，server-id不能重复等等。</span></span><br/></span></strong></span></p><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\"><span style=\"font-size: 16px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif, 宋体; font-size: 14px; white-space: normal;\">1. 在刚才的主服务器 192.168.0.199 配置</span></span></span></strong></span></p><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\"><span style=\"font-size: 16px;\"><span style=\"color: rgb(68, 68, 68); font-family: &quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif, 宋体; font-size: 14px; white-space: normal;\"></span></span></span></strong></span></p><p>server-id=1&nbsp;&nbsp;</p><p>#任意自然数n，只要保证两台MySQL主机不重复就可以了。</p><p>log-bin=mysql-bin&nbsp; &nbsp;</p><p>#开启二进制日志</p><p>auto_increment_increment=2&nbsp; &nbsp;</p><p>#步进值auto_imcrement。一般有n台主MySQL就填n</p><p>auto_increment_offset=1&nbsp; &nbsp;</p><p>#起始值。一般填第n台主MySQL。此时为第一台主MySQL</p><p>binlog-ignore=mysql&nbsp; &nbsp;</p><p>#忽略mysql库</p><p>binlog-ignore=information_schema&nbsp; &nbsp;</p><p>#忽略information_schema库</p><p>replicate-do-db=test&nbsp; &nbsp;</p><p>#要同步的数据库，默认所有库</p><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\"><span style=\"font-size: 16px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif, 宋体; font-size: 14px; white-space: normal;\">2.在从服务器192.168.0.166&nbsp; &nbsp;vim/etc/my.cnf</span></span></span></strong></span></p><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\"><span style=\"font-size: 16px;\"><span style=\"color: rgb(68, 68, 68); font-family: &quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif, 宋体; font-size: 14px; white-space: normal;\"></span></span></span></strong></span></p><p><span style=\"white-space: nowrap;\">[mysqld]</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">server-id=2</span></p><p><span style=\"white-space: nowrap;\">log-bin=mysql-bin</span></p><p><span style=\"white-space: nowrap;\">auto_increment_increment=2</span></p><p><span style=\"white-space: nowrap;\">auto_increment_offset=2</span></p><p><span style=\"white-space: nowrap;\">replicate-do-db=test</span></p><p><span style=\"white-space: nowrap;color:#76923c\">binlog_checksum=none&nbsp; //这里是由于mysql版本的原因</span></p><p><span style=\"white-space: nowrap;\"># 起始值</span></p><p><span style=\"white-space: nowrap;\"># binlog-ignore=mysql 忽略mysql库</span></p><p><span style=\"white-space: nowrap;\"># Remove leading # and set to the amount of RAM for the most important data</span></p><p><span style=\"white-space: nowrap;\"># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.</span></p><p><span style=\"white-space: nowrap;\"># innodb_buffer_pool_size = 128M</span></p><p><br/></p><p><span style=\"color:#76923c\">3.开始构建主主复制，照着上面来就好了</span></p><p><span style=\"color:#76923c\">4.在192.168.0.166（从）中新增192.168.0.199（主）可以登录的用户</span></p><p><span style=\"white-space: nowrap;\">mysql&gt; grant replication slave on *.* to &#39;mysql11&#39;@<span style=\"color:#76923c\">&#39;192.168.0.199&#39;</span> identified by &#39;mysql11&#39;;</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.01 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; flush privileges;</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.00 sec)</span></p><p><span style=\"white-space: nowrap;color:#76923c\">5.在从 192.168.0.166 查看 master 状态，记录文件以及位置</span></p><p><span style=\"white-space: nowrap;color:#76923c\"></span></p><p>mysql&gt; show master status;</p><p>+------------------+----------+--------------+------------------+-------------------+</p><p>| File&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</p><p>+------------------+----------+--------------+------------------+-------------------+</p><p>| mysql-bin.000005 |&nbsp; &nbsp; &nbsp; 414 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</p><p>+------------------+----------+--------------+------------------+-------------------+</p><p>1 row in set (0.00 sec)</p><p><span style=\"white-space: nowrap;color:#76923c\">6.在主 192.168.0.199 执行下面代码</span></p><p><span style=\"white-space: nowrap;color:#76923c\"></span></p><p>mysql&gt; change master to</p><p>&nbsp; &nbsp; -&gt; master_host = &#39;192.168.0.166&#39;,</p><p>&nbsp; &nbsp; -&gt; master_user=&#39;mysql11&#39;,</p><p>&nbsp; &nbsp; -&gt; master_password=&#39;mysql11&#39;,</p><p>&nbsp; &nbsp; -&gt; master_log_file=&#39;mysql-bin.000005&#39;,</p><p>&nbsp; &nbsp; -&gt; master_log_pos=414;</p><p>Query OK, 0 rows affected (0.09 sec)</p><p><span style=\"white-space: nowrap;color:#76923c\">7.测试主主复制</span></p><p><span style=\"white-space: nowrap;color:#76923c\"><br/></span></p><p><span style=\"white-space: nowrap;color:#76923c\">在主 192.168.0.199&nbsp;&nbsp;</span></p><p><span style=\"white-space: nowrap;color:#76923c\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt;<span style=\"color:#76923c\"> start slave;&nbsp;</span></span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; <span style=\"color:#76923c\">show slave status\\G;</span></span></p><p><span style=\"white-space: nowrap;\">*************************** 1. row ***************************</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Slave_IO_State: Waiting for master to send event</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">&nbsp; Master_Host: 192.168.0.166</span></span></p><p><span style=\"white-space: nowrap;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Master_User: mysql11</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Master_Port: 3306</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Connect_Retry: 60</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\"> Master_Log_File: mysql-bin.000005</span></span></p><p><span style=\"white-space: nowrap;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Read_Master_Log_Pos: 414</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Relay_Log_File: USER-20180502BY-relay-bin.000002</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Relay_Log_Pos: 266</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; Relay_Master_Log_File: mysql-bin.000005</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">&nbsp;Slave_IO_Running: Yes</span></span></p><p><span style=\"white-space: nowrap;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Slave_SQL_Running: Yes</span></p><p><span style=\"white-space: nowrap;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Replicate_Do_DB: test</span></p><p><span style=\"white-space: nowrap;color:#76923c\">8.在从192.168.0.166 中</span></p><p><span style=\"white-space: nowrap;color:#76923c\"></span></p><p>mysql&gt; create table<span style=\"color:#76923c\"> slave_tab1</span>(</p><p>&nbsp; &nbsp; -&gt; id int auto_increment,</p><p>&nbsp; &nbsp; -&gt; name varchar(20) not null default &#39;no name&#39;,</p><p>&nbsp; &nbsp; -&gt; age tinyint default 18,</p><p>&nbsp; &nbsp; -&gt; primary key (id)</p><p>&nbsp; &nbsp; -&gt; )engine=innodb default charset=utf8;</p><p>Query OK, 0 rows affected (0.02 sec)</p><p><span style=\"white-space: nowrap;color:#76923c\"><br/></span></p><p><span style=\"white-space: nowrap;color:#76923c\"></span></p><p>mysql&gt; show tables;</p><p>+----------------+</p><p>| Tables_in_test |</p><p>+----------------+</p><p>| ci_news&nbsp; &nbsp; &nbsp; &nbsp; |</p><p>| slave_tab1&nbsp; &nbsp; &nbsp;|</p><p>| table_two&nbsp; &nbsp; &nbsp; |</p><p>| teacher&nbsp; &nbsp; &nbsp; &nbsp; |</p><p>| test_one&nbsp; &nbsp; &nbsp; &nbsp;|</p><p>+----------------+</p><p>5 rows in set (0.00 sec)</p><p><span style=\"white-space: nowrap;color:#76923c\">9.在主 192.168.0.199</span></p><p><span style=\"white-space: nowrap;color:#76923c\"></span></p><p>mysql&gt; show tables;</p><p>+----------------+</p><p>| Tables_in_test |</p><p>+----------------+</p><p>| ci_news&nbsp; &nbsp; &nbsp; &nbsp; |</p><p>| <span style=\"color:#76923c\">slave_tab1&nbsp;</span> &nbsp; &nbsp;|</p><p>| table_two&nbsp; &nbsp; &nbsp; |</p><p>| teacher&nbsp; &nbsp; &nbsp; &nbsp; |</p><p>| test_one&nbsp; &nbsp; &nbsp; &nbsp;|</p><p>+----------------+</p><p>5 rows in set (0.00 sec)</p><p>mysql&gt; <span style=\"color:#76923c\">insert into slave_tab1 values (1,&#39;whlphper&#39;,24);</span></p><p>Query OK, 1 row affected (0.01 sec)</p><p><span style=\"white-space: nowrap;color:#76923c\">10.在从192.168.0.166</span></p><p><span style=\"white-space: nowrap;color:#76923c\"><br/></span></p><p>mysql&gt; select * from slave_tab1;</p><p>+----+----------+------+</p><p>| id | name&nbsp; &nbsp; &nbsp;| age&nbsp; |</p><p>+----+----------+------+</p><p>|&nbsp;<span style=\"color:#76923c\"> 1 | whlphper |&nbsp; &nbsp;24 |</span></p><p>+----+----------+------+</p><p>1 row in set (0.00 sec)</p><p><br/></p><p><br/></p><p><span style=\"white-space: nowrap;\"><strong><span style=\"color:#76923c;font-size:48px\"><span style=\"font-size: 16px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;, Arial, Helvetica, sans-serif, 宋体; font-size: 14px; white-space: normal;\"></span></span></span></strong></span></p><p><span style=\"color:#76923c;font-size:48px\">双机热备，负载均衡就好了</span></p><p><span style=\"color:#76923c\"><strong></strong></span><br/></p>', '2018-06-28 11:18:17', '2018-06-28 12:29:11', null, null, '82', '1', '1', '/index/article/show/id/34.html');
INSERT INTO `blog_article` VALUES ('35', '21', 'Linux启动流程', '启动,流程', 'linux 之 启动流程windows：按电源-滴滴滴-屏幕出现字符-显示图形界面-登录linux也大同小异1.加电自检：计算机加载BIOS（最接近硬件的软件，重要的功能就是对自身硬件做一次检查，只有硬件没问题才能运行软件，操作系统也是一种软件），成为‘加电自检 Power On Self Test’，简称POST。。。2.引导系统：这个动作是BIOS设定的，BIOS从硬盘上第0柱面，第0磁道，第一个山区读取称为MBR的东西，即主引导记录，一个山区的大小为512字节，存放内容是一段引导程序和分区', '', '<p><span style=\"font-size:32px\">linux 之 启动流程</span></p><p><span style=\"font-size:32px\"><span style=\"font-size: 18px;\">windows：按电源-滴滴滴-屏幕出现字符-显示图形界面-登录</span><br/></span></p><p><span style=\"font-size:32px\"><span style=\"font-size: 18px;\">linux也大同小异</span></span></p><p><br/></p><p><span style=\"font-size: 18px;\">1.加电自检：计算机加载BIOS（最接近硬件的软件，重要的功能就是对自身硬件做一次检查，只有硬件没问题才能运行软件，操作系统也是一种软件），成为‘加电自检 Power On Self Test’，简称POST。。。</span></p><p><span style=\"font-size: 18px;\">2.引导系统：这个动作是BIOS设定的，BIOS从硬盘上第0柱面，第0磁道，第一个山区读取称为MBR的东西，即主引导记录，一个山区的大小为512字节，存放内容是一段引导程序和分区信息，引导程序比分占446,64字节为磁盘分区表DPT，最后两位是MBR的结束位</span></p><p><span style=\"font-size: 18px;\">3.运行Grub，根据配置文件加载kernel镜像，运行内核加载后的第一个程序/sbin/init，这个程序会根据/etc/inittab来进行初始化工作。其实这里最重要的就是根据文件中设定的值来确定系统将会运行的runlevel，默认runlevel为3</span></p><p><span style=\"font-size: 18px;\">4.根据/etc/inittab中定义的系统初始化配置si::sysinit:/etc/rc.d/rc.sysinit执行/etc/rc.sysinit脚本，该脚本设置系统变量，网络配置，并启用swap、设定/proc、加载用户自定义模块、加载内核设置。</span></p><p><span style=\"font-size: 18px;\">5.根据第三部读到的runlevel值来启动对应服务，如果值为3，就运行/etc/rc3.d/下的所有脚本</span></p><p><span style=\"font-size: 18px;\">6.运行/etc/rc.local</span></p><p><span style=\"font-size: 18px;\">7.生成终端或X Window来等待用户登录</span></p>', '2018-06-28 12:31:54', '2018-06-28 14:06:17', null, null, '78', '1', '1', '/index/article/show/id/35.html');
INSERT INTO `blog_article` VALUES ('36', '9', 'PHP 多线程/进程，上传图片', '进程,上传,图片', '&lt;?phpecho &quot;&lt;pre&gt;&quot;;/**写代码来解决多进程/线程同时读写一个文件的问题。PHP是不支持多线程的，可以使用php的flock加锁函数实现。 **//*$fp = fopen(&quot;lock.txt&quot;, &quot;a+&quot;);if (flock($fp, LOCK_EX)) { // 进行排它型锁定 &nbsp; fwrite($fp, &quot;Write something here\\n&quot;); &nbs', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#dc322f;\">&lt;?php<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&quot;&lt;pre&gt;&quot;</span>;<br/><br/><br/><br/><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">写代码来解决多进程</span><span style=\"color:#93a1a1;font-style:italic;\">/</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">线程同时读写一个文件的问题。<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">PHP</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是不支持多线程的，可以使用</span><span style=\"color:#93a1a1;font-style:italic;\">php</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的</span><span style=\"color:#93a1a1;font-style:italic;\">flock</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">加锁函数实现。<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#93a1a1;font-style:italic;\">**/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">/*<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">$fp = fopen(&quot;lock.txt&quot;, &quot;a+&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">if (flock($fp, LOCK_EX)) { // </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">进行排它型锁定</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; fwrite($fp, &quot;Write something here\\n&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; sleep(10);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; flock($fp, LOCK_UN); // </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">释放锁定</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">} else {<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; echo &quot;Couldn&#39;t lock the file !&quot;;<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">}<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">fclose($fp);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">上传文件<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#93a1a1;font-style:italic;\">**/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$_FILES</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">print_r</span>(<span style=\"color:#268bd2;\">$_FILES</span>);<br/><br/>    <span style=\"color:#268bd2;\">$uploads_dir </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;uploads&#39;</span>;<br/><br/>    <span style=\"color:#859900;\">foreach </span>(<span style=\"color:#268bd2;\">$_FILES </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$key </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#268bd2;\">$file</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&#39;input name=&#39; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;&lt;br /&gt;&#39;</span>;<br/><br/>        <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$file[</span><span style=\"color:#2aa198;\">&#39;error&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">=== </span><span style=\"color:#2aa198;\">0</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#268bd2;\">$key </span><span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&#39; input unit uploaded success&lt;br /&gt;&#39;</span>;<br/><br/>            <span style=\"color:#268bd2;\">$tmp_name </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$file[</span><span style=\"color:#2aa198;\">&quot;tmp_name&quot;</span><span style=\"color:#268bd2;\">]</span>;<br/><br/>            <span style=\"color:#268bd2;\">$name </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$file[</span><span style=\"color:#2aa198;\">&quot;name&quot;</span><span style=\"color:#268bd2;\">]</span>;<br/><br/>            <span style=\"color:#268bd2;\">$savePath </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#268bd2;\">$uploads_dir</span><span style=\"color:#2aa198;\">/&quot;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">date</span>(<span style=\"color:#2aa198;\">&#39;Ymd&#39;</span>,<span style=\"color:#969483;font-style:italic;\">time</span>());<br/><br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#969483;font-style:italic;\">is_dir</span>(<span style=\"color:#268bd2;\">$savePath</span>))<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">mkdir</span>(<span style=\"color:#268bd2;\">$savePath</span>,<span style=\"color:#2aa198;\">0777</span>,<span style=\"color:#859900;\">true</span>);<br/><br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$truePath </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$savePath</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;/&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$name</span>;<br/><br/>            <span style=\"color:#268bd2;\">$result </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">move_uploaded_file</span>(<span style=\"color:#268bd2;\">$tmp_name</span>, <span style=\"color:#268bd2;\">$truePath</span>);<br/><br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$result</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#268bd2;\">$key </span><span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&#39; save success, the path == &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$truePath</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;&lt;br /&gt;&#39;</span>;<br/><br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\">?&gt;<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#93a1a1;\">&lt;!DOCTYPE </span><span style=\"color:#839496;\">html</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">head</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">head</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">body</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">form </span><span style=\"color:#839496;\">enctype=</span><span style=\"color:#2aa198;\">&quot;multipart/form-data&quot; </span><span style=\"color:#839496;\">method=</span><span style=\"color:#2aa198;\">&quot;POST&quot; </span><span style=\"color:#839496;\">action=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#dc322f;\">&lt;?php </span><span style=\"color:#859900;\">echo </span><span style=\"color:#268bd2;\">$_SERVER[</span><span style=\"color:#2aa198;\">&#39;PHP_SELF&#39;</span><span style=\"color:#268bd2;\">]</span>;<span style=\"color:#dc322f;\">?&gt;</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;</span>Send this file: <span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">name=</span><span style=\"color:#2aa198;\">&quot;name&quot; </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;file&quot; </span><span style=\"color:#93a1a1;\">/&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;submit&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;Send File&quot; </span><span style=\"color:#93a1a1;\">/&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">form</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">body</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">html</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span></pre><p><br/></p>', '2018-06-26 23:21:55', '2018-06-28 14:27:46', null, null, '91', '1', '1', '/index/article/show/id/36.html');
INSERT INTO `blog_article` VALUES ('37', '11', 'Easyui table 使用', 'Easyui table', '求您能封装的封装下，粘过来粘过去不累吗？？？？？&lt;script type=&quot;text/javascript&quot; src=&quot;__PUBLIC__/crm/js/jquery-easyui/easyloader.js&quot;&gt;&lt;/script&gt;/** * 初始化easyui 表格 * @param box * @param url * @param columns */function initEasyUiTable(box,url,colum', '', '<p style=\"background-color: rgb(253, 246, 227); font-family: &quot;DejaVu Sans Mono&quot;; font-size: 10.8pt;\"><span style=\"color:#93a1a1\">求您能封装的封装下，粘过来粘过去不累吗？？？？？</span></p><p style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;\"><br/></span></p><p style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">script </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;text/javascript&quot; </span><span style=\"color:#839496;\">src=</span><span style=\"color:#2aa198;\">&quot;__PUBLIC__/crm/js/jquery-easyui/easyloader.js&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">script</span><span style=\"color:#93a1a1;\">&gt;</span></p><p><br/></p><p><br/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">初始化</span><span style=\"color:#93a1a1;font-style:italic;\">easyui </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表格<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#93a1a1;font-style:italic;\">* </span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#93a1a1;font-style:italic;\">box<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * </span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#93a1a1;font-style:italic;\">url<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * </span><span style=\"color:#93a1a1;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#93a1a1;font-style:italic;\">columns<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> */<br/></span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">initEasyUiTable</span>(box,url,columns) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">table</span><span style=\"color:#079a71;\">=</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#7a7a43;\">dataTable</span><span style=\"color:#079a71;\">:</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">scrollView</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;.</span><span style=\"color:#859900;\">datagrid-view2</span><span style=\"color:#2aa198;\"> .</span><span style=\"color:#859900;\">datagrid-body</span><span style=\"color:#2aa198;\">&quot;</span>).<span style=\"color:#7a7a43;\">bind</span>(<span style=\"color:#2aa198;\">&#39;scroll&#39;</span>,<span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">_self</span><span style=\"color:#079a71;\">=</span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#859900;\">this</span>);<br/>                    <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">gv1</span><span style=\"color:#079a71;\">=</span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;.</span><span style=\"color:#859900;\">datagrid-view1</span><span style=\"color:#2aa198;\">&quot;</span>),<span style=\"color:#458383;\">activeClass</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&quot;datagrid-view-scroll&quot;</span>;<br/><br/>                    <span style=\"color:#458383;\">_self</span>.scrollLeft()<span style=\"color:#079a71;\">&gt;</span>0<span style=\"color:#079a71;\">?</span><span style=\"color:#458383;\">gv1</span>.<span style=\"color:#7a7a43;\">addClass</span>(<span style=\"color:#458383;\">activeClass</span>)<span style=\"color:#079a71;\">:</span><span style=\"color:#458383;\">gv1</span>.<span style=\"color:#7a7a43;\">removeClass</span>(<span style=\"color:#458383;\">activeClass</span>);<br/>                <span style=\"color:#dc322f;\">}</span>);<br/><br/>                <span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;.</span><span style=\"color:#859900;\">data-table-loading</span><span style=\"color:#2aa198;\">&quot;</span>).<span style=\"color:#7a7a43;\">hide</span>();<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">_that</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">this</span>;<br/>            <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">使用</span><span style=\"color:#93a1a1;font-style:italic;\">easyui grid</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">控件<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">using</span>(<span style=\"color:#2aa198;\">&#39;datagrid&#39;</span>, <span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">grid</span><span style=\"color:#079a71;\">=</span><span style=\"color:#6c71c4;\">$</span>(box).<span style=\"color:#7a7a43;\">datagrid</span>(<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;auto&#39;</span>,<br/>                    <span style=\"color:#6c71c4;\">height</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;auto&#39;</span>,<br/>                    <span style=\"color:#6c71c4;\">pagination</span><span style=\"color:#079a71;\">:</span><span style=\"color:#859900;\">true</span>,<br/>                    <span style=\"color:#6c71c4;\">loadMsg</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&quot;loading...&quot;</span>,<br/>                    <span style=\"color:#6c71c4;\">striped</span><span style=\"color:#079a71;\">:</span><span style=\"color:#859900;\">true</span>,<br/>                    <span style=\"color:#6c71c4;\">nowrap</span><span style=\"color:#079a71;\">:</span><span style=\"color:#859900;\">false</span>,<br/>                    <span style=\"color:#6c71c4;\">pageSize</span><span style=\"color:#079a71;\">:</span>10,<br/>                    <span style=\"color:#6c71c4;\">url</span><span style=\"color:#079a71;\">: </span>url,<span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据源，生产环境请替换<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">method</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;get&#39;</span>,<br/>                    <span style=\"color:#7a7a43;\">onLoadSuccess</span><span style=\"color:#079a71;\">: </span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">scrollView</span>();<br/>                    <span style=\"color:#dc322f;\">}</span>,<br/>                    <span style=\"color:#7a7a43;\">onLoadError</span><span style=\"color:#079a71;\">:</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">layer</span>.<span style=\"color:#7a7a43;\">msg</span>(<span style=\"color:#2aa198;\">&#39;request error&#39;</span>,<span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">time</span><span style=\"color:#079a71;\">:</span>1000<span style=\"color:#dc322f;\">}</span>);<br/><br/>                    <span style=\"color:#dc322f;\">}</span>,<br/>                    <span style=\"color:#7a7a43;\">onBeforeLoad</span><span style=\"color:#079a71;\">:</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span>,<br/>                    <span style=\"color:#6c71c4;\">columns</span><span style=\"color:#079a71;\">:</span>columns,<br/>                <span style=\"color:#dc322f;\">}</span>);<br/>                <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">pager </span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">grid</span>.<span style=\"color:#7a7a43;\">datagrid</span>(<span style=\"color:#2aa198;\">&#39;getPager&#39;</span>);<br/>                <span style=\"color:#458383;\">pager</span>.<span style=\"color:#7a7a43;\">pagination</span>(<span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">layout</span><span style=\"color:#079a71;\">:</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;first&#39;</span>,<span style=\"color:#2aa198;\">&#39;prev&#39;</span>,<span style=\"color:#2aa198;\">&#39;manual&#39;</span>,<span style=\"color:#2aa198;\">&#39;next&#39;</span>,<span style=\"color:#2aa198;\">&#39;last&#39;</span>,<span style=\"color:#2aa198;\">&#39;list&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>                    <span style=\"color:#6c71c4;\">beforePageText</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">第</span><span style=\"color:#2aa198;\">&#39;</span>,<br/>                    <span style=\"color:#6c71c4;\">afterPageText</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">页 共</span><span style=\"color:#2aa198;\"> {pages} </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">页</span><span style=\"color:#2aa198;\">&#39;</span>,<br/>                    <span style=\"color:#6c71c4;\">displayMsg</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">每页记录数</span><span style=\"color:#2aa198;\">&#39;<br/></span><span style=\"color:#2aa198;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#dc322f;\">}</span>);<br/><br/>                <span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">window</span>).<span style=\"color:#7a7a43;\">resize</span>(<span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">grid</span>.<span style=\"color:#7a7a43;\">datagrid</span>(<span style=\"color:#2aa198;\">&#39;resize&#39;</span>, <span style=\"color:#dc322f;\">{</span><span style=\"color:#7a7a43;\">width</span><span style=\"color:#079a71;\">:</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;.</span><span style=\"color:#859900;\">hs-search-result</span><span style=\"color:#2aa198;\">&quot;</span>).outerWidth()<br/>                        <span style=\"color:#dc322f;\">}}</span>)<br/>                <span style=\"color:#dc322f;\">}</span>);<br/><br/>                <span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">window</span>.<span style=\"color:#6c71c4;\">grid</span><span style=\"color:#079a71;\">= </span><span style=\"color:#458383;\">grid</span>;<br/><br/>            <span style=\"color:#dc322f;\">}</span>);<br/><br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#458383;\">table</span>.<span style=\"color:#7a7a43;\">dataTable</span>();<br/><span style=\"color:#dc322f;\">}</span></pre><p><br/></p><p><br/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">渲染</span><span style=\"color:#93a1a1;font-style:italic;\">easyui</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表格<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#b58900;\">initEasyUiTable</span>(<span style=\"color:#2aa198;\">&#39;#tt&#39;</span>,<span style=\"color:#2aa198;\">&#39;{:url(&quot;/crm/Typeuser/getProxyUser&quot;)}&#39;</span>,<span style=\"color:#268bd2;\">[[<br/></span><span style=\"color:#268bd2;\"> &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;ck&#39;</span>, <span style=\"color:#6c71c4;\">checkbox</span><span style=\"color:#079a71;\">: </span><span style=\"color:#859900;\">true</span>, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>10<span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;name&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">姓名</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>90, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>, <span style=\"color:#6c71c4;\">sortable</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&quot;true&quot;</span>,<br/>             <span style=\"color:#7a7a43;\">formatter</span><span style=\"color:#079a71;\">: </span><span style=\"color:#859900;\">function </span>(value, row, index) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">if </span>(row.user) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;name-btn&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;name-btn&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; }</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;yhnum&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">用户编号</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>90, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>, <span style=\"color:#6c71c4;\">sortable</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&quot;true&quot;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;email&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">邮箱</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>150, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;tel&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">手机</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>130, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;role&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">角色</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>90, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;address&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">国家</span><span style=\"color:#2aa198;\">/</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">省</span><span style=\"color:#2aa198;\">/</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">市</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>130, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;other&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">备注</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>90, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;fycj&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">返佣层级</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>100, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;upyh&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">上级用户</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>90, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;idname&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;ID&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>80, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/><span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;nextyh&#39;</span>,<span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">下级用户</span><span style=\"color:#2aa198;\">&#39;</span>,<span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">:</span>80,<span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;center&#39;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;nextyh&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">下级用户</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>80, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>,<br/>             <span style=\"color:#7a7a43;\">formatter</span><span style=\"color:#079a71;\">: </span><span style=\"color:#859900;\">function </span>(value, row, index) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">if </span>(value <span style=\"color:#079a71;\">&gt; </span>0) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;name-btn&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;nor-font&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; }</span>,<br/>         <span style=\"color:#dc322f;\">{</span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;cjtime&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">创建时间</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>150, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>, <span style=\"color:#6c71c4;\">sortable</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&quot;true&quot;</span><span style=\"color:#dc322f;\">}</span>,<br/>         <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;state&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">登录状态</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>80, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>,<br/>             <span style=\"color:#7a7a43;\">formatter</span><span style=\"color:#079a71;\">: </span><span style=\"color:#859900;\">function </span>(value, row, index) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">if </span>(value <span style=\"color:#079a71;\">&gt; </span>0) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;state-icon&#39;&gt;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;nor-font&#39;&gt;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; }</span>,<br/>         <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;glzh&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">关联账户</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>80, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>,<br/>             <span style=\"color:#7a7a43;\">formatter</span><span style=\"color:#079a71;\">: </span><span style=\"color:#859900;\">function </span>(value, row, index) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">if </span>(value <span style=\"color:#079a71;\">&gt; </span>0) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;name-btn&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;nor-font&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; }</span>,<br/>         <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#6c71c4;\">field</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;glkh&#39;</span>, <span style=\"color:#6c71c4;\">title</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">关联客户</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">: </span>80, <span style=\"color:#6c71c4;\">align</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;center&#39;</span>,<br/>             <span style=\"color:#7a7a43;\">formatter</span><span style=\"color:#079a71;\">: </span><span style=\"color:#859900;\">function </span>(value, row, index) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">if </span>(value <span style=\"color:#079a71;\">&gt; </span>0) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;name-btn&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">} </span><span style=\"color:#859900;\">else </span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&quot;&lt;span class=&#39;nor-font&#39;&gt;&quot; </span><span style=\"color:#079a71;\">+ </span>value <span style=\"color:#079a71;\">+ </span><span style=\"color:#2aa198;\">&quot;&lt;/span&gt;&quot;</span>;<br/>                 <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; }<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; </span><span style=\"color:#268bd2;\">]]</span>);<br/></pre><p><br/></p>', '2018-06-28 15:04:46', '2018-06-28 15:07:01', null, null, '68', '0', '1', '/index/article/show/id/37.html');
INSERT INTO `blog_article` VALUES ('38', '21', '用户/组', '用户', '&nbsp; 111 cat /etc/inittab&nbsp; 112&nbsp; vim /etc/inittab&nbsp; 113&nbsp; ll /etc/rc3.d&nbsp; 114&nbsp; cd /etc/rc3.d&nbsp; 115&nbsp; ls&nbsp; 116&nbsp; ll /etc/rc.d/&nbsp; 117&nbsp; ll /etc/rc.d/rc3.d&nbsp; 118&nbsp; vim /etc/rc.d/rc3.d&nbsp; 119', '', '<p>&nbsp; 111 cat /etc/inittab</p><p>&nbsp; 112&nbsp; vim /etc/inittab</p><p>&nbsp; 113&nbsp; ll /etc/rc3.d</p><p>&nbsp; 114&nbsp; cd /etc/rc3.d</p><p>&nbsp; 115&nbsp; ls</p><p>&nbsp; 116&nbsp; ll /etc/rc.d/</p><p>&nbsp; 117&nbsp; ll /etc/rc.d/rc3.d</p><p>&nbsp; 118&nbsp; vim /etc/rc.d/rc3.d</p><p>&nbsp; 119&nbsp; cd /etc/rc.d/rc3.d</p><p>&nbsp; 120&nbsp; ls</p><p>&nbsp; 121&nbsp; cd /etc/rc.d/rc3.d</p><p>&nbsp; 122&nbsp; ll /etc/rc.d/rc3.d</p><p>&nbsp; 123&nbsp; ll /etc/rc.d/rc5.d</p><p>&nbsp; 124&nbsp; ll /etc/rc.d/rc1.d</p><p>&nbsp; 125&nbsp; vim /etc/init.d/atd</p><p>&nbsp; 126&nbsp; cd /etc/init.d</p><p>&nbsp; 127&nbsp; ls -l</p><p>&nbsp; 128&nbsp; ll</p><p>&nbsp; 129&nbsp; cat mysql</p><p>&nbsp; 130&nbsp; cd /boot</p><p>&nbsp; 131&nbsp; ls</p><p>&nbsp; 132&nbsp; ls -al</p><p>&nbsp; 133&nbsp; cd grub</p><p>&nbsp; 134&nbsp; ls- al</p><p>&nbsp; 135&nbsp; ls -al</p><p>&nbsp; 136&nbsp; cd /boot/grub/</p><p>&nbsp; 137&nbsp; ls -l</p><p>&nbsp; 138&nbsp; cd /boot</p><p>&nbsp; 139&nbsp; ls</p><p>&nbsp; 140&nbsp; ll /boot/grub/</p><p>&nbsp; 141&nbsp; ll /boot/grub2/</p><p>&nbsp; 142&nbsp; cat /boot/grub2/grub.cfg&nbsp;</p><p>&nbsp; 143&nbsp; ls /etc/grub.d/</p><p>&nbsp; 144&nbsp; ls /etc/default/grub&nbsp;</p><p>&nbsp; 145&nbsp; cat /etc/default/grub&nbsp;</p><p>&nbsp; 146&nbsp; ls</p><p>&nbsp; 147&nbsp; cd /etc</p><p>&nbsp; 148&nbsp; ls</p><p>&nbsp; 149&nbsp; cat rc3.d</p><p>&nbsp; 150&nbsp; cd rc3.d</p><p>&nbsp; 151&nbsp; ls</p><p>&nbsp; 152&nbsp; ll rc3.d</p><p>&nbsp; 153&nbsp; ls -al</p><p>&nbsp; 154&nbsp; shuwdow</p><p>&nbsp; 155&nbsp; shutdow -h now</p><p>&nbsp; 156&nbsp; shutdown -h now</p><p>&nbsp; 157&nbsp; mysql</p><p>&nbsp; 158&nbsp; useradd join&nbsp; &nbsp;&nbsp;<span><span style=\"color: rgb(118, 146, 60);\">// 添加用户</span></span></p><p>&nbsp; 159&nbsp; cat /etc/password | grep join&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 查看用户&nbsp; &nbsp;xxx</span></p><p>&nbsp; 160&nbsp; cat /etc/passwd | grep join&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 查看用户&nbsp; 匹配 join</span></p><p>&nbsp; 161&nbsp; cat /etc/passwd&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 查看所有用户</span></p><p>&nbsp; 162&nbsp; cat /etc/passwd | grep join</p><p>&nbsp; 163&nbsp; cat /etc/shadow | grep join&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 查看用户join密码</span></p><p>&nbsp; 164&nbsp; ls /home</p><p>&nbsp; 165&nbsp; ls -l /etc/skel&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 这个文件是创建用户的模板</span></p><p>&nbsp; 166&nbsp; ls -al /etc/skel&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 查看隐藏文件</span></p><p>&nbsp; 167&nbsp; cd /etc/skel&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 进入模板目录</span></p><p>&nbsp; 168&nbsp; touch TenpFile&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 创建一个文件</span></p><p>&nbsp; 169&nbsp; useradd join01&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 新增用户</span></p><p>&nbsp; 170&nbsp; cd /home/join01&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 进入用户家目录</span></p><p>&nbsp; 171&nbsp; ls&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// ls后将会看到刚才在/etc/skel下面创建的TenpFile文件</span></p><p>&nbsp; 172&nbsp; useradd -u 555 user1&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 创建一个ID为555 的 用户&nbsp; user1</span></p><p>&nbsp; 173&nbsp; cat /etc/passwd | grep user1</p><p>&nbsp; 174&nbsp; useradd -g user1 user2&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 创建一个组为 user1 的用户 user2</span></p><p>&nbsp; 175&nbsp; useradd -d /home/mydir3 user3;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 创建一个用户user3 并且设置家目录为/home/mydir3</span></p><p>&nbsp; 176&nbsp; ls /home</p><p>&nbsp; 177&nbsp; passwd join&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// root 身份&nbsp; 为join 创建密码</span></p><p>&nbsp; 178&nbsp; exit</p><p>&nbsp; 179&nbsp; useradd -u 557 -g alice -d /home/alicedir alice&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 创建一个 iD为557&nbsp; 组为alice 家目录为 /home/alicedir 的用户 alice</span></p><p>&nbsp; 180&nbsp; useradd -u 557&nbsp; -d /home/alicedir alice&nbsp;</p><p>&nbsp; 181&nbsp; passwd alice</p><p>&nbsp; 182&nbsp; cat /etc/passwd | grep alice</p><p>&nbsp; 183&nbsp; usermod -d /home/newalicedir -m alice&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 修改用户alice的家目录</span></p><p>&nbsp; 184&nbsp; ls /home</p><p>&nbsp; 185&nbsp; cat /etc/passwd | grep alice</p><p>&nbsp; 186&nbsp; cat /etc/shadow | grep alice</p><p>&nbsp; 187&nbsp; usermod -L alice&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 冻结alice用户</span></p><p>&nbsp; 188&nbsp; cat /etc/shadow | grep alice&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 看下第一个分号之后第一个字符为！ 代表禁用</span></p><p>&nbsp; 189&nbsp; usermod -U alice&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 解锁 alice用户</span></p><p>&nbsp; 190&nbsp; cat /etc/shadow | grep alice&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 再看下是不是没有！了</span></p><p>&nbsp; 191&nbsp; userdel alice</p><p>&nbsp; 192&nbsp; cat /etc/shadow | grep alice</p><p>&nbsp; 193&nbsp; ls /home</p><p>&nbsp; 194&nbsp; groupadd group1&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 添加一个组&nbsp; group1</span></p><p>&nbsp; 195&nbsp; cat /etc/group&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 查看系统所有组</span></p><p>&nbsp; 196&nbsp; groupdel group1&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 删除组</span></p><p>&nbsp; 197&nbsp; cat /etc/group</p><p>&nbsp; 198&nbsp; groupdel group1&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 再次删除是不是报错了</span></p><p>&nbsp; 199&nbsp; groupadd group1&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 添加组group1</span></p><p>&nbsp; 200&nbsp; useradd -g group1 group1user1&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 新增一个group1user1的用户 属于 group1组</span></p><p>&nbsp; 201&nbsp; cat /etc/passwd | grep group1user1</p><p>&nbsp; 202&nbsp; cat /etc/shadow | grep group1user1</p><p>&nbsp; 203&nbsp; cat /etc/group</p><p>&nbsp; 204&nbsp; cat /etc/shadow | grep group1user1</p><p>&nbsp; 205&nbsp; cat /etc/passwd | grep group1user1</p><p>&nbsp; 206&nbsp; groupdel group1;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 删除组group1</span></p><p>&nbsp; 207&nbsp; cat /etc/group</p><p>&nbsp; 208&nbsp; users</p><p>&nbsp; 209&nbsp; who</p><p>&nbsp; 210&nbsp; w</p><p>&nbsp; 211&nbsp; finger&nbsp;&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// centos7 没有此命令？</span></p><p>&nbsp; 212&nbsp; finger user1</p><p>&nbsp; 213&nbsp; su join&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 切换用户</span></p><p>&nbsp; 214&nbsp; vim /etc/sudoers</p><p>&nbsp; 215&nbsp; visudo&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 专用编辑sudo的命令 可以检查语法</span></p><p>&nbsp; 216&nbsp; su - join&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 切换用户并定位至该用户家目录</span></p><p>&nbsp; 217&nbsp; pwd&nbsp;<span style=\"color: rgb(118, 146, 60); white-space: normal;\">// 查看当前所在目录</span></p><p>&nbsp; 218&nbsp; su -join</p><p>&nbsp; 219&nbsp; su - join</p><p>&nbsp; 220&nbsp; su join</p><p><br/></p><p>关于visudo，我自己截下图</p><p><br/></p><p><span style=\"color:#76923c\">root&nbsp; &nbsp; ALL=(ALL)&nbsp; &nbsp; &nbsp; &nbsp;ALL</span></p><p><span style=\"color:#76923c\">##&nbsp; 下面是设置sudo join 用户 使用命令时候不需要输入密码，并且只有关闭重启服务器权限</span></p><p><span style=\"color:#76923c\">join&nbsp; &nbsp; ALL=(ALL)&nbsp; &nbsp; &nbsp; &nbsp;NOPASSWD:/sbin/shutdown, /usr/bin/reboot</span></p><p><br/></p>', '2018-06-29 14:08:06', '2018-06-29 14:18:03', null, null, '65', '0', '0', '/index/article/show/id/38.html');
INSERT INTO `blog_article` VALUES ('39', '11', 'THINKPHP5，时间选择插件daterangepicker以及多语言', '时间选择,THINKPHP5', '1.引入必要的JS文件<!--时间插件-->', '', '<pre style=\"background-color: rgb(253, 246, 227); font-family: &quot;DejaVu Sans Mono&quot;; font-size: 10.8pt;\"><p style=\"\"><strong style=\"\"><span style=\"color:#76923c\">1.引入必要的JS文件</span></strong></p><p style=\"color: rgb(88, 110, 117);\"><span style=\"color:#93a1a1;\"></span></p></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;\">&lt;!--</span><span style=\"color:#93a1a1;font-family:&#39;宋体&#39;;\">时间插件</span><span style=\"color:#93a1a1;\">--&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">link </span><span style=\"color:#839496;\">rel=</span><span style=\"color:#2aa198;\">&quot;stylesheet&quot; </span><span style=\"color:#839496;\">href=</span><span style=\"color:#2aa198;\">&quot;__PUBLIC__/crm/css/daterangepicker.css&quot; </span><span style=\"color:#93a1a1;\">/&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">!script </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;text/java!script&quot; </span><span style=\"color:#839496;\">src=</span><span style=\"color:#2aa198;\">&quot;__PUBLIC__/crm/js/moment.js&quot; </span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">!script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">!script </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;text/java!script&quot; </span><span style=\"color:#839496;\">src=</span><span style=\"color:#2aa198;\">&quot;__PUBLIC__/crm/js/daterangepicker.js&quot; </span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">!script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">!script </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;text/java!script&quot; </span><span style=\"color:#839496;\">src=</span><span style=\"color:#2aa198;\">&quot;__PUBLIC__/crm/js/pagedate.js&quot; </span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">!script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;!--</span><span style=\"color:#93a1a1;font-family:&#39;宋体&#39;;\">时间插件</span><span style=\"color:#93a1a1;\">--&gt;</span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;\"></span><br/></pre><p><br/></p><p><br/></p><pre style=\"background-color: rgb(253, 246, 227); font-family: &quot;DejaVu Sans Mono&quot;; font-size: 10.8pt;\"><p style=\"\"><span style=\"color:#76923c\"><strong>2.这些是在父级页面通过后台配置的多语言</strong></span></p><p style=\"color: rgb(88, 110, 117);\"><span style=\"color:#93a1a1;\"></span></p></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;\">&lt;!--</span><span style=\"color:#93a1a1;font-family:&#39;宋体&#39;;\">日期范围空间所需要的多语言</span><span style=\"color:#93a1a1;\">--&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeAll&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">全部</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeToday&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">今天</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeTomorrow&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">明天</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeWeekers&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">未来七天</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeMonthers&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">未来</span><span style=\"color:#2aa198;\">30</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">天</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeTwomonth&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">未来</span><span style=\"color:#2aa198;\">60</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">天</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeSure&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">确定</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangCancel&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">取消</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeCustom&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">自定义</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeWeek&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;[&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">日</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">一</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">二</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">三</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">四</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">五</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">六</span><span style=\"color:#2aa198;\">&#39;)}&#39;]&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;dateRangeMonth&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;[&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">一月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">二月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">三月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">四月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">五月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">六月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">七月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">八月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">九月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">十月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">十月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">十一月</span><span style=\"color:#2aa198;\">&#39;)}&#39;,&#39;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">十二月</span><span style=\"color:#2aa198;\">&#39;)}&#39;]&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span></pre><pre style=\"background-color: rgb(253, 246, 227); font-family: &quot;DejaVu Sans Mono&quot;; font-size: 10.8pt;\"><span style=\"color: rgb(147, 161, 161);\"></span><br/></pre><p><br/></p><p><br/></p><pre style=\"background-color: rgb(253, 246, 227); font-family: &quot;DejaVu Sans Mono&quot;; font-size: 10.8pt;\"><p style=\"\"><strong style=\"\"><span style=\"color:#76923c\">3.这是html代码页面</span></strong></p><p style=\"color: rgb(88, 110, 117);\"><span style=\"color:#93a1a1;\"></span></p></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;subpage&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;subpage-head&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">span</span><span style=\"color:#93a1a1;\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;;\">用户管理</span>&#39;)}<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">span</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">form </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;proxyUserTableForm&quot; </span><span style=\"color:#839496;\">style=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#b58900;\">float</span>: <span style=\"color:#2aa198;\">right</span>;<span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;fn-right&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style=\"color:#93a1a1;font-family:&#39;宋体&#39;;\">权限判断</span><span style=\"color:#93a1a1;\">--&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>{if $addable}<br/>                <span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">button </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;dataaddbtn dataaddbtn1&quot; </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;button&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">i</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">i</span><span style=\"color:#93a1a1;\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;;\">添加</span>&#39;)}<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">button</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>{/if}<br/>                <span style=\"color:#93a1a1;\">&lt;!--</span><span style=\"color:#93a1a1;font-family:&#39;宋体&#39;;\">权限判断</span><span style=\"color:#93a1a1;\">--&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--</span><span style=\"color:#93a1a1;font-family:&#39;宋体&#39;;\">筛选项暂时还做不了</span><span style=\"color:#93a1a1;\">--&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!--<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=&quot;data-select&quot;&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;select class=&quot;hs-ui-select&quot;&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;option&gt;test unit&lt;/option&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/select&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;fn-left subpage-date datacont-date&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">span</span><span style=\"color:#93a1a1;\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;;\">创建时间</span>&#39;)}<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">span</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">button </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;button&quot; </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;btn btn-default&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;daterange-btn&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">i </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;icon date-icon&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">i</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">button</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">name=</span><span style=\"color:#2aa198;\">&quot;start&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;hidden&quot; </span><span style=\"color:#839496;\">name=</span><span style=\"color:#2aa198;\">&quot;end&quot; </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;data-select datatab-sel&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">select </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;hs-ui-select&quot; </span><span style=\"color:#839496;\">name=</span><span style=\"color:#2aa198;\">&quot;field&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;fieldName&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">option </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;c.real_name&quot;</span><span style=\"color:#93a1a1;\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;;\">姓名</span>&#39;)}<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">option</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">option </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;a.email&quot;</span><span style=\"color:#93a1a1;\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;;\">邮箱</span>&#39;)}<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">option</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">option </span><span style=\"color:#839496;\">value=</span><span style=\"color:#2aa198;\">&quot;c.phone&quot;</span><span style=\"color:#93a1a1;\">&gt;</span>{:lang(&#39;<span style=\"font-family:&#39;宋体&#39;;\">手机号</span>&#39;)}<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">option</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">select</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;text&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;fieldValue&quot; </span><span style=\"color:#839496;\">name=</span><span style=\"color:#2aa198;\">&quot;value&quot; </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;data-input input-search&quot; </span><span style=\"color:#839496;\">data-form=</span><span style=\"color:#2aa198;\">&quot;proxyUserTableForm&quot; </span><span style=\"color:#839496;\">data-table=</span><span style=\"color:#2aa198;\">&quot;proxyUserTable&quot;<br/></span><span style=\"color:#2aa198;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"color:#839496;\">placeholder=</span><span style=\"color:#2aa198;\">&quot;{:lang(&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">搜索</span><span style=\"color:#2aa198;\">&#39;)}&quot;</span><span style=\"color:#93a1a1;\">/&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;fn-left&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">button </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;button&quot; </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;setting-btn&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">button</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">form</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;subpage-cont&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;allbig-mod&quot; </span><span style=\"color:#839496;\">style=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#b58900;\">min-height</span>: <span style=\"color:#2aa198;\">700px</span>;<span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;bottable-mod&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">table </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;proxyUserTable&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">table</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;</span></pre><pre style=\"background-color: rgb(253, 246, 227); font-family: &quot;DejaVu Sans Mono&quot;; font-size: 10.8pt;\"><span style=\"color: rgb(147, 161, 161);\"></span><br/></pre><p><br/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#6c71c4;\"></span></pre><pre style=\"background-color: rgb(253, 246, 227); font-family: &quot;DejaVu Sans Mono&quot;; font-size: 10.8pt;\"><p style=\"\"><span style=\"color:#76923c;\"><strong>4.开始渲染日期选择</strong></span></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">!script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;</span><span style=\"color:#b58900;\">$</span>(<span style=\"color:#859900;\">function </span>() <span style=\"color:#dc322f;\">{</span><br/>        <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">渲染日期筛选<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; </span><span style=\"color:#b58900;\">initDateRange</span>(<span style=\"color:#2aa198;\">&#39;#daterange-btn&#39;</span>, <span style=\"color:#2aa198;\">&#39;proxyUserTable&#39;</span>, <span style=\"color:#2aa198;\">&#39;proxyUserTableForm&#39;</span>);<br/><br/><p><span style=\"color:#dc322f;\">}</span>);</p><p></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:10.8pt;\"><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">前提是在后台做了多语言的配置<br/></span><span style=\"color:#859900;\">var </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">all </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeAll&quot;</span>).<span style=\"color:#7a7a43;\">val</span>();<br/><span style=\"color:#859900;\">var </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeToday </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeToday&quot;</span>).<span style=\"color:#7a7a43;\">val</span>();<br/><span style=\"color:#859900;\">var </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeTomorrow </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeTomorrow&quot;</span>).<span style=\"color:#7a7a43;\">val</span>();<br/><span style=\"color:#859900;\">var </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeWeekers </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeWeekers&quot;</span>).<span style=\"color:#7a7a43;\">val</span>();<br/><span style=\"color:#859900;\">var </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeMonthers </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeMonthers&quot;</span>).<span style=\"color:#7a7a43;\">val</span>();<br/><span style=\"color:#859900;\">var </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeTwomonth </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeTwomonth&quot;</span>).<span style=\"color:#7a7a43;\">val</span>();<br/><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">参数</span><span style=\"color:#93a1a1;font-style:italic;\"> locale<br/></span><span style=\"color:#859900;\">var </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges </span><span style=\"color:#079a71;\">= </span><span style=\"color:#dc322f;\">{}</span>;<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">all</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#6c71c4;\">moment</span>().<span style=\"color:#6c71c4;\">subtract</span>(<span style=\"color:#079a71;\">+</span>5000, <span style=\"color:#2aa198;\">&#39;days&#39;</span>), <span style=\"color:#6c71c4;\">moment</span>()<span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeToday</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#6c71c4;\">moment</span>(), <span style=\"color:#6c71c4;\">moment</span>()<span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeTomorrow</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#6c71c4;\">moment</span>().<span style=\"color:#6c71c4;\">subtract</span>(<span style=\"color:#079a71;\">-</span>1, <span style=\"color:#2aa198;\">&#39;days&#39;</span>), <span style=\"color:#6c71c4;\">moment</span>().<span style=\"color:#6c71c4;\">subtract</span>(<span style=\"color:#079a71;\">-</span>1, <span style=\"color:#2aa198;\">&#39;days&#39;</span>)<span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeWeekers</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#6c71c4;\">moment</span>(),<span style=\"color:#6c71c4;\">moment</span>().<span style=\"color:#6c71c4;\">subtract</span>(<span style=\"color:#079a71;\">-</span>6, <span style=\"color:#2aa198;\">&#39;days&#39;</span>)<span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeMonthers</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#6c71c4;\">moment</span>(),<span style=\"color:#6c71c4;\">moment</span>().<span style=\"color:#6c71c4;\">subtract</span>(<span style=\"color:#079a71;\">-</span>29, <span style=\"color:#2aa198;\">&#39;days&#39;</span>)<span style=\"color:#268bd2;\">]</span>;<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">dateRangeTwomonth</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[</span><span style=\"color:#6c71c4;\">moment</span>(),<span style=\"color:#6c71c4;\">moment</span>().<span style=\"color:#6c71c4;\">subtract</span>(<span style=\"color:#079a71;\">-</span>59, <span style=\"color:#2aa198;\">&#39;days&#39;</span>)<span style=\"color:#268bd2;\">]</span>;<br/><br/><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">initDateRange</span>(box,tableId,formId)<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">初始化<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">$</span>(box).<span style=\"color:#6c71c4;\">daterangepicker</span>(<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">locale</span><span style=\"color:#079a71;\">:</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">format</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;YYYY-MM-DD&#39;</span>,<br/>                <span style=\"color:#6c71c4;\">separator</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;-&#39;</span>,<br/>                <span style=\"color:#6c71c4;\">applyLabel</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeSure&quot;</span>).<span style=\"color:#7a7a43;\">val</span>(), <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">确定按钮的文字<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">cancelLabel</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangCancel&quot;</span>).<span style=\"color:#7a7a43;\">val</span>(), <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">取消按钮的文件<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">weekLabel</span><span style=\"color:#079a71;\">: </span><span style=\"color:#2aa198;\">&#39;W&#39;</span>,<br/>                <span style=\"color:#6c71c4;\">customRangeLabel</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeCustom&quot;</span>).<span style=\"color:#7a7a43;\">val</span>(),<br/>                <span style=\"color:#6c71c4;\">daysOfWeek</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">moment</span>.<span style=\"color:#7a7a43;\">weekdaysMin</span>(),<br/>                <span style=\"color:#6c71c4;\">monthNames</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">moment</span>.<span style=\"color:#7a7a43;\">monthsShort</span>(),<br/>                <span style=\"color:#6c71c4;\">firstDay</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">moment</span>.<span style=\"color:#7a7a43;\">localeData</span>().<span style=\"color:#7a7a43;\">firstDayOfWeek</span>(),<br/>                <span style=\"color:#6c71c4;\">daysOfWeek</span><span style=\"color:#079a71;\">: </span><span style=\"color:#b58900;\">eval</span>(<span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeWeek&quot;</span>).<span style=\"color:#7a7a43;\">val</span>()), <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">每周的天数<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">monthNames</span><span style=\"color:#079a71;\">: </span><span style=\"color:#b58900;\">eval</span>(<span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&quot;#dateRangeMonth&quot;</span>).<span style=\"color:#7a7a43;\">val</span>()), <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">月份<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">tableId</span><span style=\"color:#079a71;\">: </span>tableId, <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">额外的参数 用来刷新</span><span style=\"color:#93a1a1;font-style:italic;\">table</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">formId</span><span style=\"color:#079a71;\">:</span>formId,<br/>                <span style=\"color:#6c71c4;\">boxId</span><span style=\"color:#079a71;\">:</span>box,<br/>            <span style=\"color:#dc322f;\">}</span>,<br/>            <span style=\"color:#6c71c4;\">ranges</span><span style=\"color:#079a71;\">: </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">langRanges</span>,<br/>            <span style=\"color:#6c71c4;\">startDate</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">moment</span>(),<br/>            <span style=\"color:#6c71c4;\">endDate</span><span style=\"color:#079a71;\">: </span><span style=\"color:#6c71c4;\">moment</span>()<br/>        <span style=\"color:#dc322f;\">}</span>,<br/>        <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">点击确定后的回调函数<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// param start </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">开始时间<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// param end &nbsp; </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">结束时间<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// label &nbsp; &nbsp; &nbsp; </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">自己</span><span style=\"color:#93a1a1;font-style:italic;\">console<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function</span>(start, end,label) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">当前控件对象<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">console</span>.<span style=\"color:#7a7a43;\">log</span>(<span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#859900;\">this</span>))<br/>            <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">获取我们设置的要刷新的表格</span><span style=\"color:#93a1a1;font-style:italic;\">ID<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">table </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#859900;\">this</span>)<span style=\"color:#268bd2;\">[</span>0<span style=\"color:#268bd2;\">]</span>.locale.<span style=\"color:#6c71c4;\">tableId</span>;<br/>            <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#dc322f;\">{}</span>;<br/>            <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">同时要筛选表单的已经筛选的项<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">formId </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#859900;\">this</span>)<span style=\"color:#268bd2;\">[</span>0<span style=\"color:#268bd2;\">]</span>.locale.<span style=\"color:#6c71c4;\">formId</span>;<br/>            <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如若需要加载表单已经筛选的字段<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">formId</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#b58900;\">pbFormJson</span>(<span style=\"color:#458383;\">formId</span>);<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">boxId </span><span style=\"color:#079a71;\">= </span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#859900;\">this</span>)<span style=\"color:#268bd2;\">[</span>0<span style=\"color:#268bd2;\">]</span>.locale.<span style=\"color:#6c71c4;\">boxId</span>;<br/>            <span style=\"color:#93a1a1;font-style:italic;\">// label:</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">通过它来知道用户选择的是什么，传给后台进行相应的展示<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">startString </span><span style=\"color:#079a71;\">= </span>start.<span style=\"color:#7a7a43;\">format</span>(<span style=\"color:#2aa198;\">&#39;YYYY-MM-DD&#39;</span>);<br/>            <span style=\"color:#859900;\">if</span>(end)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">endString </span><span style=\"color:#079a71;\">= </span>end.<span style=\"color:#7a7a43;\">format</span>(<span style=\"color:#2aa198;\">&#39;YYYY-MM-DD&#39;</span>);<br/>            <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">endString </span><span style=\"color:#079a71;\">= </span><span style=\"color:#458383;\">startString</span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">将选择的时间同步到容器<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#458383;\">boxId</span>).<span style=\"color:#7a7a43;\">text</span>(<span style=\"color:#458383;\">startString</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39; ~ &#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">endString</span>);<br/>            <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">同时同步到</span><span style=\"color:#93a1a1;font-style:italic;\">input hidden </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">框<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&#39;body&#39;</span>).<span style=\"color:#7a7a43;\">find</span>(<span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#859900;\">input</span><span style=\"color:#2aa198;\">[</span><span style=\"color:#859900;\">name</span><span style=\"color:#2aa198;\">=&#39;start&#39;]&quot;</span>).<span style=\"color:#7a7a43;\">val</span>(<span style=\"color:#458383;\">startString</span>);<br/>            <span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&#39;body&#39;</span>).<span style=\"color:#7a7a43;\">find</span>(<span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#859900;\">input</span><span style=\"color:#2aa198;\">[</span><span style=\"color:#859900;\">name</span><span style=\"color:#2aa198;\">=&#39;end&#39;]&quot;</span>).<span style=\"color:#7a7a43;\">val</span>(<span style=\"color:#458383;\">endString</span>);<br/>            <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">当然我这里是要刷新</span><span style=\"color:#93a1a1;font-style:italic;\">easyuitable</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">控件</span><span style=\"color:#93a1a1;font-style:italic;\">,</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">下面代码自己切换<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">showLoading</span>(3);<br/>            <span style=\"color:#458383;\">data</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;start&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#458383;\">startString</span>; <br/>            <span style=\"color:#458383;\">data</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;end&#39;</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#458383;\">endString</span>; <br/>            <span style=\"color:#6c71c4;\">$</span>(<span style=\"color:#2aa198;\">&#39;#&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">table</span>).<span style=\"color:#7a7a43;\">datagrid</span>(<span style=\"color:#2aa198;\">&#39;load&#39;</span>,<span style=\"color:#458383;\">data</span>);<br/>            <span style=\"color:#b58900;\">hideLoading</span>();<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span>);<br/><span style=\"color:#dc322f;\">}<br/></span></pre><p><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">!script</span><span style=\"color:#93a1a1;\">&gt;</span></p><p><span style=\"color:#93a1a1;\"><br/></span></p><p><span style=\"color:#93a1a1;\"><br/></span></p><p><span style=\"color:#93a1a1;\"><br/></span></p></pre><p style=\"color: rgb(88, 110, 117);\"><br/></p></pre>', '2018-07-02 10:42:56', '2018-07-02 15:09:41', null, null, '66', '1', '0', '/index/article/show/id/39.html');
INSERT INTO `blog_article` VALUES ('40', '21', 'Linux-文件管理', 'Linux 文件管理', '文件和目录管理1：目录以及说明[root@localhost ~]# cd /[root@localhost /]# lsbin&nbsp; 常见的用户指令boot&nbsp; 内核和启动文件dev&nbsp; 设备文件&nbsp;etc&nbsp; 系统和服务的配置文件home 用户的家目录lib&nbsp; 系统函数库lib64&nbsp;&nbsp;lnmp&nbsp;&nbsp;media&nbsp; 系统用来挂在光驱等临时文件系统的挂载点mnt&nbsp; 系统加载文件系统时常用的挂载', '', '<p><strong><span style=\"font-size:24px\">文件和目录管理</span></strong></p><p><strong><span style=\"font-size:24px\">1：目录以及说明</span></strong></p><p>[root@localhost ~]# cd /</p><p>[root@localhost /]# ls</p><p>bin&nbsp; <span style=\"color:#76923c\">常见的用户指令</span></p><p>boot&nbsp; <span style=\"color:#76923c\">内核和启动文件</span></p><p>dev&nbsp; <span style=\"color:#76923c\">设备文件&nbsp;</span></p><p>etc&nbsp; <span style=\"color:#76923c\">系统和服务的配置文件</span></p><p>home <span style=\"color:#76923c\">用户的家目录</span></p><p>lib&nbsp; <span style=\"color:#76923c\">系统函数库</span></p><p>lib64&nbsp;&nbsp;</p><p>lnmp&nbsp;&nbsp;</p><p>media&nbsp; <span style=\"color:#76923c\">系统用来挂在光驱等临时文件系统的挂载点</span></p><p>mnt&nbsp; <span style=\"color:#76923c\">系统加载文件系统时常用的挂载点</span></p><p>opt&nbsp; 第三方软件安装目录</p><p>proc&nbsp;&nbsp;</p><p>root<span style=\"color:#76923c\"> root用户的家目录</span></p><p>run&nbsp;&nbsp;</p><p>sbin&nbsp;&nbsp;</p><p>srv&nbsp;&nbsp;</p><p>sys&nbsp;</p><p>tmp&nbsp; <span style=\"color:#76923c\">临时文件</span></p><p>usr&nbsp; <span style=\"color:#76923c\">存放与用户直接相关的文件和目录</span></p><p>var&nbsp;&nbsp;</p><p>wwwroot</p><p><span style=\"font-size:24px\"><strong>2：相对路径/绝对路径,以及pwd使用</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost ~]# cd /etc</p><p>[root@localhost etc]# pwd</p><p>/etc</p><p>[root@localhost etc]# cd ./init.d</p><p>[root@localhost init.d]# pwd</p><p>/etc/init.d</p><p><span style=\"font-size:24px\"><strong>3：特殊目录 .&nbsp; &nbsp;/&nbsp; ..</strong></span></p><p>每个目录下都会固定的存在这两个特殊目录</p><p>.&nbsp; &nbsp;=== 当前目录</p><p>..&nbsp; === 上层目录</p><p>他们是隐藏文件<br/></p><p>[root@localhost init.d]# ls -l</p><p>total 48</p><p>-rw-r--r--. 1 root root 13948 Sep 16&nbsp; 2015 functions</p><p>-rwxr-xr-x. 1 root root 10880 May&nbsp; 8 18:01 mysql</p><p>-rwxr-xr-x. 1 root root&nbsp; 2989 Sep 16&nbsp; 2015 netconsole</p><p>-rwxr-xr-x. 1 root root&nbsp; 6630 Sep 16&nbsp; 2015 network</p><p>-rwxr-xr-x. 1 root root&nbsp; 2401 May&nbsp; 7 22:11 php-fpm</p><p>-rw-r--r--. 1 root root&nbsp; 1160 Mar&nbsp; 7 05:27 README</p><p>[root@localhost init.d]#<span style=\"color:#76923c\"> ls -la</span></p><p>total 52</p><p><span style=\"color:#76923c\"><strong>drwxr-xr-x.&nbsp; 2 root root&nbsp; &nbsp; 92 Jun 27 21:54 .</strong></span></p><p><span style=\"color:#76923c\"><strong>drwxr-xr-x. 10 root root&nbsp; 4096 May&nbsp; 7 20:42 ..</strong></span></p><p>-rw-r--r--.&nbsp; 1 root root 13948 Sep 16&nbsp; 2015 functions</p><p>-rwxr-xr-x.&nbsp; 1 root root 10880 May&nbsp; 8 18:01 mysql</p><p>-rwxr-xr-x.&nbsp; 1 root root&nbsp; 2989 Sep 16&nbsp; 2015 netconsole</p><p>-rwxr-xr-x.&nbsp; 1 root root&nbsp; 6630 Sep 16&nbsp; 2015 network</p><p>-rwxr-xr-x.&nbsp; 1 root root&nbsp; 2401 May&nbsp; 7 22:11 php-fpm</p><p>-rw-r--r--.&nbsp; 1 root root&nbsp; 1160 Mar&nbsp; 7 05:27 README</p><p><strong style=\"font-size: x-large; white-space: normal;\">4：创建文件&nbsp; touch，touch存在的文件，只会更新该文件的创建时间属性</strong></p><p>[root@localhost tmp]# touch test.txt</p><p>[root@localhost tmp]# ls -l</p><p>total 628</p><p>-rw-r--r--. 1 root root&nbsp; &nbsp; &nbsp; 0 Jul&nbsp; 1 21:58 test.txt</p><p>[root@localhost tmp]# touch test.txt</p><p>[root@localhost tmp]# ls -l</p><p>total 628</p><p>-rw-r--r--. 1 root root&nbsp; &nbsp; &nbsp; 0 Jul&nbsp; 1 21:59 test.txt</p><p><span style=\"font-size:24px\"><strong>5：删除文件&nbsp; rm filename</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost tmp]# rm test.txt&nbsp;</p><p>rm: remove regular empty file ‘test.txt’? y</p><p>[root@localhost tmp]# ls</p><p><span style=\"font-size:24px\"><strong>6：移动文件 mv A B</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost mnt]# cd /tmp</p><p>[root@localhost tmp]# ls</p><p>test.txt</p><p>[root@localhost tmp]# rm test.txt&nbsp;</p><p>[root@localhost tmp]# mv test.txt /mnt/</p><p>[root@localhost tmp]# ls</p><p>[root@localhost tmp]# ls -l /mnt</p><p>total 0</p><p>-rw-r--r--. 1 root root 0 Jul&nbsp; 1 22:02 test.txt</p><p><span style=\"font-size:24px\"><strong>7：重命名文件 mv</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost tmp]# cd /mnt</p><p>[root@localhost mnt]# ls</p><p>test.txt</p><p>[root@localhost mnt]# mv test.txt test.doc</p><p>[root@localhost mnt]# ls</p><p>test.doc</p><p><span style=\"font-size:24px\"><strong>8：移动并且重命名</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost mnt]# mv test.txt test.doc</p><p>[root@localhost mnt]# ls</p><p>test.doc</p><p>[root@localhost mnt]# mv test.doc /tmp/test.txt</p><p>[root@localhost mnt]# ls /tmp</p><p>systemd-private-43159042f861438299e40f2efea90f19-colord.service-xdlFmm&nbsp; &nbsp; &nbsp; &nbsp; test.txt</p><p><span style=\"font-size:24px\"><strong>9：查看文件的三个函数</strong></span></p><p><span style=\"font-size:24px\"><strong>cat</strong></span></p><p><span style=\"font-size:24px\"><strong>head -n 20 /tmp/log.txt&nbsp; 查看前20行</strong></span></p><p><span style=\"font-size:24px\"><strong>tail&nbsp; -n&nbsp; 20 /tmp/log.txt 查看最后20行</strong></span></p><p><span style=\"font-size:24px\"><strong>tail -f /tmp/log.txt 动态查看</strong></span></p><p><span style=\"font-size:24px\"><strong><br/></strong></span></p><p><span style=\"font-size:24px\"><strong><br/></strong></span></p><p><span style=\"font-size:24px\"><strong>10：dos2unix 文件格式转换</strong></span></p><p><span style=\"font-size:24px\"><strong>11：进入目录&nbsp; cd&nbsp; 目录</strong></span></p><p><span style=\"font-size:24px\"><strong>12：创建目录&nbsp; mkdir&nbsp; -p 递归创建目录</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost mnt]# cd /tmp</p><p>[root@localhost tmp]# pwd</p><p>/tmp</p><p>[root@localhost tmp]# mkdir test01</p><p>[root@localhost tmp]# cd test01/</p><p>[root@localhost test01]# mkdir test0101</p><p>[root@localhost test01]# ls</p><p>test0101</p><p>[root@localhost test01]# mkdir -p /tmp/test02/test0201</p><p>[root@localhost test01]# ls /tmp</p><p>test02</p><p>test.txt</p><p>test01</p><p>[root@localhost test01]# cd /tmp/test02</p><p>[root@localhost test02]# ls</p><p>test0201</p><p><span style=\"font-size:24px\"><strong>13：删除目录 rmdir，rm -rf （r递归删除目录下文件，f不需要确认）</strong></span></p><p><span style=\"font-size:24px\"><strong>14：文件和目录复制 cp</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost ~]# ls</p><p>anaconda-ks.cfg&nbsp; Desktop&nbsp; Documents&nbsp; Downloads&nbsp; Music&nbsp; Pictures&nbsp; Public&nbsp; Templates&nbsp; Videos</p><p>[root@localhost ~]# cp anaconda-ks.cfg anaconda-ks-copy.cfg&nbsp; &nbsp; 复制并且修改名称</p><p>[root@localhost ~]# ls</p><p>anaconda-ks.cfg&nbsp; anaconda-ks-copy.cfg&nbsp; Desktop&nbsp; Documents&nbsp; Downloads&nbsp; Music&nbsp; Pictures&nbsp; Public&nbsp; Templates&nbsp; Videos</p><p>[root@localhost ~]# cp anaconda-ks.cfg /tmp/anaconda-ks-copy.cfg&nbsp; 复制到/tmp并修改名称</p><p>[root@localhost ~]# cp anaconda-ks.cfg /tmp/ 复制到/tmp使用原名称</p><p>[root@localhost ~]# ls /tmp</p><p>anaconda-ks.cfg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;test01</p><p>anaconda-ks-copy.cfg&nbsp;</p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost ~]# mkdir test001/test00101/test0010101&nbsp; &nbsp;创建目录</p><p>mkdir: cannot create directory ‘test001/test00101/test0010101’: No such file or directory&nbsp; 出错</p><p>[root@localhost ~]# mkdir -p test001/test00101/test0010101&nbsp; 递归创建</p><p>[root@localhost ~]# cp test001 test001copy&nbsp; 复制目录</p><p>cp: omitting directory ‘test001’ 出错</p><p>[root@localhost ~]# cp -r test001 test001copy 递归复制目录</p><p>[root@localhost ~]# ls&nbsp; 看结果</p><p>anaconda-ks.cfg&nbsp; anaconda-ks-copy.cfg&nbsp; Desktop&nbsp; Documents&nbsp; Downloads&nbsp; Music&nbsp; Pictures&nbsp; Public&nbsp; Templates&nbsp; test001&nbsp; test001copy&nbsp; Videos</p><p><span style=\"font-size:24px\"><strong>15:文件/目录的权限</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost ~]# ls -l</p><p>total 8</p><p>// 单独注释一个</p><p>-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; r&nbsp; &nbsp;w&nbsp; &nbsp;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&nbsp; &nbsp; &nbsp;-&nbsp; &nbsp;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&nbsp; &nbsp;-&nbsp; &nbsp;-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; 2752&nbsp; &nbsp; &nbsp; May&nbsp; 4 05:42&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;anaconda-ks.cfg</p><p>目录为d&nbsp; &nbsp; &nbsp;读 写&nbsp; 执行(拥有者U)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 所属组(G)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 其他用户（O）&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;软连接数&nbsp; &nbsp; &nbsp; 拥有者&nbsp; &nbsp;组别&nbsp; &nbsp; &nbsp;大小&nbsp; &nbsp; &nbsp; &nbsp;创建/最近修改时间&nbsp; &nbsp;文件名</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4&nbsp; &nbsp;2&nbsp; &nbsp; 1</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p><p><br/></p><p>-rw-------. 1 root root 2752 Jul&nbsp; 1 22:14 anaconda-ks-copy.cfg</p><p>drwxr-xr-x. 3 root root&nbsp; &nbsp;18 May&nbsp; 8 02:30 Desktop</p><p><span style=\"font-size:24px\"><strong>16：文件的隐藏属性</strong></span></p><p><span style=\"font-size:24px\"><strong></strong></span></p><p>[root@localhost ~]# lsattr anaconda-ks.cfg&nbsp; 查看属性</p><p>---------------- anaconda-ks.cfg</p><p>[root@localhost ~]# chat</p><p>chat&nbsp; &nbsp; chattr&nbsp;&nbsp;</p><p>[root@localhost ~]# chattr +a anaconda-ks-copy.cfg&nbsp; &nbsp;a只能在稳步追加数据&nbsp; &nbsp; &nbsp; 适用于log文件</p><p>[root@localhost ~]# chattr +i anaconda-ks-copy.cfg&nbsp; &nbsp; i无法改名、删除、写入&nbsp; &nbsp; 适用于配置文件</p><p>[root@localhost ~]# lsattr anaconda-ks-copy.cfg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;查看属性</p><p>----ia---------- anaconda-ks-copy.cfg</p><p>[root@localhost ~]# rm anaconda-ks-copy.cfg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;现在是删不了此文件的</p><p>rm: remove regular file ‘anaconda-ks-copy.cfg’? y</p><p>rm: cannot remove ‘anaconda-ks-copy.cfg’: Operation not permitted</p><p><span style=\"font-size:24px\"><strong>17：改变文件权限chmod<br/></strong></span></p><p>[root@localhost ~]# chmod 755 anaconda-ks-copy.cfg&nbsp;</p><p>chmod: changing permissions of ‘anaconda-ks-copy.cfg’: Operation not permitted</p><p>[root@localhost ~]# chattr -i&nbsp; anaconda-ks-copy.cfg&nbsp;</p><p>[root@localhost ~]# chmod 755 anaconda-ks-copy.cfg&nbsp;</p><p>chmod: changing permissions of ‘anaconda-ks-copy.cfg’: Operation not permitted</p><p>[root@localhost ~]# lsattr anaconda-ks-copy.cfg&nbsp;</p><p>-----a---------- anaconda-ks-copy.cfg</p><p>[root@localhost ~]# chmod 700 anaconda-ks-copy.cfg&nbsp;</p><p>chmod: changing permissions of ‘anaconda-ks-copy.cfg’: Operation not permitted</p><p>[root@localhost ~]# chattr -a&nbsp; anaconda-ks-copy.cfg&nbsp;</p><p>[root@localhost ~]# <span style=\"color:#76923c\">chmod 700</span> anaconda-ks-copy.cfg&nbsp;</p><p>[root@localhost ~]# ls -l</p><p>total 8</p><p>-rw-------. 1 root root 2752 May&nbsp; 4 05:42 anaconda-ks.cfg</p><p><span style=\"color:#76923c\">-rwx------</span>. 1 root root 2752 Jul&nbsp; 1 22:14 anaconda-ks-copy.cfg</p><p>drwxr-xr-x. 3 root root&nbsp; &nbsp;18 May&nbsp; 8 02:30 Desktop</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Documents</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Downloads</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Music</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Pictures</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Public</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Templates</p><p>drwxr-xr-x. 3 root root&nbsp; &nbsp;22 Jul&nbsp; 1 22:16 test001</p><p>drwxr-xr-x. 3 root root&nbsp; &nbsp;22 Jul&nbsp; 1 22:17 test001copy</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Videos</p><p>[root@localhost ~]#<span style=\"color:#76923c\"> chmod 755 anaconda-ks-copy.cfg&nbsp;</span></p><p>[root@localhost ~]# ls -l</p><p>total 8</p><p>-rw-------. 1 root root 2752 May&nbsp; 4 05:42 anaconda-ks.cfg</p><p><span style=\"color:#76923c\">-rwxr-xr-x</span>. 1 root root 2752 Jul&nbsp; 1 22:14 anaconda-ks-copy.cfg</p><p>drwxr-xr-x. 3 root root&nbsp; &nbsp;18 May&nbsp; 8 02:30 Desktop</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Documents</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Downloads</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Music</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Pictures</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Public</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Templates</p><p>drwxr-xr-x. 3 root root&nbsp; &nbsp;22 Jul&nbsp; 1 22:16 test001</p><p>drwxr-xr-x. 3 root root&nbsp; &nbsp;22 Jul&nbsp; 1 22:17 test001copy</p><p>drwxr-xr-x. 2 root root&nbsp; &nbsp; 6 May&nbsp; 7 22:55 Videos</p><p><span style=\"font-size: 24px;\"><strong>18：改变文件的拥有者 chown</strong></span></p><p><span style=\"font-size: 24px;\"><strong></strong></span></p><p>[root@localhost ~]# ls -l</p><p>total 8</p><p>-rw-------. 1 root root 2752 May&nbsp; 4 05:42 anaconda-ks.cfg</p><p>-rwxr-xr-x. 1 <span style=\"color:#76923c\">root root 2752 Jul&nbsp; 1 22:14 anaconda-ks-copy.cfg</span></p><p><span style=\"font-size: 24px;\"><strong><br/></strong></span><br/></p><p><span style=\"font-size: 24px;\"><strong></strong></span></p><p>[root@localhost tmp]# chown join&nbsp; anaconda-ks-copy.cfg&nbsp;</p><p>[root@localhost tmp]# ls -l</p><p>total 636</p><p>-rw-------. 1 root root&nbsp; &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks.cfg</p><p>-rw-------. 1<span style=\"color:#76923c\"> join root&nbsp; &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks-copy.cfg</span></p><p><span style=\"font-size: 24px;\"><strong></strong></span></p><p>[root@localhost tmp]# ls -l</p><p>total 636</p><p>-rw-------. 1 root root&nbsp; &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks.cfg</p><p>-rw-------. 1 join root&nbsp; &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks-copy.cfg</p><p>[root@localhost tmp]# chown <span style=\"color:#76923c\">:join anaconda-ks-copy.cfg&nbsp;</span></p><p>[root@localhost tmp]# ls -l</p><p>total 636</p><p>-rw-------. 1 root root&nbsp; &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks.cfg</p><p>-rw-------. 1 join <span style=\"color:#76923c\">join&nbsp;</span> &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks-copy.cfg</p><p>[root@localhost tmp]# chown<span style=\"color:#76923c\"> join:join anaconda-ks.cfg&nbsp;</span></p><p>[root@localhost tmp]# ls -l</p><p>total 636</p><p>-rw-------. 1 <span style=\"color:#76923c\">join join&nbsp; &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks.cfg</span></p><p>-rw-------. 1 join join&nbsp; &nbsp;2752 Jul&nbsp; 1 22:15 anaconda-ks-copy.cfg</p><p><span style=\"font-size: 24px;\"><strong>19：改变文件拥有组&nbsp; chgrp&nbsp; 【 -R 递归设置】用户&nbsp; 文件&nbsp; &nbsp;&nbsp;</strong></span></p><p><span style=\"font-size: 24px;\"><strong>20：查看文件类型 file<br/></strong></span></p><p>[root@localhost tmp]# file /root</p><p>/root: directory</p><p>[root@localhost tmp]# file /root/anaconda-ks.cfg&nbsp;</p><p>/root/anaconda-ks.cfg: ASCII text</p><p>[root@localhost tmp]# file /tmp</p><p>/tmp: sticky directory</p><p>[root@localhost tmp]# file /etc/passwd</p><p>/etc/passwd: ASCII text</p><p>[root@localhost tmp]# file /usr/bin/passwd&nbsp;</p><p>/usr/bin/passwd: setuid ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=1e5735bf7b317e60bcb907f1989951f6abd50e8d, stripped</p><p><strong style=\"font-size: 24px; white-space: normal;\">21：查找文件&nbsp; find&nbsp; 目录 -name&nbsp; 文件名</strong></p><p><strong style=\"font-size: 24px; white-space: normal;\"></strong></p><p>[root@localhost tmp]# find / -name httpd.*</p><p>/usr/share/augeas/lenses/dist/httpd.aug</p><p><br/></p><p><strong style=\"white-space: normal; font-size: 24px;\">22：查找执行文件&nbsp; which whereis</strong></p><p><strong style=\"white-space: normal; font-size: 24px;\"></strong></p><p>[root@localhost tmp]# which passwd&nbsp; &nbsp; 命令在系统中的绝对路径</p><p>/usr/bin/passwd</p><p>[root@localhost tmp]# whereis passwd 绝对路径，二进制文件，以及相关man文件</p><p>passwd: /usr/bin/passwd /etc/passwd /usr/share/man/man1/passwd.1.gz /usr/share/man/man5/passwd.5.gz</p><p><strong style=\"white-space: normal; font-size: 24px;\"><br/></strong></p><p><strong style=\"white-space: normal; font-size: 24px;\"><strong style=\"white-space: normal; font-size: 24px;\">23：文件压缩/解压</strong></strong><br/></p><p><strong style=\"white-space: normal; font-size: 24px;\"><strong style=\"white-space: normal; font-size: 24px;\">gzip/gunzip&nbsp; 单个文件&nbsp; &nbsp;后缀.gz</strong></strong></p><p><strong style=\"white-space: normal; font-size: 24px;\"><strong style=\"white-space: normal; font-size: 24px;\"></strong></strong></p><p>[root@localhost tmp]# gzip test.txt&nbsp;</p><p>[root@localhost tmp]# ls</p><p>test.txt.gz</p><p>[root@localhost tmp]# gunzip test.txt.gz&nbsp;</p><p>[root@localhost tmp]# ls</p><p>test.txt</p><p><span style=\"font-size: 24px;\"><strong>tar 命令 后缀.tar.gz</strong></span></p><p><span style=\"font-size: 24px;\"><strong></strong></span></p><p>[root@localhost /]# tar -zcvf tmp.tgz /tmp&nbsp;&nbsp;</p><p>z使用gzip压缩</p><p>c 创建压缩文件</p><p>v显示被压缩文件</p><p>f使用文件名 也就是 tmp.tgz</p><p><br/></p><p><span style=\"font-size: 24px;\"><strong></strong></span><br/></p><p>[root@localhost /]# mkdir -p /tmp/zipdir</p><p>[root@localhost /]# tar -zxvf tmp.tgz /tmp/zipdir/</p><p><strong style=\"font-size: 24px; white-space: normal;\">tar 解压缩</strong></p><p><span style=\"font-size: 24px;\"><strong>x 解压缩</strong></span></p><p><span style=\"font-size: 24px;\"><strong>C 指定目录</strong></span></p><p>[root@localhost /]# tar -z<span style=\"color:#76923c\">x</span>vf tmp.tgz<span style=\"color:#76923c\"> -C /tmp/zipdir/</span></p><p>tmp/</p><p>......................</p><p>tmp/test.txt</p><p>[root@localhost /]# ls</p><p>bin&nbsp; boot&nbsp; dev&nbsp; etc&nbsp; home&nbsp; lib&nbsp; lib64&nbsp; lnmp&nbsp; media&nbsp; mnt&nbsp; opt&nbsp; proc&nbsp; root&nbsp; run&nbsp; sbin&nbsp; srv&nbsp; sys&nbsp; tmp&nbsp;<span style=\"color:#76923c\"> tmp.tgz</span>&nbsp; usr&nbsp; var&nbsp; wwwroot</p><p>[root@localhost /]#<span style=\"color:#76923c\"> ls /tmp/zipdir/</span></p><p>tmp</p><p>[root@localhost /]#<span style=\"color:#76923c\"> ls /tmp/zipdir/tmp/</span></p><p>anaconda-ks.cfg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;test01</p><p>anaconda-ks-copy.cfg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; test02</p><p>systemd-private-43159042f861438299e40f2efea90f19-colord.service-xdlFmm&nbsp; &nbsp; &nbsp; &nbsp; test.txt</p><p>systemd-private-43159042f861438299e40f2efea90f19-cups.service-hYwO1L&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tracker-extract-files.0</p><p>systemd-private-43159042f861438299e40f2efea90f19-rtkit-daemon.service-Pbrbvy&nbsp; yum_save_tx</p><p><span style=\"font-size: 24px;\"><strong><br/></strong></span></p><p><strong style=\"white-space: normal; font-size: 24px;\">bzip2&nbsp; &nbsp; &nbsp;</strong></p><p><strong style=\"white-space: normal; font-size: 24px;\">bzip2&nbsp; 文件名（压缩）&nbsp; &nbsp;</strong></p><p><strong style=\"white-space: normal; font-size: 24px;\">bzip<span style=\"color:#76923c\"> -d</span>（解压缩） XXX.bz2（压缩包）</strong></p>', '2018-07-02 12:45:45', '2018-07-02 13:55:36', null, null, '91', '1', '1', '/index/article/show/id/40.html');
INSERT INTO `blog_article` VALUES ('41', '9', 'laravel-第一篇-安装', '安装', '通过composer&nbsp;create&nbsp;objectcomposer&nbsp;create-project&nbsp;laravel/laravel&nbsp;--prefer-dist（如果没有安装composer,前去composer官网下载并安装，注意：请选择好对应的php.exe文件）在composer创建过程中可能很慢很慢，等的头皮发麻。解决方法如下(在composer 中国推荐的加速方法就是把默认的国外镜像换成国内的。)composer&nbsp;config&nb', '', '<ol class=\" list-paddingleft-2\" style=\"width: 934.797px; padding-left: 30px; white-space: normal;\"><li style=\"clear: both;\"><p>通过composer&nbsp;create&nbsp;object</p><p><br/></p><p><br/></p></li><li style=\"clear: both;\"><pre class=\" language-php\" style=\"margin-top: 10px; margin-bottom: 20px; padding: 10px; border-radius: 3px; background: rgba(238, 238, 238, 0.35); box-sizing: border-box; overflow: auto; font-family: &quot;Operator Mono&quot;, &quot;Fira Code&quot;, Consolas, Monaco, &quot;Andale Mono&quot;, monospace; font-size: 11px; text-shadow: rgb(255, 255, 255) 0px 1px; direction: ltr; word-break: normal; line-height: 2; tab-size: 4; hyphens: none; box-shadow: rgba(0, 0, 0, 0.125) 0px 1px 1px; vertical-align: middle;\">composer&nbsp;create-project&nbsp;laravel/laravel&nbsp;--prefer-dist（如果没有安装composer,前去composer官网下载并安装，注意：请选择好对应的php.exe文件）<br/></pre></li><li style=\"clear: both;\"><p>在composer创建过程中可能很慢很慢，等的头皮发麻。解决方法如下(<span style=\"color: rgb(85, 85, 85); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-size: 15px;\">在composer 中国推荐的加速方法就是把默认的国外镜像换成国内的。</span>)</p><p><br/></p><p><br/></p></li><li style=\"clear: both;\"><pre class=\"brush:bash;toolbar:false\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(248, 248, 248);\">composer&nbsp;config&nbsp;repo.packagist&nbsp;composer<br/></pre></li><li style=\"clear: both;\"><pre class=\"brush:bash;toolbar:false\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(248, 248, 248);\">然后在自己的项目&nbsp;composer.json中添加如下代码：<br/></pre></li><li style=\"clear: both;\"><pre class=\"brush:bash;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(248, 248, 248);\">&nbsp;&quot;repositories&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;packagist&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;composer&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;url&quot;:&nbsp;&quot;https://packagist.phpcomposer.com&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/></pre></li><li style=\"clear: both;\"><pre class=\"brush:bash;toolbar:false\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(248, 248, 248);\">&nbsp;&nbsp;}<br/></pre></li><li style=\"clear: both;\"><pre class=\"brush:bash;toolbar:false\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(248, 248, 248);\">创建项目完毕。不出意外的话/vendor已经很多插件了。下面看下laravel框架的目录结构：<br/></pre><p><img src=\"/Upload/image/ueditor/20180312/1520853495.png\" title=\"白俊遥博客\" alt=\"白俊遥博客\" _src=\"/Upload/image/ueditor/20180312/1520853495.png\"/></p></li><li style=\"clear: both;\"><p>运行框架&nbsp;&nbsp;<a href=\"http://localhost/%E6%A0%B9%E7%9B%AE%E5%BD%95%E5%90%8D%E7%A7%B0/public/\" _src=\"http://localhost/根目录名称/public/\">http://localhost/根目录名称/public/</a>&nbsp;，&nbsp;如果打开失败请检查下<strong>apache&nbsp;rewrite</strong></p><p><img src=\"/Upload/image/ueditor/20180312/1520853618.png\" title=\"白俊遥博客\" alt=\"白俊遥博客\" width=\"768\" height=\"333\" _src=\"/Upload/image/ueditor/20180312/1520853618.png\" style=\"width: 768px; height: 333px;\"/></p><p>这样laravel安装就Ok了。</p></li></ol><p><br/></p>', '2018-03-12 19:20:19', '2018-07-02 19:21:10', null, null, '97', '0', '0', '/index/article/show/id/41.html');
INSERT INTO `blog_article` VALUES ('42', '9', 'laravel-第二篇-路由简单说明', '第二,路由,简单,说明', '在第一篇我们安装了lavarel。运行了/public/index.php&nbsp;便出现了lavarel默认页面。这个页面是怎么来的呢？我们知道TP3.2.3&nbsp; /Admin/User/userList对应 C（application/admin/UserController/userList.php），对应V（application/admin/view/user/userList.html），因为ThinkPHP的路由解析方式是这样的。（当然当配置不一样可以目录也会变）；TP5', '', '<p style=\"white-space: normal;\">在第一篇我们安装了lavarel。运行了/public/index.php&nbsp;便出现了lavarel默认页面。<br/></p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">这个页面是怎么来的呢？我们知道TP3.2.3&nbsp; /Admin/User/userList对应 C（application/admin/UserController/userList.php），对应V（application/admin/view/user/userList.html），因为ThinkPHP的路由解析方式是这样的。（当然当配置不一样可以目录也会变）；</p><p style=\"white-space: normal;\">TP5对于TP3来讲规律没差，只是controller以及model不用像tp3一样写的很长,只需要写类名称就可以了。有兴趣可以看下tp框架下的自动加载类，应该是在\\thinkphp\\library\\think\\Loader.php.</p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">上面说了下tp的路由方式，现在看下laravel，/routes/web.php</p><p style=\"white-space: normal;\"><img src=\"/Upload/image/ueditor/20180312/1520854879.png\" title=\"白俊遥博客\" alt=\"白俊遥博客\" width=\"726\" height=\"352\" _src=\"/Upload/image/ueditor/20180312/1520854879.png\" style=\"width: 726px; height: 352px;\"/></p><p style=\"white-space: normal;\">这里需要说明下：在laravel下<strong>每个路由都要声明，</strong>可能会觉得很繁琐。不像tp那样c对应v就够了，这里是&nbsp;return&nbsp;view（‘welcome’）</p><p style=\"white-space: normal;\">先不看view函数具体是怎么工作的，从字眼上看就是返回页面，这里的view和TP5 view方法导致的结果一致.上面目录结构中有提及到laravel的资源目录（resource），也就是 V层。打开看看</p><p style=\"white-space: normal;\"><img src=\"/Upload/image/ueditor/20180312/1520855206.png\" title=\"白俊遥博客\" alt=\"白俊遥博客\" width=\"847\" height=\"307\" _src=\"/Upload/image/ueditor/20180312/1520855206.png\" style=\"width: 847px; height: 307px;\"/></p><p style=\"white-space: normal;\">welcome.blade.php就是我们看到的框架首页了。</p><p style=\"white-space: normal;\"><br/></p><p><br/></p>', '2018-03-12 19:21:11', '2018-07-02 19:22:14', null, null, '90', '0', '0', '/index/article/show/id/42.html');
INSERT INTO `blog_article` VALUES ('43', '9', 'laravel框架常用命令，以及mvc流程', '框架,以及,流程', '1.php arisan make:controller Admin/CaretoryController-- 新建一个控制层，当然是可以分层级的哟；在cmd在，cd到laravel根目录，目录下有artisan文件，这个文件是框架执行命令的入口；现在我们就创建好了M层；会在app/Http/Controller/Admin下生成category控制器2.有控制器了，我们开始写一个方法public function helloWorld(){&n', '', '<pre class=\"brush:bash;toolbar:false\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(248, 248, 248);\">1.php&nbsp;arisan&nbsp;make:controller&nbsp;Admin/CaretoryController<br/></pre><p style=\"white-space: normal;\">-- 新建一个控制层，当然是可以分层级的哟；</p><p style=\"white-space: normal;\">在cmd在，cd到laravel根目录，目录下有artisan文件，这个文件是框架执行命令的入口；</p><p style=\"white-space: normal;\">现在我们就创建好了M层；会在app/Http/Controller/Admin下生成category控制器<br/></p><p style=\"white-space: normal;\">2.有控制器了，我们开始写一个方法</p><pre class=\"brush:html;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(248, 248, 248);\">public&nbsp;function&nbsp;helloWorld(){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;view(&#39;/Admin/hello&#39;);<br/>}<br/></pre><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">view($param)函数之前有说过其作用，想了解的话可以自己看下源码</p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">3.这里我们控制器也有了，方法也写了，我们要怎么访问这个控制层下的方法呢？？？？</p><p style=\"white-space: normal;\">路由啊老铁，laravel每个路由都要自己定义的哟；</p><p style=\"white-space: normal;\">在/routes/web.php</p><pre style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">Route::prefix(&#39;admin&#39;)-&gt;namespace(&#39;Admin&#39;)-&gt;group(function(){<br/>&nbsp;&nbsp;&nbsp;&nbsp;Route::prefix(&#39;category&#39;)-&gt;group(function(){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Route::get(&#39;helloWorld&#39;,&#39;CategoryController@helloWorld&#39;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;});<br/>});<br/></pre><p style=\"white-space: normal;\">ok。现在我们可以说是初步了解了karavel的工作流程了</p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">4.接下来看下View层把</p><p style=\"white-space: normal;\">首先我们写个方法<br/></p><pre style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">public&nbsp;function&nbsp;showHtml()<br/>&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;view(&#39;Admin/cateList&#39;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/></pre><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">view($param);这个参数就是要显示的前端页面。怎么写这个页面？？放在哪？？</p><p style=\"white-space: normal;\">看框架自带的遐想一下就好了，“Admin/cateList”，我们就在/resource目录下新建Admin/cateList.blade.php，没错，laravel的view层也是php文件，又不会写了？copy自带的welcome，我也不知道为什么这样写，慢慢就晓得了</p><p style=\"white-space: normal;\"><img src=\"/Upload/image/ueditor/20180313/1520907568.png\" title=\"白俊遥博客\" alt=\"白俊遥博客\" width=\"909\" height=\"322\" _src=\"/Upload/image/ueditor/20180313/1520907568.png\" style=\"width: 909px; height: 322px;\"/></p><p style=\"white-space: normal;\">现在控制器有了，view有了，还缺路由，仿照刚才的路由，新增一条</p><p style=\"white-space: normal;\">大家又发现路由的诀窍了吗？prefix()函数，就是主域名后的第一个路由参数；</p><p style=\"white-space: normal;\">namespace()函数，就是对应的命名空间啦；</p><p style=\"white-space: normal;\">group（）函数，词义上看就是分组；</p><p style=\"white-space: normal;\">以后可能我们模块多个，控制器多层，而且控制器下方法也很多了；</p><p style=\"white-space: normal;\">所以分组就可以解决这些问题</p><pre style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">Route::prefix(&#39;admin&#39;)-&gt;namespace(&#39;Admin&#39;)-&gt;group(function(){<br/>&nbsp;&nbsp;&nbsp;&nbsp;Route::prefix(&#39;category&#39;)-&gt;group(function(){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Route::get(&#39;helloWorld&#39;,&#39;CategoryController@helloWorld&#39;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Route::get(&#39;showHtml&#39;,&#39;CategoryController@showHtml&#39;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;});<br/>});<br/></pre><p style=\"white-space: normal;\">好了；现在访问下自己定义的路由把<br/></p><p style=\"white-space: normal;\"><a href=\"http://localhost/laravel-master/public/admin/category/showHtml\" _src=\"http://localhost/laravel-master/public/admin/category/showHtml\">http://localhost/laravel-master/public/admin/category/showHtml</a></p><p style=\"white-space: normal;\"><img src=\"/Upload/image/ueditor/20180313/1520908016.png\" title=\"白俊遥博客\" alt=\"白俊遥博客\" width=\"771\" height=\"434\" _src=\"/Upload/image/ueditor/20180313/1520908016.png\" style=\"width: 771px; height: 434px;\"/></p><p style=\"white-space: normal;\">这里view层我们也大概看了下；</p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">5.model层这里暂时不讲，待续。。。</p><p><br/></p>', '2018-03-14 19:22:15', '2018-07-02 19:23:23', null, null, '74', '0', '0', '/index/article/show/id/43.html');
INSERT INTO `blog_article` VALUES ('44', '9', 'laravel-路由参数以及请求参数', '路由', '本篇说下请求参数与路由参数在Admin/CategoryController中新建一个方法；public&nbsp;function&nbsp;getTest(Request&nbsp;$request,$id){&nbsp;&nbsp;&nbsp;&nbsp;try{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(is_numeric($id)){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp', '', '<p style=\"white-space: normal;\">本篇说下请求参数与路由参数</p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">在Admin/CategoryController中新建一个方法；</p><p style=\"white-space: normal;\"><br/></p><pre class=\"brush:php;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">public&nbsp;function&nbsp;getTest(Request&nbsp;$request,$id)<br/>{<br/>&nbsp;&nbsp;&nbsp;&nbsp;try{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(is_numeric($id)){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($id);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;\\Exception(&#39;ID必须是数字&#39;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;}catch(\\Exception&nbsp;$e){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($e-&gt;getMessage());<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>}<br/></pre><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">当然还是要新建路由啊&nbsp; &nbsp;&nbsp;</p><pre class=\"brush:php;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">get(&#39;getTest/{id}&#39;,&#39;CategoryController@getTest&#39;);&nbsp;&nbsp;{id}就是第一个路由参数了<br/></pre><pre class=\"brush:php;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">Route()()((){<br/>&nbsp;&nbsp;&nbsp;&nbsp;Route()((){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Route()Route()Route()-&gt;where(&#39;id&#39;,&#39;[0-9]+&#39;);})})<br/></pre><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">在我们开发项目时候，ID几乎都是数据中的primary key ，int型，可以统一限制下路由中的id参数，在app/Providers/RouteServiceProvider.php中boot方法中写，这样就不用一一限制id的类型了</p><p style=\"white-space: normal;\"><br/></p><pre class=\"brush:php;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">Route::pattern(&#39;id&#39;,&#39;[0-9]+&#39;);<br/></pre><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\"><img src=\"/Upload/image/ueditor/20180313/1520909853.png\" title=\"白俊遥博客\" alt=\"白俊遥博客\" _src=\"/Upload/image/ueditor/20180313/1520909853.png\"/></p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">这里会有一个keng，在laravel中，路由参数识别只有靠顺序，请不要根据名称来获取。。。</p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">路由参数暂时说到这里；</p><p style=\"white-space: normal;\">下面看下请求参数；</p><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\"><a href=\"http://localhost/laravel-master/public/admin/category/getTest/111?rqnAME=%E7%8E%8B%E7%BA%A2%E4%BA%AE&rqAge=25\" _src=\"http://localhost/laravel-master/public/admin/category/getTest/111?rqnAME=王红亮&rqAge=25\">http://localhost/laravel-master/public/admin/category/getTest/111?rqnAME=王红亮&amp;rqAge=25</a></p><p style=\"white-space: normal;\"><br/></p><pre class=\"brush:php;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">public&nbsp;function&nbsp;getTest(Request&nbsp;$request,$id)<br/>{<br/>&nbsp;&nbsp;&nbsp;&nbsp;try{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;路由参数&nbsp;id<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($id);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取请求参数所有数据<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($request-&gt;all());<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取单个&nbsp;&nbsp;和TP中的input()一样<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($request-&gt;input(&quot;rqnAME&quot;));<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;下面就是好玩的了&nbsp;可以过去请求数据<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;只接受某些参数<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($request-&gt;only(&quot;rqAge&quot;));<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;过滤掉某些参数<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($request-&gt;except(array(&#39;rqnAME&#39;,&#39;rqAge&#39;)));<br/>&nbsp;&nbsp;&nbsp;&nbsp;}catch(\\Exception&nbsp;$e){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump($e-&gt;getMessage());<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>}<br/></pre><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">注意：上面的only,except函数，参数不是数组的时候只会获取/pass请求的某个参数；</p><p style=\"white-space: normal;\">当是array时候，则会获取/pass这个array；</p><p style=\"white-space: normal;\">我贴下源码，看到 is_array了把。。。</p><p style=\"white-space: normal;\"><br/></p><pre class=\"brush:php;toolbar:false;\" style=\"margin-top: 0.5em; margin-bottom: 0.5em; padding: 0.4em 0.6em; border-radius: 8px; background: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: 宋体; font-size: 15pt;\">public&nbsp;function&nbsp;except($keys)<br/>{<br/>&nbsp;&nbsp;&nbsp;&nbsp;$keys&nbsp;=&nbsp;is_array($keys)&nbsp;?&nbsp;$keys&nbsp;:&nbsp;func_get_args();<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;$results&nbsp;=&nbsp;$this-&gt;all();<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;Arr::forget($results,&nbsp;$keys);<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$results;<br/>}<br/></pre><p style=\"white-space: normal;\"><br/></p><p style=\"white-space: normal;\">路由参数与请求参数就说到这里了，想了解具体怎么实现的看下源码把</p><p><br/></p>', '2018-03-15 19:23:30', '2018-07-02 19:23:52', null, null, '69', '0', '0', '/index/article/show/id/44.html');
INSERT INTO `blog_article` VALUES ('45', '21', 'Linux - 文件系统', 'Linux - 文件系统', '1：linux采用 文件系统+虚拟文件系统（Virtual File System，VFS）2：文件系统就是在磁盘上组织文件的方法3：Linux文件系统通用结构： superblock（超级块），inode（i节点），data block（数据块），directory block（目录块）4：superblock为文件系统核心5：Linux ext3文件系统6：磁盘分区     6.1：磁盘使用前对其分割，这种动作被形象的称为分区；    &nb', '', '<p>1：linux采用 文件系统+虚拟文件系统（Virtual File System，VFS）</p><p>2：文件系统就是在磁盘上组织文件的方法</p><p>3：Linux文件系统通用结构： superblock（超级块），inode（i节点），data block（数据块），directory block（目录块）</p><p>4：superblock为文件系统核心</p><p>5：Linux<strong> <span style=\"color:#76923c\">ext3文件系统</span></strong></p><p>6：磁盘分区</p><p>&nbsp; &nbsp; &nbsp;6.1：<span style=\"color:#76923c\">磁盘使用前对其分割，这种动作被形象的称为分区</span>；</p><p>&nbsp; &nbsp; &nbsp;6.2：<span style=\"color:#76923c\">主分区和扩展分区</span>（磁盘分区表大小（<span style=\"color:#76923c\">MBR大小为512字节，其中分表占64字节，每个分区信息使用16字节，所以每块磁盘最多只能创建4个分区</span>，为了支持更多分区，可以使用扩展分区（扩展分区可以划分更多逻辑分区），））</p><p>&nbsp; &nbsp; &nbsp;6.3：创建文件系统 fdisk（vmware中创建一块次磁盘即可），分区，挂载，启用自动挂载</p><p>&nbsp; &nbsp; &nbsp; &nbsp; fdisk -l&nbsp; &nbsp;查看磁盘</p><p>&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">fdisk /dev/sdb&nbsp; &nbsp; 为/dev/sdb分区</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;代表new 新建分区</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;p代表主分区&nbsp;&nbsp;</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;第一个主分区</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;第一个柱面开始</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; 130&nbsp; &nbsp; &nbsp;表示将所有空间划分给此分区</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; w&nbsp; &nbsp; &nbsp; &nbsp; 将上述创建的分区写入分区表</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; 分区完毕</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; fdisk&nbsp; &nbsp;-l&nbsp; &nbsp; 查看</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 在/dev/sdb下会显示 /dev/sdb1</p><p>&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">下面在刚刚创建的分区中格式化文件系统&nbsp; 使用ext3文件系统</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; mkfs -t ext3 /dev/sdb1&nbsp; &nbsp; ===&nbsp; mkfs.ext3 /dev/sdb1</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 格式化文件系统之后，还需要挂载后才能使用（mount DEVICE&nbsp; MOUNT_OPTION）</p><p>&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">mkdir newDisk&nbsp; &nbsp; 在 /root&nbsp; 目录下创建newDisk目录</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; mount&nbsp; /dev/sdb1 newDisk&nbsp; &nbsp; &nbsp;将设备/dev/sdb1 挂载到 /root/newDisk文件</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; mount&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;没有参数的mount会显示所有挂载</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; df -h | grep sdb1&nbsp; &nbsp; 查看可用空间</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; 上述的挂载，当重启系统后就会失效，解决方法</p><p>&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">echo &quot;/dev/sdb1 /root/newDisk ext3&nbsp; &nbsp; &nbsp; &nbsp;defaults&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &gt;&gt; /etc/fstab</span></p><p><span style=\"color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 设备&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 挂载到文件&nbsp; &nbsp; &nbsp; &nbsp;文件类型&nbsp; 默认挂载参数&nbsp; &nbsp;dump是否将这个分区存档&nbsp; &nbsp;不检查设备&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;挂载配置文件</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p>7：磁盘检查&nbsp; fsck&nbsp; &nbsp; badblocks</p><p>&nbsp; &nbsp; &nbsp;7.1：fsck -t&nbsp; &nbsp;TYPE&nbsp; /DEVICE/PATH</p><p>&nbsp; &nbsp; &nbsp;7.2：fsck 检查需要磁盘为为挂载状态，对已经挂载的需要umount（解除挂载）</p><p>&nbsp; &nbsp; &nbsp;</p><p>8：Linux 逻辑卷</p><p>&nbsp; &nbsp; &nbsp;8.1：逻辑卷是使用<span style=\"color:#76923c\">逻辑卷组管理（Logic Volumn Manager）</span>创建出来的设备。LVM是介于硬盘裸设备和文件系统的中间层。</p><p>&nbsp; &nbsp; &nbsp;8.2：<span style=\"color:#76923c\">物理卷（Phycical Volumn，PV），也就是为物理磁盘分区，exp：/dev/sdb1</span>，如果想用LVM来管理这个物理卷，可使用fdisk工具将其ID设为LVM可以识别的值（8e）</p><p>&nbsp; &nbsp; &nbsp;8.3：<span style=\"color:#76923c\">卷组（Volumn Group，VG），也就是PV的集合</span></p><p>&nbsp; &nbsp; &nbsp;8.4：<span style=\"color:#76923c\">逻辑卷（Logic Volumn，LV），也就是PV中划出来的一块逻辑磁盘</span></p><p>&nbsp; &nbsp; &nbsp;8.5：所以，首先创建一个物理卷，物理卷聚集形成物理卷组，而逻辑卷就是从某个物理卷组抽象出来的一块磁盘空间</p><p>9：制作逻辑卷</p><p>&nbsp; &nbsp; &nbsp;9.1：创建物理卷：pvcreate、pvdisplay</p><p>&nbsp; &nbsp; &nbsp;9.2：继续在虚拟机上创建一个磁盘1GB，添加后 fdisk&nbsp; -l&nbsp; &nbsp;会出现 /dev/sdc</p><p>&nbsp; &nbsp; &nbsp;9.3：将/dev/sdc分成3个区&nbsp; &nbsp;/dev/sdc1（300MB）&nbsp; /dev/sdc2(300MB)&nbsp; &nbsp;/dev/sdc3（剩余所有）</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sdc1：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fdisk /dev/sdc</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;n</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;p</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\">+300MB</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;w</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sdc2：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fdisk /dev/sdc</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; n</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 38</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\"> +300MB</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; w</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sdc3：</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fdisk&nbsp; /dev/sdc</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;n</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;p</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;75</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\">130</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;w</p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.4：<span style=\"color:#76923c\">fdisk -l 查看刚才创建的分区,观察ID列均不为8e，需要修改为8e</span></span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.5：<span style=\"color:#76923c\">fdisk /dev/sdc</span></span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;t&nbsp; 修改分区代码</span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 第一个分区&nbsp; &nbsp; // 2 3 分区都一样</span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;L 如果忘记代码，L查看</span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8e</span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;w&nbsp; 将修改写入分区表</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.6：<span style=\"color:#76923c\">再次fdisk -l 查看ID列是否为8e</span></span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.7：上面创建了可用于创建PV的分区（8e），现在就可以创建pv</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\">pvcreate&nbsp; /dev/sdc1&nbsp;&nbsp;</span></span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pvcreate&nbsp; /dev/sdc2</span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pvdisplay</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.8：创建并查询卷组&nbsp; vgcreate&nbsp; &nbsp;vgdisplay</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\">vgcreate First_VG&nbsp; /dev/sdc1 /dev/sdc2</span></span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vgdisplay</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.9：扩展卷组</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\">pvcreate&nbsp; /dev/sdc3</span></span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vgextend&nbsp; <span style=\"white-space: normal;\">First_VG&nbsp; &nbsp;&nbsp;</span>/dev/sdc3</span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vgdisplay</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.10：创建逻辑卷，上面已经创建了逻辑卷组</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lvcreate -L&nbsp; SIZE&nbsp; -n&nbsp; LV_NAME VG_NAME</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color:#76923c\">&nbsp;lvcreate -L&nbsp; 100MB&nbsp; -n&nbsp; First_LV First_VG</span></span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lvdisplay</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp;9.11：逻辑卷创建完毕，当然也要加磁盘，创建文件系统，挂载后才能被系统使用</span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\">mkfs.ext3 /dev/First_VG/First_LV&nbsp; &nbsp;//创建文件系统</span></span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mkdir&nbsp; &nbsp;/root/newLV</span></p><p><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mount&nbsp; <span style=\"white-space: normal;\">/dev/First_VG/First_LV&nbsp; /root/<span style=\"white-space: normal;\">newLV</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">10：硬链接和软连接</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;不描述了。。。</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;cd /root</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;mkdir&nbsp; hard</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;cd&nbsp; hard</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;touch hard01</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;ls -li</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color:#76923c\">ln&nbsp; hard01&nbsp; hard01_hlink&nbsp; （ln -s hard01 hard01_slink，软连接的inode不同，并且第三列相同）</span></span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp;ls -li</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp; &nbsp; &nbsp;观察第一列inode是否相同（硬链接inode是相同的），观察前后两个ls 的第三列是否有变化</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;color:#76923c\"><br/></span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;color:#76923c\"><br/></span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;color:#76923c\">&nbsp; &nbsp;History&nbsp;记录</span></span></span></p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;color:#76923c\"></span></span></span></p><p>&nbsp; 361&nbsp; ifconfig&nbsp; &nbsp; //&nbsp;网卡信息</p><p>&nbsp; 362&nbsp; ls</p><p>&nbsp; 363&nbsp; vin /etc/inittab</p><p>&nbsp; 364&nbsp; vim /etc/inittab</p><p>&nbsp; 365&nbsp; shutdown -h now</p><p>&nbsp; 366&nbsp; vim /etc/inittab</p><p>&nbsp; 367&nbsp; systemctl get-default&nbsp; &nbsp;//获取默认启动方式</p><p>&nbsp; 368&nbsp; systemctl set-default multi-user.target&nbsp; //设置为命令行启动</p><p>&nbsp; 369&nbsp; shutdown -h now&nbsp; //&nbsp;现在立刻重启</p><p>&nbsp; 370&nbsp; fdisk&nbsp;&nbsp;</p><p>&nbsp; 371&nbsp; fdisk -l&nbsp; //查看磁盘</p><p>&nbsp; 373&nbsp; shutdown -h now</p><p>&nbsp; 374&nbsp; fdisk -l</p><p>&nbsp; 375&nbsp; fdisk /dev/sdb&nbsp; //为sdb分区&nbsp; n&nbsp; p&nbsp; 1&nbsp; 1&nbsp; 130&nbsp;w</p><p>&nbsp; 376&nbsp; fdisk -l</p><p>&nbsp; 377&nbsp; mdfs.ext3 /dev/sdb1</p><p>&nbsp; 378&nbsp; mkfs.ext3 /dev/sdb1&nbsp; //在/dev/sdb1中创建ext3文件系统</p><p>&nbsp; 379&nbsp; cd /root</p><p>&nbsp; 380&nbsp; mkdir newDisk</p><p>&nbsp; 381&nbsp; mount /dev/sdb1 /root/newDisk&nbsp; //&nbsp;将sdb1设备挂载到&nbsp;newDIsk</p><p>&nbsp; 382&nbsp; mount&nbsp; //看看所有挂载</p><p>&nbsp; 388&nbsp; vim /etc/fstab</p><p>&nbsp; 389&nbsp; echo &quot;/dev/sdb1 /root/newDisk ext3 defaults 0 0&quot; &gt;&gt; /etc/fstab&nbsp; //开启自动挂载</p><p>&nbsp; 390&nbsp; vim /etc/fstab</p><p>&nbsp; 391&nbsp; fdisk -l</p><p>&nbsp; 392&nbsp; fdisk /dev/sdc //&nbsp;修改为8e， t&nbsp; 1 8e</p><p>&nbsp; 393&nbsp; fdisk -l</p><p>&nbsp; 394&nbsp; fdisk /dev/sdc&nbsp;<span style=\"white-space: normal;\">&nbsp;//&nbsp;修改为8e， t&nbsp; 2 8e</span></p><p>&nbsp; 395&nbsp; fdisk -l</p><p>&nbsp; 396&nbsp; fdisk /dev/sdc&nbsp;<span style=\"white-space: normal;\">&nbsp;//&nbsp;修改为8e， t&nbsp; 3 8e</span></p><p>&nbsp; 397&nbsp; fdisk -l</p><p>&nbsp; 398&nbsp; pvcreate /dev/sdc1&nbsp; //创建PV</p><p>&nbsp; 399&nbsp; pvcreate /dev/sdc2&nbsp;<span style=\"white-space: normal;\">//创建PV</span></p><p>&nbsp; 400&nbsp; pvdisplay&nbsp;</p><p>&nbsp; 401&nbsp; vgcreate First_VG /dev/sdc1 /dev/sdc2&nbsp;&nbsp;<span style=\"white-space: normal;\">//创建VG</span></p><p>&nbsp; 402&nbsp; vgdisplay</p><p>&nbsp; 403&nbsp; pvcreate /dev/sdc3&nbsp; //创建PV</p><p>&nbsp; 404&nbsp; vgextend First_VG /dev/sdc3 //VG扩容</p><p>&nbsp; 405&nbsp; vgdisplay</p><p>&nbsp; 406&nbsp; lvcreate -L 100MB -n First_LV First_VG //创建LV</p><p>&nbsp; 407&nbsp; lvdisplay</p><p>&nbsp; 408&nbsp; mkfs.ext3 /dev/First_VG/First_LV //为PATH生产文件系统</p><p>&nbsp; 409&nbsp; mkdir /root/NewLv</p><p>&nbsp; 410&nbsp; mount /dev/First_VG/First_LV /root/NewLv/&nbsp; //挂载</p><p>&nbsp; 411&nbsp; fdisk -l</p><p>&nbsp; 412&nbsp; mount</p><p>&nbsp; 413&nbsp; cd /root</p><p>&nbsp; 414&nbsp; mkdir hard</p><p>&nbsp; 415&nbsp; cd hard/</p><p>&nbsp; 416&nbsp; touch hard01</p><p>&nbsp; 417&nbsp; ls -li</p><p>&nbsp; 418&nbsp; ln hard01 hard01_hlink&nbsp; &nbsp;//硬连接</p><p>&nbsp; 419&nbsp; ls -li</p><p>&nbsp; 420&nbsp; cd /root</p><p>&nbsp; 421&nbsp; mkdir soft</p><p>&nbsp; 422&nbsp; cd soft/</p><p>&nbsp; 423&nbsp; touch soft01</p><p>&nbsp; 424&nbsp; ln -s soft01 soft01_slink&nbsp; //软连接</p><p>&nbsp; 425&nbsp; ls -li</p><p>&nbsp; 426&nbsp; history&nbsp;</p><p><span style=\"white-space: normal;\"><span style=\"white-space: normal;\"><span style=\"white-space: normal;color:#76923c\"><br/></span></span></span><br/></p>', '2018-07-02 21:06:28', '2018-07-03 11:12:34', null, null, '58', '0', '1', '/index/article/show/id/45.html');
INSERT INTO `blog_article` VALUES ('46', '9', 'PHP socket 编程-函数整理', 'socket,编程', '1.&nbsp;socket_create&nbsp;(&nbsp;int&nbsp;$domain&nbsp;,&nbsp;int&nbsp;$type&nbsp;,&nbsp;int&nbsp;$protocol&nbsp;)此函数用于创建一个socket，它有三个参数，返回值是一个句柄（资源）。$domain 指定创建socket时使用的通信协议族，其可选的值为：AF_INET： 基于IPv4的Internet协议AF_INET6：基于IPv6的Internet协议AF_UNIX：UNIX', '', '<div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all; background-color: inherit;\">1.&nbsp;<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">socket_create</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>(<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$domain</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$type</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$protocol</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>)</span></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">此函数用于创建一个socket，它有三个参数，返回值是一个句柄（资源）。</span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$domain 指定创建socket时使用的通信协议族，其可选的值为：</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><ul style=\"box-sizing: border-box; outline: 0px; margin-bottom: 24px; list-style: none; word-break: break-all; background-color: inherit;\"><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">AF_INET： 基于IPv4的Internet协议</span></li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">AF_INET6：</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">基于IPv6的Internet协议</span></li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">AF_UNIX：UNIX本地通信协议</span></li></ul></div></div></div></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$type 指定socket通信的交互类型，其可选的值为：</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><ul style=\"box-sizing: border-box; outline: 0px; margin-bottom: 24px; list-style: none; word-break: break-all; background-color: inherit;\"><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">SOCK_STREAM：提供序列化的、可靠的、全双工的、基于连接的字节流传输，支持TCP</span></li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">SOCK_DGRAM：提供数据报式的、无连接的、固定最大长度的、自动寻址功能的传输，支持UDP</span></li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">SOCK_SEQPACKET：提供序列化的、可靠的、双通道的、基于连接的数据报传输</span></li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">SOCK_RAW：提供原始的网络访问协议，可手工构建特殊协议类型的套接字，支持ICMP请求（如 ping）</span></li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit; line-height: 1.5;\">SOCK_RDM：提供可靠的数据报传输，无法保证顺序</span></li></ul></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$protocol 指定socket使用哪种具体的传输协议，包括ICMP、UDP、TCP，常量SOL_UDP对应UDP，常量SOL_TCP对应常量TCP。</span></div><p><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all; background-color: inherit;\"><span style=\"font-size:12px\">2.&nbsp;<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">socket_set_option</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>(<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">resource$socket</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int$level</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int$optname</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">mixed$optval</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;font-size:12px\">&nbsp;</span>)</span></span></p><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">该函数用于设置socket的控制选项，有四个参数，返回布尔值。<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$socket 是必选参数，代表一个有效的socket句柄。</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$level 是必选参数，指定option起作用的协议级别，一般取常量 SOL_SOCKET。</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$optname 是必选参数，指定要控制的选项名称。</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$optval 是必选参数，指定选项的值。</span></div></div></div><p><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">3.&nbsp;</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">socket_bind</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>(<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">resource<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$socket</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">string<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$address</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>[,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$port</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>= 0</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>] )</span></span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"></span></p><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">此函数用于将IP地址和端口绑定到socket_create创建的句柄中，有三个参数，返回布尔值。</span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$socket 是必选参数，代表socket_create函数创建的句柄</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$address 是必选参数，代表要绑定的IP地址</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$port 是可选参数，代表要绑定的端口号，指定哪个端口用来监听socket连接，当socket_create函数的第一个参数为AF_INET时，需要指定这个参数。</span></div><p><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">4.&nbsp;</span></span></span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">socket_listen</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>(<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">resource<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$socket</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>[,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$backlog</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>= 0</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>] )</span></span><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"></span></p><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">该函数用于监听即将接入的socket连接，仅当socket的交互类型为<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">SOCK_STREAM或<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">SOCK_SEQPACKET时可</span></span></span></span></span></div><p><span style=\"color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\">用，它有两个参数，返回布尔值。</span></p><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 微软雅黑; color: rgb(0, 0, 0);\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$socket</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 微软雅黑; color: rgb(0, 0, 0);\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">&nbsp;&nbsp;<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">是必选参数，代表socket_create函数创建的句柄（且已绑定了主机）</span></span></span></div><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 微软雅黑; color: rgb(0, 0, 0);\">$backlog 是可选参数，表示队列中等候处理的（允许积压的）最大连接数。</span></p><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0);\"><span style=\"font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; color: rgb(79, 79, 79); text-align: justify; white-space: normal;\"><strong>5、<span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: 14px; text-align: justify; white-space: normal;\">socket_accept&nbsp;</span></strong></span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"/><span style=\"font-family:arial, helvetica, sans-serif\"><span style=\"color: rgb(79, 79, 79); text-align: justify; white-space: normal;\"></span><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\">作用：接受一个Socket连接</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"/><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\">用法：socket_accept ( resource socket )</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"/><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\">参数：socket,socket resource</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"/><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\">返回：Returns a new socket resource on success, or FALSE on error.</span><span style=\"color: rgb(79, 79, 79); text-align: justify; white-space: normal;\"></span></span></span></p><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0);font-family:arial, helvetica, sans-serif\"><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"><strong style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: 14px; text-align: justify; white-space: normal;\">6、dechex</strong></span></span></p><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0);font-family:arial, helvetica, sans-serif\"><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"></span></span></p><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; word-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\">dechex() 函数把十进制数转换为十六进制数。</p><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; word-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\"><strong style=\"border: 0px; margin: 0px; padding: 0px;\">提示：</strong>如需把十六进制转换为十进制，请查看&nbsp;<a href=\"http://www.runoob.com/php/func-math-hexdec.html\" style=\"border: 0px; margin: 0px; padding: 0px; color: rgb(100, 133, 76); text-decoration-line: underline; transition-duration: 0.2s; transition-property: opacity;\">hexdec()</a>&nbsp;函数。</p><p style=\"border: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 2em; word-wrap: break-word; word-break: break-all; font-size: 13px; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; color: rgb(51, 51, 51); white-space: normal;\"><strong style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: 14px; text-align: justify; white-space: normal;\">7、ord</strong></p><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0);font-family:arial, helvetica, sans-serif\"><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"><span style=\"font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; font-size: 14px; white-space: normal; background-color: rgb(253, 252, 248);\">ord() 函数返回字符串的首个字符的 ASCII 值。</span></span></span><br/></p><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0);font-family:arial, helvetica, sans-serif\"><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"><span style=\"font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; font-size: 14px; white-space: normal; background-color: rgb(253, 252, 248);\"><strong style=\"white-space: normal; color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: 14px; text-align: justify;\">8、pack</strong></span></span></span></p><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0);font-family:arial, helvetica, sans-serif\"><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"><span style=\"font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; font-size: 14px; white-space: normal; background-color: rgb(253, 252, 248);\"></span></span></span></p><p style=\"margin-top: 12px; margin-bottom: 0px; border: 0px; line-height: 21px; font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; font-size: 14px; white-space: normal; background-color: rgb(253, 252, 248);\">pack() 函数把数据装入一个二进制字符串。</p><h3 style=\"margin-top: 25px; border: 0px; font-weight: bold; font-size: 16px; font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; white-space: normal; background-color: rgb(253, 252, 248);\">语法</h3><pre style=\"margin-top: 15px; padding: 20px; border: 1px dotted rgb(119, 136, 85); font-family: Consolas; width: 765px; background: rgb(245, 245, 245); line-height: 1.4; font-size: 14px;\">pack(format,args+)</pre><table class=\"dataintable\" style=\"margin-top: 15px; margin-bottom: 0px; padding: 0px; border: 1px solid rgb(170, 170, 170); width: 809px; font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; font-size: 14px; white-space: normal; background-color: rgb(253, 252, 248);\"><tbody style=\"margin: 0px; padding: 0px; border: 0px;\"><tr style=\"margin: 0px; padding: 0px; border: 0px; background-color: rgb(245, 245, 245);\"><th style=\"padding: 5px 15px 5px 6px; border: 1px solid rgb(63, 63, 63); vertical-align: baseline; background-color: rgb(63, 63, 63); text-align: left; color: rgb(255, 255, 255);\">参数</th><th style=\"padding: 5px 15px 5px 6px; border: 1px solid rgb(63, 63, 63); vertical-align: baseline; background-color: rgb(63, 63, 63); text-align: left; color: rgb(255, 255, 255);\">描述</th></tr><tr style=\"margin: 0px; padding: 0px; border: 0px; background-color: rgb(255, 255, 255);\"><td style=\"padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top;\">format</td><td style=\"padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top;\">必需。规定在包装数据时所使用的格式。</td></tr><tr style=\"margin: 0px; padding: 0px; border: 0px; background-color: rgb(245, 245, 245);\"><td style=\"padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top;\">args+</td><td style=\"padding: 6px 15px 6px 6px; border-color: rgb(170, 170, 170); vertical-align: text-top;\">可选。规定被包装的一个或多个参数。</td></tr></tbody></table><h3 style=\"margin-top: 25px; border: 0px; font-weight: bold; font-size: 16px; font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; white-space: normal; background-color: rgb(253, 252, 248);\">format 参数的可能值：</h3><ul style=\"margin-top: 10px; margin-left: 35px; border: 0px; font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; font-size: 14px; white-space: normal; background-color: rgb(253, 252, 248);\"><li style=\"margin-top: 3px; border: 0px;\">a - NUL-padded string</li><li style=\"margin-top: 3px; border: 0px;\">A - SPACE-padded string</li><li style=\"margin-top: 3px; border: 0px;\">h - Hex string, low nibble first</li><li style=\"margin-top: 3px; border: 0px;\">H - Hex string, high nibble first</li><li style=\"margin-top: 3px; border: 0px;\">c - signed char</li><li style=\"margin-top: 3px; border: 0px;\">C - unsigned char</li><li style=\"margin-top: 3px; border: 0px;\">s - signed short (always 16 bit, machine byte order)</li><li style=\"margin-top: 3px; border: 0px;\">S - unsigned short (always 16 bit, machine byte order)</li><li style=\"margin-top: 3px; border: 0px;\">n - unsigned short (always 16 bit, big endian byte order)</li><li style=\"margin-top: 3px; border: 0px;\">v - unsigned short (always 16 bit, little endian byte order)</li><li style=\"margin-top: 3px; border: 0px;\">i - signed integer (machine dependent size and byte order)</li><li style=\"margin-top: 3px; border: 0px;\">I - unsigned integer (machine dependent size and byte order)</li><li style=\"margin-top: 3px; border: 0px;\">l - signed long (always 32 bit, machine byte order)</li><li style=\"margin-top: 3px; border: 0px;\">L - unsigned long (always 32 bit, machine byte order)</li><li style=\"margin-top: 3px; border: 0px;\">N - unsigned long (always 32 bit, big endian byte order)</li><li style=\"margin-top: 3px; border: 0px;\">V - unsigned long (always 32 bit, little endian byte order)</li><li style=\"margin-top: 3px; border: 0px;\">f - float (machine dependent size and representation)</li><li style=\"margin-top: 3px; border: 0px;\">d - double (machine dependent size and representation)</li><li style=\"margin-top: 3px; border: 0px;\">x - NUL byte</li><li style=\"margin-top: 3px; border: 0px;\">X - Back up one byte</li><li style=\"margin-top: 3px; border: 0px;\">@ - NUL-fill to absolute position</li></ul><p style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0);font-family:arial, helvetica, sans-serif\"><span style=\"color: rgb(79, 79, 79); font-family: &quot;Hiragino Sans GB W3&quot;, &quot;Hiragino Sans GB&quot;, Arial, Helvetica, simsun, u5b8bu4f53; text-align: justify; white-space: normal;\"><span style=\"font-family: PingFangSC-Regular, Verdana, Arial, 微软雅黑, 宋体; font-size: 14px; white-space: normal; background-color: rgb(253, 252, 248);\"><br/></span></span></span></p><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">9.&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">socket_write</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>(<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">resource<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$socket</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">string<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$buffer</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>[,<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">int<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\">$length</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>= 0</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">&nbsp;</span>] )</span></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\">该函数用于向socket中写入指定大小的缓冲数据，有三个参数，返回写入的数据的字节数。</div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Monaco, Consolas, Courier, &quot;Lucida Console&quot;, monospace; color: rgb(0, 0, 0);\"></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 微软雅黑; color: rgb(0, 0, 0);\">$socket 是必选参数，代表一个有效的socket句柄。</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 微软雅黑; color: rgb(0, 0, 0);\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$buffer 是必选参数，指定要写入的字符串数据。</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; background-color: inherit;\"/></span></div><div style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal; background-color: inherit;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 0); font-family: 微软雅黑;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$length 是可选参数，指定轮流写入socket中的数据的字节数，如果它的值大于<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$buffer的字节数，它会静默地截取至<span style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$buffer的字节数长度。</span></span></span></span></span></div><p><br/></p>', '2018-07-02 23:06:12', '2018-07-02 23:04:55', null, null, '60', '1', '1', '/index/article/show/id/46.html');
INSERT INTO `blog_article` VALUES ('47', '9', 'PHP socket 编程-代码实现', '编程,代码,实现', 'PHP代码<?php/** * Created by PhpStorm. * User: Administrator * Date: 2018/7/2 0002 * Time: 22:03 */error_reporting(E_ALL ^ E_NOTICE);ob_implicit_flush();//地址与接口，即创建socket时需要服务器的IP和端口$sk=new Sock(\'127.0.0.1\',5121);//对创建的socket循环进行监听，处理数据$sk-&', '', '<p><strong><span style=\"font-size:24px\">PHP代码</span></strong></p><p><strong><span style=\"font-size:24px\"></span></strong></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:12.0pt;\"><span style=\"color:#dc322f;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:12.0pt;\"><span style=\"color:#dc322f;\">&lt;?php<br/></span><span style=\"color:#93a1a1;font-style:italic;\">/**<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Created by PhpStorm.<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * User: Administrator<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Date: 2018/7/2 0002<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> * Time: 22:03<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> */<br/></span><span style=\"color:#969483;font-style:italic;\">error_reporting</span>(<span style=\"color:#d33682;\">E_ALL </span><span style=\"color:#079a71;\">^ </span><span style=\"color:#d33682;\">E_NOTICE</span>);<br/><span style=\"color:#969483;font-style:italic;\">ob_implicit_flush</span>();<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">地址与接口，即创建</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">时需要服务器的</span><span style=\"color:#93a1a1;font-style:italic;\">IP</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">和端口<br/></span><span style=\"color:#268bd2;\">$sk</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">new </span><span style=\"color:#839496;\">Sock</span>(<span style=\"color:#2aa198;\">&#39;127.0.0.1&#39;</span>,<span style=\"color:#2aa198;\">5121</span>);<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对创建的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">循环进行监听，处理数据<br/></span><span style=\"color:#268bd2;\">$sk</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">run</span>();<br/><br/><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">下面是</span><span style=\"color:#93a1a1;font-style:italic;\">sock</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">类<br/></span><span style=\"color:#859900;\">class </span><span style=\"color:#b58900;\">Sock</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">public </span><span style=\"color:#6c71c4;\">$sockets</span>; <span style=\"color:#93a1a1;font-style:italic;\">//socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的连接池，即</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">连接进来的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">标志<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">public </span><span style=\"color:#6c71c4;\">$users</span>;   <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">所有</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">连接进来的信息，包括</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">、</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">名字等<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">public </span><span style=\"color:#6c71c4;\">$master</span>;  <span style=\"color:#93a1a1;font-style:italic;\">//socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的</span><span style=\"color:#93a1a1;font-style:italic;\">resource</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，即前期初始化</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">时返回的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">资源<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">private </span><span style=\"color:#6c71c4;\">$sda</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>();   <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">已接收的数据<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">private </span><span style=\"color:#6c71c4;\">$slen</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>();  <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据总长度<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">private </span><span style=\"color:#6c71c4;\">$sjen</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>();  <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">接收数据的长度<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">private </span><span style=\"color:#6c71c4;\">$ar</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>();    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">加密</span><span style=\"color:#93a1a1;font-style:italic;\">key<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">private </span><span style=\"color:#6c71c4;\">$n</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>();<br/><br/>    <span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">__construct</span>(<span style=\"color:#268bd2;\">$address</span>, <span style=\"color:#268bd2;\">$port</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">创建</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">并把保存</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">资源在</span><span style=\"color:#93a1a1;font-style:italic;\">$this-&gt;master<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">master</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">WebSocket</span>(<span style=\"color:#268bd2;\">$address</span>, <span style=\"color:#268bd2;\">$port</span>);<br/><br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">创建</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">连接池<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sockets</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">master</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">static function </span><span style=\"color:#839496;\">logSocket</span>(<span style=\"color:#268bd2;\">$string</span>)<br/>    <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">file_put_contents</span>(<span style=\"color:#2aa198;\">&#39;./web.socket.log&#39;</span>,<span style=\"color:#268bd2;\">$string</span><span style=\"color:#079a71;\">.</span><span style=\"color:#d33682;\">PHP_EOL</span>, <span style=\"color:#d33682;\">FILE_APPEND</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对创建的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">循环进行监听，处理数据<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">run</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">死循环，直到</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">断开<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">while</span>(<span style=\"color:#859900;\">true</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$changes</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sockets</span>;<br/>            <span style=\"color:#268bd2;\">$write</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">NULL</span>;<br/>            <span style=\"color:#268bd2;\">$except</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">NULL</span>;<br/><br/>            <span style=\"color:#93a1a1;font-style:italic;\">/*<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">这个函数是同时接受多个连接的关键，我的理解它是为了阻塞程序继续往下执行。</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;socket_select ($sockets, $write = NULL, $except = NULL, NULL);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$sockets</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">可以理解为一个数组，这个数组中存放的是文件描述符。当它有变化（就是有新消息到或者有客户端连接</span><span style=\"color:#93a1a1;font-style:italic;\">/</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">断开）时，</span><span style=\"color:#93a1a1;font-style:italic;\">socket_select</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">函数才会返回，继续往下执行。</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$write</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是监听是否有客户端写数据，传入</span><span style=\"color:#93a1a1;font-style:italic;\">NULL</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是不关心是否有写变化。</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$except</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是</span><span style=\"color:#93a1a1;font-style:italic;\">$sockets</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">里面要被排除的元素，传入</span><span style=\"color:#93a1a1;font-style:italic;\">NULL</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是</span><span style=\"color:#93a1a1;font-style:italic;\">”</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">监听</span><span style=\"color:#93a1a1;font-style:italic;\">”</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">全部。<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;最后一个参数是超时时间<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;如果为</span><span style=\"color:#93a1a1;font-style:italic;\">0</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：则立即结束<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;如果为</span><span style=\"color:#93a1a1;font-style:italic;\">n&gt;1: </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">则最多在</span><span style=\"color:#93a1a1;font-style:italic;\">n</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">秒后结束，如遇某一个连接有新动态，则提前返回<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;如果为</span><span style=\"color:#93a1a1;font-style:italic;\">null</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">：如遇某一个连接有新动态，则返回</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">socket_select</span>(<span style=\"color:#268bd2;\">$changes</span>,<span style=\"color:#268bd2;\">$write</span>,<span style=\"color:#268bd2;\">$except</span>,<span style=\"color:#859900;\">NULL</span>);<br/>            <span style=\"color:#859900;\">self</span><span style=\"color:#079a71;\">::</span><span style=\"color:#969483;\">logSocket</span>(<span style=\"color:#2aa198;\">&#39;New Socket: time=&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">date</span>(<span style=\"color:#2aa198;\">&#39;Y-m-d H:i:s&#39;</span>)<span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;;information:&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">json_encode</span>(<span style=\"color:#268bd2;\">$changes</span>,<span style=\"color:#859900;\">true</span>));<br/>            <span style=\"color:#859900;\">foreach</span>(<span style=\"color:#268bd2;\">$changes </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$sock</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果有新的</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">连接进来，则<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$sock</span><span style=\"color:#079a71;\">==</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">master</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">self</span><span style=\"color:#079a71;\">::</span><span style=\"color:#969483;\">logSocket</span>(<span style=\"color:#2aa198;\">&#39;New Client Join: time=&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">date</span>(<span style=\"color:#2aa198;\">&#39;Y-m-d H:i:s&#39;</span>)<span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;;information:&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">json_encode</span>(<span style=\"color:#268bd2;\">$changes</span>,<span style=\"color:#859900;\">true</span>));<br/>                    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">接受一个</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">连接<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$client</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">socket_accept</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">master</span>);<br/><br/>                    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">给新连接进来的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">一个唯一的</span><span style=\"color:#93a1a1;font-style:italic;\">ID<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">uniqid</span>();<br/>                    <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sockets</span><span style=\"color:#268bd2;\">[]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$client</span>;  <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">将新连接进来的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">存进连接池<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>(<br/>                        <span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$client</span>,  <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">记录新连接进来</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#2aa198;\">&#39;shou&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#859900;\">false &nbsp; &nbsp; &nbsp; </span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">标志该</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">资源没有完成握手<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>);<br/>                    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">否则</span><span style=\"color:#93a1a1;font-style:italic;\">1.</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">为</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">断开</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">连接，</span><span style=\"color:#93a1a1;font-style:italic;\">2.client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">0</span>;<br/>                    <span style=\"color:#268bd2;\">$buffer</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>                    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">读取该</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的信息，注意：第二个参数是引用传参即接收数据，第三个参数是接收数据的长度<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">do</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$l</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">socket_recv</span>(<span style=\"color:#268bd2;\">$sock</span>,<span style=\"color:#268bd2;\">$buf</span>,<span style=\"color:#2aa198;\">1000</span>,<span style=\"color:#2aa198;\">0</span>);<br/>                        <span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">+=</span><span style=\"color:#268bd2;\">$l</span>;<br/>                        <span style=\"color:#268bd2;\">$buffer</span><span style=\"color:#079a71;\">.=</span><span style=\"color:#268bd2;\">$buf</span>;<br/>                    <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">while</span>(<span style=\"color:#268bd2;\">$l</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">1000</span>);<br/><br/>                    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">根据</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">在</span><span style=\"color:#93a1a1;font-style:italic;\">user</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">池里面查找相应的</span><span style=\"color:#93a1a1;font-style:italic;\">$k,</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">即健</span><span style=\"color:#93a1a1;font-style:italic;\">ID<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$k</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">search</span>(<span style=\"color:#268bd2;\">$sock</span>);<br/><br/>                    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果接收的信息长度小于</span><span style=\"color:#93a1a1;font-style:italic;\">7</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，则该</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">为断开连接<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">&lt;</span><span style=\"color:#2aa198;\">7</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">给该</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">进行断开操作，并在</span><span style=\"color:#93a1a1;font-style:italic;\">$this-&gt;sockets</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">和</span><span style=\"color:#93a1a1;font-style:italic;\">$this-&gt;users</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">里面进行删除<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">send2</span>(<span style=\"color:#268bd2;\">$k</span>);<br/>                        <span style=\"color:#859900;\">continue</span>;<br/>                    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">判断该</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">是否已经握手<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$k][</span><span style=\"color:#2aa198;\">&#39;shou&#39;</span><span style=\"color:#268bd2;\">]</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果没有握手，则进行握手处理<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">woshou</span>(<span style=\"color:#268bd2;\">$k</span>,<span style=\"color:#268bd2;\">$buffer</span>);<br/>                    <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">走到这里就是该</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送信息了，对接受到的信息进行</span><span style=\"color:#93a1a1;font-style:italic;\">uncode</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">处理<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$buffer </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">uncode</span>(<span style=\"color:#268bd2;\">$buffer</span>,<span style=\"color:#268bd2;\">$k</span>);<br/>                        <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$buffer</span><span style=\"color:#079a71;\">==</span><span style=\"color:#859900;\">false</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">continue</span>;<br/>                        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果不为空，则进行消息推送操作<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">send</span>(<span style=\"color:#268bd2;\">$k</span>,<span style=\"color:#268bd2;\">$buffer</span>);<br/>                    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">指定关闭</span><span style=\"color:#93a1a1;font-style:italic;\">$k</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对应的</span><span style=\"color:#93a1a1;font-style:italic;\">socket<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">close</span>(<span style=\"color:#268bd2;\">$k</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">断开相应</span><span style=\"color:#93a1a1;font-style:italic;\">socket<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">socket_close</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$k][</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>);<br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">删除相应的</span><span style=\"color:#93a1a1;font-style:italic;\">user</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">unset</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$k]</span>);<br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">重新定义</span><span style=\"color:#93a1a1;font-style:italic;\">sockets</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">连接池<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sockets</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">master</span>);<br/>        <span style=\"color:#859900;\">foreach</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$v</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sockets</span><span style=\"color:#268bd2;\">[]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$v[</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">输出日志<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">e</span>(<span style=\"color:#2aa198;\">&quot;key:</span><span style=\"color:#268bd2;\">$k</span><span style=\"color:#2aa198;\"> close&quot;</span>);<br/>        <span style=\"color:#859900;\">self</span><span style=\"color:#079a71;\">::</span><span style=\"color:#969483;\">logSocket</span>(<span style=\"color:#2aa198;\">&quot;key:</span><span style=\"color:#268bd2;\">$k</span><span style=\"color:#2aa198;\"> close&quot;</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">根据</span><span style=\"color:#93a1a1;font-style:italic;\">sock</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">在</span><span style=\"color:#93a1a1;font-style:italic;\">users</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">里面查找相应的</span><span style=\"color:#93a1a1;font-style:italic;\">$k<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">search</span>(<span style=\"color:#268bd2;\">$sock</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">foreach </span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$k</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$v</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$sock</span><span style=\"color:#079a71;\">==</span><span style=\"color:#268bd2;\">$v[</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>)<br/>                <span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$k</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return false</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">传相应的</span><span style=\"color:#93a1a1;font-style:italic;\">IP</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">与端口进行创建</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">操作<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">WebSocket</span>(<span style=\"color:#268bd2;\">$address</span>,<span style=\"color:#268bd2;\">$port</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$server </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">socket_create</span>(<span style=\"color:#d33682;\">AF_INET</span>, <span style=\"color:#d33682;\">SOCK_STREAM</span>, <span style=\"color:#d33682;\">SOL_TCP</span>);<br/>        <span style=\"color:#969483;font-style:italic;\">socket_set_option</span>(<span style=\"color:#268bd2;\">$server</span>, <span style=\"color:#d33682;\">SOL_SOCKET</span>, <span style=\"color:#d33682;\">SO_REUSEADDR</span>, <span style=\"color:#2aa198;\">1</span>);<span style=\"color:#93a1a1;font-style:italic;\">//1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表示接受所有的数据包<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">socket_bind</span>(<span style=\"color:#268bd2;\">$server</span>, <span style=\"color:#268bd2;\">$address</span>, <span style=\"color:#268bd2;\">$port</span>);<br/>        <span style=\"color:#969483;font-style:italic;\">socket_listen</span>(<span style=\"color:#268bd2;\">$server</span>);<br/>        <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">e</span>(<span style=\"color:#2aa198;\">&#39;Server Started : &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">date</span>(<span style=\"color:#2aa198;\">&#39;Y-m-d H:i:s&#39;</span>));<br/>        <span style=\"color:#859900;\">self</span><span style=\"color:#079a71;\">::</span><span style=\"color:#969483;\">logSocket</span>(<span style=\"color:#2aa198;\">&#39;Server Started : &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">date</span>(<span style=\"color:#2aa198;\">&#39;Y-m-d H:i:s&#39;</span>));<br/>        <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">e</span>(<span style=\"color:#2aa198;\">&#39;Listening on &nbsp; : &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$address</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39; port &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$port</span>);<br/>        <span style=\"color:#859900;\">self</span><span style=\"color:#079a71;\">::</span><span style=\"color:#969483;\">logSocket</span>(<span style=\"color:#2aa198;\">&#39;Listening on &nbsp; : &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$address</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39; port &#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$port</span>);<br/>        <span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$server</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">/*<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;* </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">函数说明：对</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的请求进行回应，即握手操作</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;* @$k clien</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对应的健，即每个用户有唯一</span><span style=\"color:#93a1a1;font-style:italic;\">$k</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">并对应</span><span style=\"color:#93a1a1;font-style:italic;\">socket<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;* @$buffer </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">接收</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">请求的所有信息</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">woshou</span>(<span style=\"color:#268bd2;\">$k</span>,<span style=\"color:#268bd2;\">$buffer</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">截取</span><span style=\"color:#93a1a1;font-style:italic;\">Sec-WebSocket-Key</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的值并加密，其中</span><span style=\"color:#93a1a1;font-style:italic;\">$key</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">后面的一部分</span><span style=\"color:#93a1a1;font-style:italic;\">258EAFA5-E914-47DA-95CA-C5AB0DC85B11</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">字符串应该是固定的<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$buf &nbsp;</span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$buffer</span>,<span style=\"color:#969483;font-style:italic;\">strpos</span>(<span style=\"color:#268bd2;\">$buffer</span>,<span style=\"color:#2aa198;\">&#39;Sec-WebSocket-Key:&#39;</span>)<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">18</span>);<br/>        <span style=\"color:#268bd2;\">$key &nbsp;</span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">trim</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$buf</span>,<span style=\"color:#2aa198;\">0</span>,<span style=\"color:#969483;font-style:italic;\">strpos</span>(<span style=\"color:#268bd2;\">$buf</span>,<span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#d33682;font-weight:bold;\">\\r\\n</span><span style=\"color:#2aa198;\">&quot;</span>)));<br/>        <span style=\"color:#268bd2;\">$new_key </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">base64_encode</span>(<span style=\"color:#969483;font-style:italic;\">sha1</span>(<span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;</span>,<span style=\"color:#859900;\">true</span>));<br/><br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">按照协议组合信息进行返回<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$new_message </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&quot;HTTP/1.1 101 Switching Protocols</span><span style=\"color:#d33682;font-weight:bold;\">\\r\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>        <span style=\"color:#268bd2;\">$new_message </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#2aa198;\">&quot;Upgrade: websocket</span><span style=\"color:#d33682;font-weight:bold;\">\\r\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>        <span style=\"color:#268bd2;\">$new_message </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#2aa198;\">&quot;Sec-WebSocket-Version: 13</span><span style=\"color:#d33682;font-weight:bold;\">\\r\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>        <span style=\"color:#268bd2;\">$new_message </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#2aa198;\">&quot;Connection: Upgrade</span><span style=\"color:#d33682;font-weight:bold;\">\\r\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>        <span style=\"color:#268bd2;\">$new_message </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#2aa198;\">&quot;Sec-WebSocket-Accept: &quot; </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$new_key </span><span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#d33682;font-weight:bold;\">\\r\\n\\r\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>        <span style=\"color:#969483;font-style:italic;\">socket_write</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$k][</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$new_message</span>,<span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$new_message</span>));<br/><br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对已经握手的</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">做标志<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$k][</span><span style=\"color:#2aa198;\">&#39;shou&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">true</span>;<br/>        <span style=\"color:#859900;\">return true</span>;<br/><br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">解码函数<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">uncode</span>(<span style=\"color:#268bd2;\">$str</span>,<span style=\"color:#268bd2;\">$key</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mask </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>();<br/>        <span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>        <span style=\"color:#268bd2;\">$msg </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">unpack</span>(<span style=\"color:#2aa198;\">&#39;H*&#39;</span>,<span style=\"color:#268bd2;\">$str</span>);<br/>        <span style=\"color:#268bd2;\">$head </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">0</span>,<span style=\"color:#2aa198;\">2</span>);<br/>        <span style=\"color:#859900;\">if </span>(<span style=\"color:#268bd2;\">$head </span><span style=\"color:#079a71;\">== </span><span style=\"color:#2aa198;\">&#39;81&#39; </span><span style=\"color:#079a71;\">&amp;&amp; !</span><span style=\"color:#859900;\">isset</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">slen</span><span style=\"color:#268bd2;\">[$key]</span>)) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">2</span>,<span style=\"color:#2aa198;\">2</span>);<br/>            <span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#268bd2;\">$len</span>);<span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">把十六进制的转换为十进制<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">2</span>,<span style=\"color:#2aa198;\">2</span>)<span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;fe&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">4</span>,<span style=\"color:#2aa198;\">4</span>);<br/>                <span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#268bd2;\">$len</span>);<br/>                <span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">4</span>);<br/>            <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">2</span>,<span style=\"color:#2aa198;\">2</span>)<span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;ff&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">4</span>,<span style=\"color:#2aa198;\">16</span>);<br/>                <span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#268bd2;\">$len</span>);<br/>                <span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">16</span>);<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$mask[] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">4</span>,<span style=\"color:#2aa198;\">2</span>));<br/>            <span style=\"color:#268bd2;\">$mask[] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">6</span>,<span style=\"color:#2aa198;\">2</span>));<br/>            <span style=\"color:#268bd2;\">$mask[] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">8</span>,<span style=\"color:#2aa198;\">2</span>));<br/>            <span style=\"color:#268bd2;\">$mask[] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#2aa198;\">10</span>,<span style=\"color:#2aa198;\">2</span>));<br/>            <span style=\"color:#268bd2;\">$s </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">12</span>;<br/>            <span style=\"color:#268bd2;\">$n</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">0</span>;<br/>        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">slen</span><span style=\"color:#268bd2;\">[$key] </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#2aa198;\">0</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">slen</span><span style=\"color:#268bd2;\">[$key]</span>;<br/>            <span style=\"color:#268bd2;\">$mask</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">ar</span><span style=\"color:#268bd2;\">[$key]</span>;<br/>            <span style=\"color:#268bd2;\">$n</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">n</span><span style=\"color:#268bd2;\">[$key]</span>;<br/>            <span style=\"color:#268bd2;\">$s </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$e </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>)<span style=\"color:#079a71;\">-</span><span style=\"color:#2aa198;\">2</span>;<br/>        <span style=\"color:#859900;\">for </span>(<span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$s</span>; <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">&lt;= </span><span style=\"color:#268bd2;\">$e</span>; <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">+= </span><span style=\"color:#2aa198;\">2</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#969483;font-style:italic;\">chr</span>(<span style=\"color:#268bd2;\">$mask[$n</span><span style=\"color:#079a71;\">%</span><span style=\"color:#2aa198;\">4</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">^</span><span style=\"color:#969483;font-style:italic;\">hexdec</span>(<span style=\"color:#969483;font-style:italic;\">substr</span>(<span style=\"color:#268bd2;\">$msg[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$i</span>,<span style=\"color:#2aa198;\">2</span>)));<br/>            <span style=\"color:#268bd2;\">$n</span><span style=\"color:#079a71;\">++</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dlen</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$data</span>);<br/><br/>        <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$len </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#2aa198;\">255 </span><span style=\"color:#079a71;\">&amp;&amp; </span><span style=\"color:#268bd2;\">$len </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#268bd2;\">$dlen</span><span style=\"color:#079a71;\">+</span><span style=\"color:#969483;font-style:italic;\">intval</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sjen</span><span style=\"color:#268bd2;\">[$key]</span>))<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">ar</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$mask</span>;<br/>            <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">slen</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$len</span>;<br/>            <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sjen</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$dlen</span><span style=\"color:#079a71;\">+</span><span style=\"color:#969483;font-style:italic;\">intval</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sjen</span><span style=\"color:#268bd2;\">[$key]</span>);<br/>            <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sda</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sda</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$data</span>;<br/>            <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">n</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$n</span>;<br/>            <span style=\"color:#859900;\">return false</span>;<br/>        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">unset</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">ar</span><span style=\"color:#268bd2;\">[$key]</span>,<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">slen</span><span style=\"color:#268bd2;\">[$key]</span>,<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sjen</span><span style=\"color:#268bd2;\">[$key]</span>,<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">n</span><span style=\"color:#268bd2;\">[$key]</span>);<br/>            <span style=\"color:#268bd2;\">$data</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sda</span><span style=\"color:#268bd2;\">[$key]</span><span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$data</span>;<br/>            <span style=\"color:#859900;\">unset</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">sda</span><span style=\"color:#268bd2;\">[$key]</span>);<br/>            <span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$data</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">与</span><span style=\"color:#93a1a1;font-style:italic;\">uncode</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">相对<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">code</span>(<span style=\"color:#268bd2;\">$msg</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$frame </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>();<br/>        <span style=\"color:#268bd2;\">$frame[</span><span style=\"color:#2aa198;\">0</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;81&#39;</span>;<br/>        <span style=\"color:#268bd2;\">$len </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$msg</span>);<br/>        <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$len </span><span style=\"color:#079a71;\">&lt; </span><span style=\"color:#2aa198;\">126</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$frame[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$len</span><span style=\"color:#079a71;\">&lt;</span><span style=\"color:#2aa198;\">16</span><span style=\"color:#079a71;\">?</span><span style=\"color:#2aa198;\">&#39;0&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">dechex</span>(<span style=\"color:#268bd2;\">$len</span>)<span style=\"color:#079a71;\">:</span><span style=\"color:#969483;font-style:italic;\">dechex</span>(<span style=\"color:#268bd2;\">$len</span>);<br/>        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(<span style=\"color:#268bd2;\">$len </span><span style=\"color:#079a71;\">&lt; </span><span style=\"color:#2aa198;\">65025</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$s</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">dechex</span>(<span style=\"color:#268bd2;\">$len</span>);<br/>            <span style=\"color:#268bd2;\">$frame[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;7e&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">str_repeat</span>(<span style=\"color:#2aa198;\">&#39;0&#39;</span>,<span style=\"color:#2aa198;\">4</span><span style=\"color:#079a71;\">-</span><span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$s</span>))<span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$s</span>;<br/>        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$s</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">dechex</span>(<span style=\"color:#268bd2;\">$len</span>);<br/>            <span style=\"color:#268bd2;\">$frame[</span><span style=\"color:#2aa198;\">1</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;7f&#39;</span><span style=\"color:#079a71;\">.</span><span style=\"color:#969483;font-style:italic;\">str_repeat</span>(<span style=\"color:#2aa198;\">&#39;0&#39;</span>,<span style=\"color:#2aa198;\">16</span><span style=\"color:#079a71;\">-</span><span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$s</span>))<span style=\"color:#079a71;\">.</span><span style=\"color:#268bd2;\">$s</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$frame[</span><span style=\"color:#2aa198;\">2</span><span style=\"color:#268bd2;\">] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">ord_hex</span>(<span style=\"color:#268bd2;\">$msg</span>);<br/>        <span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">implode</span>(<span style=\"color:#2aa198;\">&#39;&#39;</span>,<span style=\"color:#268bd2;\">$frame</span>);<br/>        <span style=\"color:#859900;\">return </span><span style=\"color:#969483;font-style:italic;\">pack</span>(<span style=\"color:#2aa198;\">&quot;H*&quot;</span>, <span style=\"color:#268bd2;\">$data</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">ord_hex</span>(<span style=\"color:#268bd2;\">$data</span>)  <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$msg </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>        <span style=\"color:#268bd2;\">$l </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$data</span>);<br/>        <span style=\"color:#859900;\">for </span>(<span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>; <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">&lt;</span><span style=\"color:#268bd2;\">$l</span>; <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">++</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$msg </span><span style=\"color:#079a71;\">.= </span><span style=\"color:#969483;font-style:italic;\">dechex</span>(<span style=\"color:#969483;font-style:italic;\">ord</span>(<span style=\"color:#268bd2;\">$data</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#268bd2;\">$i</span><span style=\"color:#dc322f;\">}</span>));<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$msg</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">用户加入或</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">send</span>(<span style=\"color:#268bd2;\">$k</span>,<span style=\"color:#268bd2;\">$msg</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">将查询字符串解析到第二个参数变量中，以数组的形式保存如：</span><span style=\"color:#93a1a1;font-style:italic;\">parse_str(&quot;name=Bill&amp;age=60&quot;,$arr)<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">parse_str</span>(<span style=\"color:#268bd2;\">$msg</span>,<span style=\"color:#268bd2;\">$g</span>);<br/>        <span style=\"color:#268bd2;\">$ar</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>();<br/><br/>        <span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$g[</span><span style=\"color:#2aa198;\">&#39;type&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;add&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">第一次进入添加聊天名字，把姓名保存在相应的</span><span style=\"color:#93a1a1;font-style:italic;\">users</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">里面<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$k][</span><span style=\"color:#2aa198;\">&#39;name&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$g[</span><span style=\"color:#2aa198;\">&#39;ming&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>            <span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;type&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;add&#39;</span>;<br/>            <span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;name&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$g[</span><span style=\"color:#2aa198;\">&#39;ming&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>            <span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;all&#39;</span>;<br/>        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发送信息行为，其中</span><span style=\"color:#93a1a1;font-style:italic;\">$g[&#39;key&#39;]</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表示面对大家还是个人，是前段传过来的信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;nrong&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$g[</span><span style=\"color:#2aa198;\">&#39;nr&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>            <span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$g[</span><span style=\"color:#2aa198;\">&#39;key&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">推送信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">send1</span>(<span style=\"color:#268bd2;\">$k</span>,<span style=\"color:#268bd2;\">$ar</span>,<span style=\"color:#268bd2;\">$key</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对新加入的</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">推送已经在线的</span><span style=\"color:#93a1a1;font-style:italic;\">client<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">getusers</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ar</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>();<br/>        <span style=\"color:#859900;\">foreach</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$k</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$v</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ar[]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">array</span>(<span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$k</span>,<span style=\"color:#2aa198;\">&#39;name&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#268bd2;\">$v[</span><span style=\"color:#2aa198;\">&#39;name&#39;</span><span style=\"color:#268bd2;\">]</span>);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#268bd2;\">$ar</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//$k </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发信息人的</span><span style=\"color:#93a1a1;font-style:italic;\">socketID $key</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">接受人的</span><span style=\"color:#93a1a1;font-style:italic;\"> socketID </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，根据这个</span><span style=\"color:#93a1a1;font-style:italic;\">socketID</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">可以查找相应的</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">进行消息推送，即指定</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">进行发送<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">send1</span>(<span style=\"color:#268bd2;\">$k</span>,<span style=\"color:#268bd2;\">$ar</span>,<span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;all&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;code1&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$key</span>;<br/>        <span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$k</span>;<br/>        <span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;time&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">date</span>(<span style=\"color:#2aa198;\">&#39;m-d H:i:s&#39;</span>);<br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对发送信息进行编码处理<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$str </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">code</span>(<span style=\"color:#969483;font-style:italic;\">json_encode</span>(<span style=\"color:#268bd2;\">$ar</span>));<br/>        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">面对大家即所有在线者发送信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$key</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;all&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$users</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span>;<br/>            <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果是</span><span style=\"color:#93a1a1;font-style:italic;\">add</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">表示新加的</span><span style=\"color:#93a1a1;font-style:italic;\">client<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;type&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;add&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;type&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;madd&#39;</span>;<br/>                <span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;users&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getusers</span>();        <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">取出所有在线者，用于显示在在线用户列表中<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$str1 </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">code</span>(<span style=\"color:#969483;font-style:italic;\">json_encode</span>(<span style=\"color:#268bd2;\">$ar</span>)); <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">单独对新</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">进行编码处理，数据不一样<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对新</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">自己单独发送，因为有些数据是不一样的<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">socket_write</span>(<span style=\"color:#268bd2;\">$users[$k][</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$str1</span>,<span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$str1</span>));<br/>                <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">上面已经对</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">自己单独发送的，后面就无需再次发送，故</span><span style=\"color:#93a1a1;font-style:italic;\">unset<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">unset</span>(<span style=\"color:#268bd2;\">$users[$k]</span>);<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">除了新</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">外，对其他</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">进行发送信息。数据量大时，就要考虑延时等问题了<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">foreach</span>(<span style=\"color:#268bd2;\">$users </span><span style=\"color:#859900;\">as </span><span style=\"color:#268bd2;\">$v</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">socket_write</span>(<span style=\"color:#268bd2;\">$v[</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$str</span>,<span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$str</span>));<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">单独对个人发送信息，即双方聊天<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">socket_write</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$k][</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$str</span>,<span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$str</span>));<br/>            <span style=\"color:#969483;font-style:italic;\">socket_write</span>(<span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">users</span><span style=\"color:#268bd2;\">[$key][</span><span style=\"color:#2aa198;\">&#39;socket&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#268bd2;\">$str</span>,<span style=\"color:#969483;font-style:italic;\">strlen</span>(<span style=\"color:#268bd2;\">$str</span>));<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">用户退出向所用</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">推送信息<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">send2</span>(<span style=\"color:#268bd2;\">$k</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">close</span>(<span style=\"color:#268bd2;\">$k</span>);<br/>        <span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;type&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;rmove&#39;</span>;<br/>        <span style=\"color:#268bd2;\">$ar[</span><span style=\"color:#2aa198;\">&#39;nrong&#39;</span><span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$k</span>;<br/>        <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">send1</span>(<span style=\"color:#859900;\">false</span>,<span style=\"color:#268bd2;\">$ar</span>,<span style=\"color:#2aa198;\">&#39;all&#39;</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">记录日志<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#839496;\">e</span>(<span style=\"color:#268bd2;\">$str</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//$path=dirname(__FILE__).&#39;/log.txt&#39;;<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$str</span><span style=\"color:#079a71;\">=</span><span style=\"color:#268bd2;\">$str</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#d33682;font-weight:bold;\">\\n</span><span style=\"color:#2aa198;\">&quot;</span>;<br/>        <span style=\"color:#93a1a1;font-style:italic;\">//error_log($str,3,$path);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">编码处理<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#969483;font-style:italic;\">iconv</span>(<span style=\"color:#2aa198;\">&#39;utf-8&#39;</span>,<span style=\"color:#2aa198;\">&#39;gbk//IGNORE&#39;</span>,<span style=\"color:#268bd2;\">$str</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\">}</span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:12.0pt;\"><span style=\"color:#dc322f;\"></span><br/></pre><p><strong style=\"white-space: normal;\"><span style=\"font-size:24px\">HTML代码</span></strong></p><p><strong style=\"white-space: normal;\"><span style=\"font-size:24px\"></span></strong></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;\"></span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;\">&lt;!doctype </span><span style=\"color:#839496;\">html</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">html</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">head</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">meta </span><span style=\"color:#839496;\">charset=</span><span style=\"color:#2aa198;\">&quot;utf-8&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">meta </span><span style=\"color:#839496;\">name=</span><span style=\"color:#2aa198;\">&quot;viewport&quot; </span><span style=\"color:#839496;\">content=</span><span style=\"color:#2aa198;\">&quot;width=device-width, initial-scale=1, user-scalable=no&quot;</span><span style=\"color:#93a1a1;\">/&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">title</span><span style=\"color:#93a1a1;\">&gt;</span>HTML5 websocket <span style=\"font-family:&#39;宋体&#39;;\">网页聊天室 </span>javascript php<span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">title</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">style </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;text/css&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">body</span>,<span style=\"color:#859900;\">p</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">margin</span>:<span style=\"color:#2aa198;\">0px</span>; <span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">0px</span>; <span style=\"color:#b58900;\">font-size</span>:<span style=\"color:#2aa198;\">14px</span>; <span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#333</span>; <span style=\"color:#b58900;\">font-family</span>:<span style=\"color:#859900;\">Arial</span>, <span style=\"color:#859900;\">Helvetica</span>, <span style=\"color:#2aa198;\">sans-serif</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ltian</span>,.<span style=\"color:#859900;\">rin</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">width</span>:<span style=\"color:#2aa198;\">98</span><span style=\"color:#079a71;\">%</span>; <span style=\"color:#b58900;\">margin</span>:<span style=\"color:#2aa198;\">5px auto</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ltian</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">border</span>:<span style=\"color:#2aa198;\">1px </span><span style=\"color:#859900;\">#ccc </span><span style=\"color:#2aa198;\">solid</span>;<span style=\"color:#b58900;\">overflow-y</span>:<span style=\"color:#2aa198;\">auto</span>; <span style=\"color:#b58900;\">overflow-x</span>:<span style=\"color:#2aa198;\">hidden</span>; <span style=\"color:#b58900;\">position</span>:<span style=\"color:#2aa198;\">relative</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ct</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">margin-right</span>:<span style=\"color:#2aa198;\">111px</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">100</span><span style=\"color:#079a71;\">%</span>;<span style=\"color:#b58900;\">overflow-y</span>:<span style=\"color:#2aa198;\">auto</span>;<span style=\"color:#b58900;\">overflow-x</span>: <span style=\"color:#2aa198;\">hidden</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#us</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">width</span>:<span style=\"color:#2aa198;\">110px</span>; <span style=\"color:#b58900;\">overflow-y</span>:<span style=\"color:#2aa198;\">auto</span>; <span style=\"color:#b58900;\">overflow-x</span>:<span style=\"color:#2aa198;\">hidden</span>; <span style=\"color:#b58900;\">float</span>:<span style=\"color:#2aa198;\">right</span>; <span style=\"color:#b58900;\">border-left</span>:<span style=\"color:#2aa198;\">1px </span><span style=\"color:#859900;\">#ccc </span><span style=\"color:#2aa198;\">solid</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">100</span><span style=\"color:#079a71;\">%</span>; <span style=\"color:#b58900;\">background-color</span>:<span style=\"color:#859900;\">#F1F1F1</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#us p</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">3px 5px</span>; <span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#08C</span>; <span style=\"color:#b58900;\">line-height</span>:<span style=\"color:#2aa198;\">20px</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">20px</span>; <span style=\"color:#b58900;\">cursor</span>:<span style=\"color:#2aa198;\">pointer</span>; <span style=\"color:#b58900;\">overflow</span>:<span style=\"color:#2aa198;\">hidden</span>; <span style=\"color:#b58900;\">white-space</span>:<span style=\"color:#2aa198;\">nowrap</span>; <span style=\"color:#b58900;\">text-overflow</span>:<span style=\"color:#2aa198;\">ellipsis</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#us p</span>:<span style=\"color:#859900;\">hover</span>,<span style=\"color:#859900;\">#us p</span>:<span style=\"color:#859900;\">active</span>,<span style=\"color:#859900;\">#us p</span>.<span style=\"color:#859900;\">ck</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">background-color</span>:<span style=\"color:#859900;\">#069</span>; <span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#FFF</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#us p</span>.<span style=\"color:#859900;\">my</span>:<span style=\"color:#859900;\">hover</span>,<span style=\"color:#859900;\">#us p</span>.<span style=\"color:#859900;\">my</span>:<span style=\"color:#859900;\">active</span>,<span style=\"color:#859900;\">#us p</span>.<span style=\"color:#859900;\">my</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#333</span>;<span style=\"color:#b58900;\">background-color</span>:<span style=\"color:#2aa198;\">transparent</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">button</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">float</span>:<span style=\"color:#2aa198;\">right</span>; <span style=\"color:#b58900;\">width</span>:<span style=\"color:#2aa198;\">80px</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">35px</span>; <span style=\"color:#b58900;\">font-size</span>:<span style=\"color:#2aa198;\">18px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">input</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">width</span>:<span style=\"color:#2aa198;\">100</span><span style=\"color:#079a71;\">%</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">30px</span>; <span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">2px</span>; <span style=\"color:#b58900;\">line-height</span>:<span style=\"color:#2aa198;\">20px</span>; <span style=\"color:#b58900;\">outline</span>:<span style=\"color:#2aa198;\">none</span>; <span style=\"color:#b58900;\">border</span>:<span style=\"color:#2aa198;\">solid 1px </span><span style=\"color:#859900;\">#CCC</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">rin p</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">margin-right</span>:<span style=\"color:#2aa198;\">160px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">rin span</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">float</span>:<span style=\"color:#2aa198;\">right</span>; <span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">6px 5px 0px 5px</span>; <span style=\"color:#b58900;\">position</span>:<span style=\"color:#2aa198;\">relative</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">rin span img</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">margin</span>:<span style=\"color:#2aa198;\">0px 3px</span>; <span style=\"color:#b58900;\">cursor</span>:<span style=\"color:#2aa198;\">pointer</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">rin span form</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">position</span>:<span style=\"color:#2aa198;\">absolute</span>; <span style=\"color:#b58900;\">width</span>:<span style=\"color:#2aa198;\">25px</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">25px</span>; <span style=\"color:#b58900;\">overflow</span>:<span style=\"color:#2aa198;\">hidden</span>; <span style=\"color:#b58900;\">opacity</span>:<span style=\"color:#2aa198;\">0</span>; <span style=\"color:#b58900;\">top</span>:<span style=\"color:#2aa198;\">5px</span>; <span style=\"color:#b58900;\">right</span>:<span style=\"color:#2aa198;\">5px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">rin span input</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">width</span>:<span style=\"color:#2aa198;\">180px</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">25px</span>; <span style=\"color:#b58900;\">margin-left</span>:<span style=\"color:#079a71;\">-</span><span style=\"color:#2aa198;\">160px</span>; <span style=\"color:#b58900;\">cursor</span>:<span style=\"color:#2aa198;\">pointer</span><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ct p</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">5px</span>; <span style=\"color:#b58900;\">line-height</span>:<span style=\"color:#2aa198;\">20px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ct a</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#069</span>; <span style=\"color:#b58900;\">cursor</span>:<span style=\"color:#2aa198;\">pointer</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ct span</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#999</span>; <span style=\"color:#b58900;\">margin-right</span>:<span style=\"color:#2aa198;\">10px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">c2</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#999</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">c3</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">background-color</span>:<span style=\"color:#859900;\">#DBE9EC</span>; <span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">5px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">qp</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">position</span>:<span style=\"color:#2aa198;\">absolute</span>; <span style=\"color:#b58900;\">font-size</span>:<span style=\"color:#2aa198;\">12px</span>; <span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#666</span>; <span style=\"color:#b58900;\">top</span>:<span style=\"color:#2aa198;\">5px</span>; <span style=\"color:#b58900;\">right</span>:<span style=\"color:#2aa198;\">130px</span>; <span style=\"color:#b58900;\">text-decoration</span>:<span style=\"color:#2aa198;\">none</span>; <span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#069</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ems</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">position</span>:<span style=\"color:#2aa198;\">absolute</span>; <span style=\"color:#b58900;\">z-index</span>:<span style=\"color:#2aa198;\">5</span>; <span style=\"color:#b58900;\">display</span>:<span style=\"color:#2aa198;\">none</span>; <span style=\"color:#b58900;\">top</span>:<span style=\"color:#2aa198;\">0px</span>; <span style=\"color:#b58900;\">left</span>:<span style=\"color:#2aa198;\">0px</span>; <span style=\"color:#b58900;\">max-width</span>:<span style=\"color:#2aa198;\">230px</span>; <span style=\"color:#b58900;\">background-color</span>:<span style=\"color:#859900;\">#F1F1F1</span>; <span style=\"color:#b58900;\">border</span>:<span style=\"color:#2aa198;\">solid 1px </span><span style=\"color:#859900;\">#CCC</span>; <span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">5px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ems img</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">width</span>:<span style=\"color:#2aa198;\">44px</span>; <span style=\"color:#b58900;\">height</span>:<span style=\"color:#2aa198;\">44px</span>; <span style=\"color:#b58900;\">border</span>:<span style=\"color:#2aa198;\">solid 1px </span><span style=\"color:#859900;\">#FFF</span>; <span style=\"color:#b58900;\">cursor</span>:<span style=\"color:#2aa198;\">pointer</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ems img</span>:<span style=\"color:#859900;\">hover</span>,<span style=\"color:#859900;\">#ems img</span>:<span style=\"color:#859900;\">active</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">border-color</span>:<span style=\"color:#859900;\">#A4B7E3</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ems a</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#069</span>; <span style=\"color:#b58900;\">border-radius</span>:<span style=\"color:#2aa198;\">2px</span>; <span style=\"color:#b58900;\">display</span>:<span style=\"color:#2aa198;\">inline-block</span>; <span style=\"color:#b58900;\">margin</span>:<span style=\"color:#2aa198;\">2px 5px</span>; <span style=\"color:#b58900;\">padding</span>:<span style=\"color:#2aa198;\">1px 8px</span>; <span style=\"color:#b58900;\">text-decoration</span>:<span style=\"color:#2aa198;\">none</span>; <span style=\"color:#b58900;\">background-color</span>:<span style=\"color:#859900;\">#D5DFFD</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">#ems a</span>:<span style=\"color:#859900;\">hover</span>,<span style=\"color:#859900;\">#ems a</span>:<span style=\"color:#859900;\">active</span>,<span style=\"color:#859900;\">#ems a</span>.<span style=\"color:#859900;\">ck</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">color</span>:<span style=\"color:#859900;\">#FFF</span>; <span style=\"color:#b58900;\">background-color</span>:<span style=\"color:#859900;\">#069</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>.<span style=\"color:#859900;\">tc</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#b58900;\">text-align</span>:<span style=\"color:#2aa198;\">center</span>; <span style=\"color:#b58900;\">margin-top</span>:<span style=\"color:#2aa198;\">5px</span>;<span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">style</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">head</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"><br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">body</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;ltian&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;us&quot; </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;jb&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;ct&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">a </span><span style=\"color:#839496;\">href=</span><span style=\"color:#2aa198;\">&quot;javascript:;&quot; </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;qp&quot; </span><span style=\"color:#839496;\">onClick=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#859900;\">this</span>.<span style=\"color:#7a7a43;\">parentNode</span>.children<span style=\"color:#268bd2;\">[</span>1<span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;&quot;</span><span style=\"color:#93a1a1;\">&gt;</span><span style=\"font-family:&#39;宋体&#39;;\">清屏</span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">a</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;rin&quot;</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">button </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;sd&quot;</span><span style=\"color:#93a1a1;\">&gt;</span><span style=\"font-family:&#39;宋体&#39;;\">发送</span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">button</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">span</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">img </span><span style=\"color:#839496;\">src=</span><span style=\"color:#2aa198;\">&quot;http://www.yxsss.com/ui/sk/t.png&quot; </span><span style=\"color:#839496;\">title=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">表情</span><span style=\"color:#2aa198;\">&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;imgbq&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">img </span><span style=\"color:#839496;\">src=</span><span style=\"color:#2aa198;\">&quot;http://www.yxsss.com/ui/sk/e.png&quot; </span><span style=\"color:#839496;\">title=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">上传图片</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">form</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;file&quot; </span><span style=\"color:#839496;\">title=</span><span style=\"color:#2aa198;\">&quot;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">上传图片</span><span style=\"color:#2aa198;\">&quot; </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;upimg&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">form</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">span</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">p</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">input </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;nrong&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">p</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">div </span><span style=\"color:#839496;\">id=</span><span style=\"color:#2aa198;\">&quot;ems&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">p</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">p</span><span style=\"color:#93a1a1;\">&gt;&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">p </span><span style=\"color:#839496;\">class=</span><span style=\"color:#2aa198;\">&quot;tc&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">p</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">div</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">typeof</span>(<span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">WebSocket</span>)<span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;undefined&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">alert</span>(<span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">你的浏览器不支持</span><span style=\"color:#2aa198;\"> WebSocket </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">，推荐使用</span><span style=\"color:#2aa198;\">Google Chrome </span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">或者</span><span style=\"color:#2aa198;\"> Mozilla Firefox&#39;</span>);<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">script </span><span style=\"color:#839496;\">src=</span><span style=\"color:#2aa198;\">&quot;http://www.yxsss.com/ui/p/a.js&quot; </span><span style=\"color:#839496;\">type=</span><span style=\"color:#2aa198;\">&quot;text/javascript&quot;</span><span style=\"color:#93a1a1;\">&gt;&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;</span><span style=\"color:#268bd2;font-weight:bold;\">script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\"> &nbsp; &nbsp;</span>(<span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">key</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;all&#39;</span>,<span style=\"color:#458383;\">mkey</span>;<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">users</span><span style=\"color:#079a71;\">=</span><span style=\"color:#dc322f;\">{}</span>;<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">url</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;ws://127.0.0.1:5121&#39;</span>;<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">so</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">false</span>,<span style=\"color:#458383;\">n</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">false</span>;<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">lus</span><span style=\"color:#079a71;\">=</span>A.$(<span style=\"color:#2aa198;\">&#39;us&#39;</span>),<span style=\"color:#458383;\">lct</span><span style=\"color:#079a71;\">=</span>A.$(<span style=\"color:#2aa198;\">&#39;ct&#39;</span>);<br/>        <span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">st</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">n</span><span style=\"color:#079a71;\">=</span><span style=\"color:#b58900;\">prompt</span>(<span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">请给自己取一个响亮的名字：</span><span style=\"color:#2aa198;\">&#39;</span>);<br/>            <span style=\"color:#458383;\">n</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">n</span>.<span style=\"color:#7a7a43;\">substr</span>(0,16);<br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#458383;\">n</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">创建</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，注意</span><span style=\"color:#93a1a1;font-style:italic;\">URL</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">的格式：</span><span style=\"color:#93a1a1;font-style:italic;\">ws://ip:</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">端口<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">so</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">new </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">WebSocket</span>(<span style=\"color:#458383;\">url</span>);<br/>            <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">握手监听函数<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">so</span>.onopen<span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">状态为</span><span style=\"color:#93a1a1;font-style:italic;\">1</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">证明握手成功，然后把</span><span style=\"color:#93a1a1;font-style:italic;\">client</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">自定义的名字发送过去<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">so</span>.readyState<span style=\"color:#079a71;\">==</span>1)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">so</span>.<span style=\"color:#7a7a43;\">send</span>(<span style=\"color:#2aa198;\">&#39;type=add&amp;ming=&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">n</span>);<br/>                <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">握手失败或者其他原因连接</span><span style=\"color:#93a1a1;font-style:italic;\">socket</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">失败，则清除</span><span style=\"color:#93a1a1;font-style:italic;\">so</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">对象并做相应提示操作<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">so</span>.onclose<span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">so</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">false</span>;<br/>                <span style=\"color:#458383;\">lct</span>.<span style=\"color:#7a7a43;\">appendChild</span>(A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p class=&quot;c2&quot;&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">退出聊天室</span><span style=\"color:#2aa198;\">&lt;/p&gt;&#39;</span>));<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">数据接收监听，接收服务器推送过来的信息，返回的数据给</span><span style=\"color:#93a1a1;font-style:italic;\">msg</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">，然后进行显示<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">so</span>.onmessage<span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>(msg)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">eval</span>(<span style=\"color:#2aa198;\">&#39;var da=&#39;</span><span style=\"color:#079a71;\">+</span>msg.data);<br/>                <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">false</span>,<span style=\"color:#458383;\">c</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">false</span>;<br/>                <span style=\"color:#859900;\">if</span>(da.<span style=\"color:#6c71c4;\">type</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;add&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p&gt;&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">name</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/p&gt;&#39;</span>);<br/>                    <span style=\"color:#458383;\">lus</span>.<span style=\"color:#7a7a43;\">appendChild</span>(<span style=\"color:#458383;\">obj</span>);<br/>                    <span style=\"color:#b58900;\">cuser</span>(<span style=\"color:#458383;\">obj</span>,da.<span style=\"color:#6c71c4;\">code</span>);<br/>                    <span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">欢迎</span><span style=\"color:#2aa198;\">&lt;a&gt;&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">name</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/a&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">加入</span><span style=\"color:#2aa198;\">&lt;/p&gt;&#39;</span>);<br/>                    <span style=\"color:#458383;\">c</span><span style=\"color:#079a71;\">=</span>da.<span style=\"color:#6c71c4;\">code</span>;<br/>                <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(da.<span style=\"color:#6c71c4;\">type</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;madd&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">mkey</span><span style=\"color:#079a71;\">=</span>da.<span style=\"color:#6c71c4;\">code</span>;<br/>                    da.users.<span style=\"color:#7a7a43;\">unshift</span>(<span style=\"color:#dc322f;\">{</span><span style=\"color:#2aa198;\">&#39;code&#39;</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;all&#39;</span>,<span style=\"color:#2aa198;\">&#39;name&#39;</span><span style=\"color:#079a71;\">:</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">大家</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#dc322f;\">}</span>);<br/>                    <span style=\"color:#859900;\">for</span>(<span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">=</span>0;<span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">&lt;</span>da.users.<span style=\"color:#6c71c4;\">length</span>;<span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">++</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p&gt;&#39;</span><span style=\"color:#079a71;\">+</span>da.users<span style=\"color:#268bd2;\">[</span><span style=\"color:#458383;\">i</span><span style=\"color:#268bd2;\">]</span>.<span style=\"color:#6c71c4;\">name</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/p&gt;&#39;</span>);<br/>                        <span style=\"color:#458383;\">lus</span>.<span style=\"color:#7a7a43;\">appendChild</span>(<span style=\"color:#458383;\">obj</span>);<br/>                        <span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">mkey</span><span style=\"color:#079a71;\">!=</span>da.users<span style=\"color:#268bd2;\">[</span><span style=\"color:#458383;\">i</span><span style=\"color:#268bd2;\">]</span>.<span style=\"color:#6c71c4;\">code</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">cuser</span>(<span style=\"color:#458383;\">obj</span>,da.users<span style=\"color:#268bd2;\">[</span><span style=\"color:#458383;\">i</span><span style=\"color:#268bd2;\">]</span>.<span style=\"color:#6c71c4;\">code</span>);<br/>                        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">obj</span>.<span style=\"color:#6c71c4;\">className</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;my&#39;</span>;<br/>                            <span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">document</span>.title<span style=\"color:#079a71;\">=</span>da.users<span style=\"color:#268bd2;\">[</span><span style=\"color:#458383;\">i</span><span style=\"color:#268bd2;\">]</span>.<span style=\"color:#6c71c4;\">name</span>;<br/>                        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">欢迎</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">name</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">加入</span><span style=\"color:#2aa198;\">&lt;/p&gt;&#39;</span>);<br/>                    <span style=\"color:#458383;\">users</span>.all.<span style=\"color:#6c71c4;\">className</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;ck&#39;</span>;<br/>                <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">==</span><span style=\"color:#859900;\">false</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(da.<span style=\"color:#6c71c4;\">type</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;rmove&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p class=&quot;c2&quot;&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">退出聊天室</span><span style=\"color:#2aa198;\">&lt;/p&gt;&#39;</span>);<br/>                        <span style=\"color:#458383;\">lct</span>.<span style=\"color:#7a7a43;\">appendChild</span>(<span style=\"color:#458383;\">obj</span>);<br/>                        <span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#268bd2;\">]</span>.del();<br/>                        <span style=\"color:#079a71;\">delete </span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#268bd2;\">]</span>;<br/>                    <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#079a71;\">=</span>da.<span style=\"color:#6c71c4;\">nrong</span>.<span style=\"color:#7a7a43;\">replace</span>(<span style=\"color:#0000ff;\">/{\\\\(\\d+)}/g</span>,<span style=\"color:#859900;\">function</span>(a,b)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&#39;&lt;img src=&quot;sk/&#39;</span><span style=\"color:#079a71;\">+</span>b<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;.gif&quot;&gt;&#39;</span>;<br/>                        <span style=\"color:#dc322f;\">}</span>).<span style=\"color:#7a7a43;\">replace</span>(<span style=\"color:#0000ff;\">/^data\\:image\\/png;base64\\,.{50,}$/i</span>,<span style=\"color:#859900;\">function</span>(a)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#2aa198;\">&#39;&lt;img src=&quot;&#39;</span><span style=\"color:#079a71;\">+</span>a<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&quot;&gt;&#39;</span>;<br/>                        <span style=\"color:#dc322f;\">}</span>);<br/>                        <span style=\"color:#93a1a1;font-style:italic;\">//da.code </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">发信息人的</span><span style=\"color:#93a1a1;font-style:italic;\">code<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(da.code1<span style=\"color:#079a71;\">==</span><span style=\"color:#458383;\">mkey</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p class=&quot;c3&quot;&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;&lt;a&gt;&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.<span style=\"color:#6c71c4;\">code</span><span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/a&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">对我说：</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/p&gt;&#39;</span>);<br/>                            <span style=\"color:#458383;\">c</span><span style=\"color:#079a71;\">=</span>da.<span style=\"color:#6c71c4;\">code</span>;<br/>                        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(da.<span style=\"color:#6c71c4;\">code</span><span style=\"color:#079a71;\">==</span><span style=\"color:#458383;\">mkey</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(da.code1<span style=\"color:#079a71;\">!=</span><span style=\"color:#2aa198;\">&#39;all&#39;</span>)<br/>                                <span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p class=&quot;c3&quot;&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">我对</span><span style=\"color:#2aa198;\">&lt;a&gt;&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.code1<span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/a&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">说：</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/p&gt;&#39;</span>);<br/>                            <span style=\"color:#859900;\">else<br/></span><span style=\"color:#859900;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">我对</span><span style=\"color:#2aa198;\">&lt;a&gt;&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.code1<span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/a&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">说：</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/p&gt;&#39;</span>);<br/>                            <span style=\"color:#458383;\">c</span><span style=\"color:#079a71;\">=</span>da.code1;<br/>                        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(da.<span style=\"color:#6c71c4;\">code</span><span style=\"color:#079a71;\">==</span><span style=\"color:#859900;\">false</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/p&gt;&#39;</span>);<br/>                        <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(da.code1)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">obj</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;p&gt;&lt;span&gt;[&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#7a7a43;\">time</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;]&lt;/span&gt;&lt;a&gt;&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.<span style=\"color:#6c71c4;\">code</span><span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/a&gt;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">对</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>da.code1<span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">说：</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#079a71;\">+</span>da.<span style=\"color:#6c71c4;\">nrong</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/p&gt;&#39;</span>);<br/>                            <span style=\"color:#458383;\">c</span><span style=\"color:#079a71;\">=</span>da.<span style=\"color:#6c71c4;\">code</span>;<br/>                        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">c</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">obj</span>.children<span style=\"color:#268bd2;\">[</span>1<span style=\"color:#268bd2;\">]</span>.<span style=\"color:#b58900;\">onclick</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span><span style=\"color:#458383;\">c</span><span style=\"color:#268bd2;\">]</span>.<span style=\"color:#b58900;\">onclick</span>();<br/>                    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">lct</span>.<span style=\"color:#7a7a43;\">appendChild</span>(<span style=\"color:#458383;\">obj</span>);<br/>                <span style=\"color:#458383;\">lct</span>.<span style=\"color:#6c71c4;\">scrollTop</span><span style=\"color:#079a71;\">=</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">Math</span>.<span style=\"color:#7a7a43;\">max</span>(0,<span style=\"color:#458383;\">lct</span>.scrollHeight<span style=\"color:#079a71;\">-</span><span style=\"color:#458383;\">lct</span>.offsetHeight);<br/><br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>A.$(<span style=\"color:#2aa198;\">&#39;sd&#39;</span>).<span style=\"color:#7a7a43;\">onclick</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#458383;\">so</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#b58900;\">st</span>();<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">da</span><span style=\"color:#079a71;\">=</span>A.$(<span style=\"color:#2aa198;\">&#39;nrong&#39;</span>).<span style=\"color:#6c71c4;\">value</span>.<span style=\"color:#7a7a43;\">trim</span>();<br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">da</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">alert</span>(<span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">内容不能为空</span><span style=\"color:#2aa198;\">&#39;</span>);<br/>                <span style=\"color:#859900;\">return false</span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>A.$(<span style=\"color:#2aa198;\">&#39;nrong&#39;</span>).<span style=\"color:#6c71c4;\">value</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>            <span style=\"color:#458383;\">so</span>.<span style=\"color:#7a7a43;\">send</span>(<span style=\"color:#2aa198;\">&#39;nr=&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#b58900;\">esc</span>(<span style=\"color:#458383;\">da</span>)<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&amp;key=&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">key</span>);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>A.$(<span style=\"color:#2aa198;\">&#39;nrong&#39;</span>).<span style=\"color:#7a7a43;\">onkeydown</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>(e)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">e</span><span style=\"color:#079a71;\">=</span>e<span style=\"color:#079a71;\">||</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">event</span>;<br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">e</span>.keyCode<span style=\"color:#079a71;\">==</span>13)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>A.$(<span style=\"color:#2aa198;\">&#39;sd&#39;</span>).<span style=\"color:#b58900;\">onclick</span>();<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">esc</span>(da)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>da<span style=\"color:#079a71;\">=</span>da.<span style=\"color:#7a7a43;\">replace</span>(<span style=\"color:#0000ff;\">/&lt;/g</span>,<span style=\"color:#2aa198;\">&#39;&lt;&#39;</span>).<span style=\"color:#7a7a43;\">replace</span>(<span style=\"color:#0000ff;\">/&gt;/g</span>,<span style=\"color:#2aa198;\">&#39;&gt;&#39;</span>).<span style=\"color:#7a7a43;\">replace</span>(<span style=\"color:#0000ff;\">/\\&quot;/g</span>,<span style=\"color:#2aa198;\">&#39;&quot;&#39;</span>);<br/>            <span style=\"color:#859900;\">return </span><span style=\"color:#b58900;\">encodeURIComponent</span>(da);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">cuser</span>(t,code)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">users</span><span style=\"color:#268bd2;\">[</span>code<span style=\"color:#268bd2;\">]</span><span style=\"color:#079a71;\">=</span>t;<br/>            t.<span style=\"color:#7a7a43;\">onclick</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>t.<span style=\"color:#7a7a43;\">parentNode</span>.children.rcss(<span style=\"color:#2aa198;\">&#39;ck&#39;</span>,<span style=\"color:#2aa198;\">&#39;&#39;</span>);<br/>                t.rcss(<span style=\"color:#2aa198;\">&#39;&#39;</span>,<span style=\"color:#2aa198;\">&#39;ck&#39;</span>);<br/>                <span style=\"color:#458383;\">key</span><span style=\"color:#079a71;\">=</span>code;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>A.$(<span style=\"color:#2aa198;\">&#39;ltian&#39;</span>).style.height<span style=\"color:#079a71;\">=</span>(<span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">document</span>.documentElement.clientHeight <span style=\"color:#079a71;\">- </span>70)<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;px&#39;</span>;<br/>        <span style=\"color:#b58900;\">st</span>();<br/><br/><br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">bq</span><span style=\"color:#079a71;\">=</span>A.$(<span style=\"color:#2aa198;\">&#39;imgbq&#39;</span>),<span style=\"color:#458383;\">ems</span><span style=\"color:#079a71;\">=</span>A.$(<span style=\"color:#2aa198;\">&#39;ems&#39;</span>);<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">l</span><span style=\"color:#079a71;\">=</span>80,<span style=\"color:#458383;\">r</span><span style=\"color:#079a71;\">=</span>4,<span style=\"color:#458383;\">c</span><span style=\"color:#079a71;\">=</span>5,<span style=\"color:#458383;\">s</span><span style=\"color:#079a71;\">=</span>0,<span style=\"color:#458383;\">p</span><span style=\"color:#079a71;\">=</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">Math</span>.<span style=\"color:#7a7a43;\">ceil</span>(<span style=\"color:#458383;\">l</span><span style=\"color:#079a71;\">/</span>(<span style=\"color:#458383;\">r</span><span style=\"color:#079a71;\">*</span><span style=\"color:#458383;\">c</span>));<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">pt</span><span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;sk/&#39;</span>;<br/>        <span style=\"color:#458383;\">bq</span>.<span style=\"color:#7a7a43;\">onclick</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>(e)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">e</span><span style=\"color:#079a71;\">=</span>e<span style=\"color:#079a71;\">||</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">event</span>;<br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#458383;\">so</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">return </span><span style=\"color:#b58900;\">st</span>();<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">ems</span>.style.display<span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;block&#39;</span>;<br/>            <span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">document</span>.onclick<span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">gb</span>();<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">ct</span>();<br/>            <span style=\"color:#859900;\">try</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#458383;\">e</span>.<span style=\"color:#7a7a43;\">stopPropagation</span>();<span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">catch</span>(o)<span style=\"color:#dc322f;\">{}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">for</span>(<span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">=</span>0;<span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">&lt;</span><span style=\"color:#458383;\">p</span>;<span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">++</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">a</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;a href=&quot;javascript:;&quot;&gt;&#39;</span><span style=\"color:#079a71;\">+</span>(<span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">+</span>1)<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&lt;/a&gt;&#39;</span>);<br/>            <span style=\"color:#458383;\">ems</span>.children<span style=\"color:#268bd2;\">[</span>1<span style=\"color:#268bd2;\">]</span>.<span style=\"color:#7a7a43;\">appendChild</span>(<span style=\"color:#458383;\">a</span>);<br/>            <span style=\"color:#b58900;\">ef</span>(<span style=\"color:#458383;\">a</span>,<span style=\"color:#458383;\">i</span>);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">ems</span>.children<span style=\"color:#268bd2;\">[</span>1<span style=\"color:#268bd2;\">]</span>.children<span style=\"color:#268bd2;\">[</span>0<span style=\"color:#268bd2;\">]</span>.className<span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;ck&#39;</span>;<br/><br/>        <span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">ct</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">wz</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">bq</span>.weiz();<br/>            <span style=\"color:#859900;\">with</span>(<span style=\"color:#458383;\">ems</span>.style)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">top</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">wz</span>.<span style=\"color:#6c71c4;\">y</span><span style=\"color:#079a71;\">-</span>242<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;px&#39;</span>;<br/>                <span style=\"color:#6c71c4;\">left</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">wz</span>.<span style=\"color:#6c71c4;\">x</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">bq</span>.offsetWidth<span style=\"color:#079a71;\">-</span>235<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;px&#39;</span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">ef</span>(t,i)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>t.<span style=\"color:#7a7a43;\">onclick</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>(e)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">e</span><span style=\"color:#079a71;\">=</span>e<span style=\"color:#079a71;\">||</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">event</span>;<br/>                <span style=\"color:#458383;\">s</span><span style=\"color:#079a71;\">=</span>i<span style=\"color:#079a71;\">*</span><span style=\"color:#458383;\">r</span><span style=\"color:#079a71;\">*</span><span style=\"color:#458383;\">c</span>;<br/>                <span style=\"color:#458383;\">ems</span>.children<span style=\"color:#268bd2;\">[</span>0<span style=\"color:#268bd2;\">]</span>.innerHTML<span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>                <span style=\"color:#b58900;\">hh</span>();<br/>                <span style=\"color:#859900;\">this</span>.<span style=\"color:#7a7a43;\">parentNode</span>.children.rcss(<span style=\"color:#2aa198;\">&#39;ck&#39;</span>,<span style=\"color:#2aa198;\">&#39;&#39;</span>);<br/>                <span style=\"color:#859900;\">this</span>.rcss(<span style=\"color:#2aa198;\">&#39;&#39;</span>,<span style=\"color:#2aa198;\">&#39;ck&#39;</span>);<br/>                <span style=\"color:#859900;\">try</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#458383;\">e</span>.<span style=\"color:#7a7a43;\">stopPropagation</span>();<span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">catch</span>(o)<span style=\"color:#dc322f;\">{}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">hh</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">z</span><span style=\"color:#079a71;\">=</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">Math</span>.<span style=\"color:#7a7a43;\">min</span>(<span style=\"color:#458383;\">l</span>,<span style=\"color:#458383;\">s</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">r</span><span style=\"color:#079a71;\">*</span><span style=\"color:#458383;\">c</span>);<br/>            <span style=\"color:#859900;\">for</span>(<span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">s</span>;<span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">&lt;</span><span style=\"color:#458383;\">z</span>;<span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">++</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">a</span><span style=\"color:#079a71;\">=</span>A.$$(<span style=\"color:#2aa198;\">&#39;&lt;img src=&quot;&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">pt</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">i</span><span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;.gif&quot;&gt;&#39;</span>);<br/>                <span style=\"color:#b58900;\">hh1</span>(<span style=\"color:#458383;\">a</span>,<span style=\"color:#458383;\">i</span>);<br/>                <span style=\"color:#458383;\">ems</span>.children<span style=\"color:#268bd2;\">[</span>0<span style=\"color:#268bd2;\">]</span>.<span style=\"color:#7a7a43;\">appendChild</span>(<span style=\"color:#458383;\">a</span>);<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">ct</span>();<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">hh1</span>(t,i)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>t.<span style=\"color:#7a7a43;\">onclick</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>(e)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">e</span><span style=\"color:#079a71;\">=</span>e<span style=\"color:#079a71;\">||</span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">event</span>;<br/>                A.$(<span style=\"color:#2aa198;\">&#39;nrong&#39;</span>).<span style=\"color:#6c71c4;\">value</span><span style=\"color:#079a71;\">+=</span><span style=\"color:#2aa198;\">&#39;{</span><span style=\"color:#d33682;font-weight:bold;\">\\\\</span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#079a71;\">+</span>i<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;}&#39;</span>;<br/>                <span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#458383;\">e</span>.ctrlKey)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">gb</span>();<br/>                <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">try</span><span style=\"color:#dc322f;\">{</span><span style=\"color:#458383;\">e</span>.<span style=\"color:#7a7a43;\">stopPropagation</span>();<span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">catch</span>(o)<span style=\"color:#dc322f;\">{}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">function </span><span style=\"color:#b58900;\">gb</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">ems</span>.style.display<span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>            A.$(<span style=\"color:#2aa198;\">&#39;nrong&#39;</span>).<span style=\"color:#7a7a43;\">focus</span>();<br/>            <span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">document</span>.onclick<span style=\"color:#079a71;\">=</span><span style=\"color:#2aa198;\">&#39;&#39;</span>;<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">hh</span>();<br/>        A.on(<span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">window</span>,<span style=\"color:#2aa198;\">&#39;resize&#39;</span>,<span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>A.$(<span style=\"color:#2aa198;\">&#39;ltian&#39;</span>).style.height<span style=\"color:#079a71;\">=</span>(<span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">document</span>.documentElement.clientHeight <span style=\"color:#079a71;\">- </span>70)<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;px&#39;</span>;<br/>            <span style=\"color:#b58900;\">ct</span>();<br/>        <span style=\"color:#dc322f;\">}</span>)<br/><br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">fimg</span><span style=\"color:#079a71;\">=</span>A.$(<span style=\"color:#2aa198;\">&#39;upimg&#39;</span>);<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">img</span><span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">new </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">Image</span>();<br/>        <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">dw</span><span style=\"color:#079a71;\">=</span>400,<span style=\"color:#458383;\">dh</span><span style=\"color:#079a71;\">=</span>300;<br/>        A.on(<span style=\"color:#458383;\">fimg</span>,<span style=\"color:#2aa198;\">&#39;change&#39;</span>,<span style=\"color:#859900;\">function</span>(ev)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#458383;\">so</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">st</span>();<br/>                <span style=\"color:#859900;\">return false</span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">key</span><span style=\"color:#079a71;\">==</span><span style=\"color:#2aa198;\">&#39;all&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#b58900;\">alert</span>(<span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">由于资源限制 发图只能私聊</span><span style=\"color:#2aa198;\">&#39;</span>);<br/>                <span style=\"color:#859900;\">return false</span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">f</span><span style=\"color:#079a71;\">=</span>ev.target.files<span style=\"color:#268bd2;\">[</span>0<span style=\"color:#268bd2;\">]</span>;<br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#458383;\">f</span>.type.<span style=\"color:#7a7a43;\">match</span>(<span style=\"color:#2aa198;\">&#39;image.*&#39;</span>))<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">r </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">FileReader</span>();<br/>                <span style=\"color:#458383;\">r</span>.onload <span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">function</span>(e)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#458383;\">img</span>.<span style=\"color:#7a7a43;\">setAttribute</span>(<span style=\"color:#2aa198;\">&#39;src&#39;</span>,e.target.result);<br/>                <span style=\"color:#dc322f;\">}</span>;<br/>                <span style=\"color:#458383;\">r</span>.<span style=\"color:#7a7a43;\">readAsDataURL</span>(<span style=\"color:#458383;\">f</span>);<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}</span>);<br/>        <span style=\"color:#458383;\">img</span>.onload<span style=\"color:#079a71;\">=</span><span style=\"color:#859900;\">function</span>()<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">ih</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">img</span>.height,<span style=\"color:#6c71c4;\">iw</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">img</span>.width;<br/>            <span style=\"color:#859900;\">if</span>(<span style=\"color:#6c71c4;\">iw</span><span style=\"color:#079a71;\">/</span><span style=\"color:#6c71c4;\">ih </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#458383;\">dw</span><span style=\"color:#079a71;\">/</span><span style=\"color:#458383;\">dh </span><span style=\"color:#079a71;\">&amp;&amp; </span><span style=\"color:#6c71c4;\">iw </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#458383;\">dw</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">ih</span><span style=\"color:#079a71;\">=</span><span style=\"color:#6c71c4;\">ih</span><span style=\"color:#079a71;\">/</span><span style=\"color:#6c71c4;\">iw</span><span style=\"color:#079a71;\">*</span><span style=\"color:#458383;\">dw</span>;<br/>                <span style=\"color:#6c71c4;\">iw</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">dw</span>;<br/>            <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else if</span>(<span style=\"color:#6c71c4;\">ih </span><span style=\"color:#079a71;\">&gt; </span><span style=\"color:#458383;\">dh</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#6c71c4;\">iw</span><span style=\"color:#079a71;\">=</span><span style=\"color:#6c71c4;\">iw</span><span style=\"color:#079a71;\">/</span><span style=\"color:#6c71c4;\">ih</span><span style=\"color:#079a71;\">*</span><span style=\"color:#458383;\">dh</span>;<br/>                <span style=\"color:#6c71c4;\">ih</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">dh</span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">rc </span><span style=\"color:#079a71;\">= </span>A.$$(<span style=\"color:#2aa198;\">&#39;canvas&#39;</span>);<br/>            <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">ct </span><span style=\"color:#079a71;\">= </span><span style=\"color:#458383;\">rc</span>.<span style=\"color:#7a7a43;\">getContext</span>(<span style=\"color:#2aa198;\">&#39;2d&#39;</span>);<br/>            <span style=\"color:#458383;\">rc</span>.<span style=\"color:#6c71c4;\">width</span><span style=\"color:#079a71;\">=</span><span style=\"color:#6c71c4;\">iw</span>;<br/>            <span style=\"color:#458383;\">rc</span>.<span style=\"color:#6c71c4;\">height</span><span style=\"color:#079a71;\">=</span><span style=\"color:#6c71c4;\">ih</span>;<br/>            <span style=\"color:#458383;\">ct</span>.<span style=\"color:#7a7a43;\">drawImage</span>(<span style=\"color:#458383;\">img</span>,0,0,<span style=\"color:#6c71c4;\">iw</span>,<span style=\"color:#6c71c4;\">ih</span>);<br/>            <span style=\"color:#859900;\">var </span><span style=\"color:#458383;\">da</span><span style=\"color:#079a71;\">=</span><span style=\"color:#458383;\">rc</span>.<span style=\"color:#7a7a43;\">toDataURL</span>();<br/>            <span style=\"color:#458383;\">so</span>.<span style=\"color:#7a7a43;\">send</span>(<span style=\"color:#2aa198;\">&#39;nr=&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#b58900;\">esc</span>(<span style=\"color:#458383;\">da</span>)<span style=\"color:#079a71;\">+</span><span style=\"color:#2aa198;\">&#39;&amp;key=&#39;</span><span style=\"color:#079a71;\">+</span><span style=\"color:#458383;\">key</span>);<br/>        <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;}</span>)();<br/><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">script</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">body</span><span style=\"color:#93a1a1;\">&gt;<br/></span><span style=\"color:#93a1a1;\">&lt;/</span><span style=\"color:#268bd2;font-weight:bold;\">html</span><span style=\"color:#93a1a1;\">&gt;</span></pre><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:12.0pt;\"><span style=\"color:#93a1a1;\"></span><br/></pre><p><strong style=\"white-space: normal;\"><span style=\"font-size:24px\"></span></strong><br/></p>', '2018-07-02 23:09:09', '2018-07-03 22:06:33', null, null, '67', '0', '0', '/index/article/show/id/47.html');
INSERT INTO `blog_article` VALUES ('48', '9', 'PHP socket完善', ' socket   完善', '实现了类似QQ聊天功能，但是图片/文件发送还没做好，功能截下图', '', '<p>实现了类似QQ聊天功能，但是图片/文件发送还没做好，</p><p>功能截下图</p><p><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/2c9810dac45f2093d91d2d34cfe5a7d9.png\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/2c9810dac45f2093d91d2d34cfe5a7d9.png\" style=\"\"/></p><p><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/8662ed191fea97401f852466d500119d.png\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/8662ed191fea97401f852466d500119d.png\" style=\"\"/></p><p><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/32aa9af4f58167dec86c33f877faa976.png\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/32aa9af4f58167dec86c33f877faa976.png\" style=\"\"/></p><p><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/5d1582f23ca896c9e197033649826c65.png\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/5d1582f23ca896c9e197033649826c65.png\" style=\"\"/></p><p><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/60120cd17a1684ab29a3d160782fc4a1.png\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180703/60120cd17a1684ab29a3d160782fc4a1.png\" style=\"\"/></p><p><br/></p>', '2018-07-03 22:49:37', '2018-07-03 22:54:53', null, null, '55', '0', '0', '/index/article/show/id/48.html');
INSERT INTO `blog_article` VALUES ('49', '9', '记一次编写接口的经历', '一次,编写,接口,经历', 'parse_int_file1.parse_ini_file(file,process_sections)参数描述file必需。规定要检查的 ini 文件。process_sections可选。如果设置为 TRUE，则返回一个多维数组，包括了配置文件中每一节的名称和设置。默认是 FALSE。http&nbsp; post&nbsp; &nbsp;stream_context_create+file_get_contents$data = array(	&#39;foo&#39;=&gt;&#39', '', '<h2 style=\"border: 0px; margin-top: 2px; margin-bottom: 2px; font-size: 1.8em; line-height: 1.8em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; white-space: normal;\">parse_int_file</h2><div class=\"code notranslate\" style=\"border: 1px solid rgb(212, 212, 212); padding: 5px; width: 715.781px; background-color: rgb(246, 244, 240); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; white-space: normal;\"><div style=\"border: 0px; font-size: 13.2px; font-family: &quot;courier new&quot;;\">1.parse_ini_file(file,process_sections)</div></div><p><br style=\"color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; white-space: normal;\"/></p><table class=\"reference notranslate\" style=\"border: 0px; margin-top: 4px; margin-bottom: 4px; padding: 0px; width: 729px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px; white-space: normal;\"><tbody style=\"border: 0px; margin: 0px; padding: 0px;\"><tr style=\"border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);\"><th align=\"left\" valign=\"top\" width=\"20%\" style=\"border: 1px solid rgb(85, 85, 85); padding: 3px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;\">参数</th><th align=\"left\" valign=\"top\" width=\"80%\" style=\"border: 1px solid rgb(85, 85, 85); padding: 3px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;\">描述</th></tr><tr style=\"border: 0px; margin: 0px; padding: 0px;\"><td valign=\"top\" style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\">file</td><td valign=\"top\" style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">必需。规定要检查的 ini 文件。</td></tr><tr style=\"border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);\"><td valign=\"top\" style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\">process_sections</td><td valign=\"top\" style=\"border-color: rgb(212, 212, 212); padding: 7px 5px; font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">可选。如果设置为 TRUE，则返回一个多维数组，包括了配置文件中每一节的名称和设置。默认是 FALSE。</td></tr></tbody></table><p><br/></p><p><br/></p><h2 style=\"margin-top: 2px; margin-bottom: 2px; font-size: 1.8em; white-space: normal; border: 0px; line-height: 1.8em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;\">http&nbsp; post&nbsp; &nbsp;<span style=\"color: rgb(171, 178, 191); font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre; background-color: rgb(246, 244, 240);\">stream_context_create+<span style=\"color: rgb(171, 178, 191); font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre; background-color: rgb(246, 244, 240);\">file_get_contents</span></span></h2><div class=\"code notranslate\" style=\"padding: 5px; white-space: normal; border: 1px solid rgb(212, 212, 212); width: 715.781px; background-color: rgb(246, 244, 240); color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px;\"><div style=\"border: 0px; font-size: 13.2px; font-family: &quot;courier new&quot;;\"><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Courier New&#39;;font-size:12.0pt;\"><span style=\"color:#268bd2;\"></span></pre><ol class=\"hljs-ln\" style=\"box-sizing: border-box; outline: 0px; list-style: none; border-collapse: collapse; overflow: hidden; word-break: break-all; color: rgb(171, 178, 191); font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\"><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$data = <span class=\"hljs-keyword\" style=\"box-sizing: border-box; outline: 0px; color: rgb(198, 120, 221); word-break: break-all;\">array</span>(</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">	<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;foo&#39;</span>=&gt;<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;bar&#39;</span>,</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">	<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;baz&#39;</span>=&gt;<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;boom&#39;</span>,</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">	<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;site&#39;</span>=&gt;<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;www.lai18.com&#39;</span>,</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">	<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;name&#39;</span>=&gt;<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;lai18&#39;</span>);</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$data = http_build_query($data);</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"><span class=\"hljs-comment\" style=\"box-sizing: border-box; outline: 0px; color: rgb(92, 99, 112); font-style: italic; word-break: break-all;\">//$postdata = http_build_query($data);</span></div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$options = <span class=\"hljs-keyword\" style=\"box-sizing: border-box; outline: 0px; color: rgb(198, 120, 221); word-break: break-all;\">array</span>(</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">	<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;http&#39;</span> =&gt; <span class=\"hljs-keyword\" style=\"box-sizing: border-box; outline: 0px; color: rgb(198, 120, 221); word-break: break-all;\">array</span>(</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">		<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;method&#39;</span> =&gt; <span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;POST&#39;</span>,</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">		<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;header&#39;</span> =&gt; <span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;Content-type:application/x-www-form-urlencoded&#39;</span>,</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">		<span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&#39;content&#39;</span> =&gt; $data</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">		<span class=\"hljs-comment\" style=\"box-sizing: border-box; outline: 0px; color: rgb(92, 99, 112); font-style: italic; word-break: break-all;\">//&#39;timeout&#39; =&gt; 60 * 60 // 超时时间（单位:s）</span></div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">	)</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">);</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$url = <span class=\"hljs-string\" style=\"box-sizing: border-box; outline: 0px; color: rgb(152, 195, 121); word-break: break-all;\">&quot;http://www.lai18.net/&quot;</span>;</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$context = stream_context_create($options);</div></div></li><li style=\"box-sizing: border-box; outline: 0px; word-break: break-all; height: 22px;\"><div class=\"hljs-ln-code\" style=\"box-sizing: border-box; outline: 0px; margin-left: 8px; word-break: break-all; float: left; height: 22px;\"><div class=\"hljs-ln-line\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\">$result = file_get_contents($url, <span class=\"hljs-keyword\" style=\"box-sizing: border-box; outline: 0px; color: rgb(198, 120, 221); word-break: break-all;\">false</span>, $context);</div></div></li></ol><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Courier New&#39;;font-size:12.0pt;\"><br/></pre></div></div><h2 style=\"margin-top: 2px; margin-bottom: 2px; font-size: 1.8em; white-space: normal; border: 0px; line-height: 1.8em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;\">openssl_pkcs12_read&nbsp; &nbsp;解析私钥证书</h2><div class=\"code notranslate\" style=\"padding: 5px; white-space: normal; border: 1px solid rgb(212, 212, 212); width: 715.781px; background-color: rgb(246, 244, 240); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px;\"><div style=\"border: 0px; font-size: 13.2px; font-family: &quot;courier new&quot;;\"><p style=\"color: rgb(88, 110, 117); background-color: rgb(253, 246, 227); font-family: &quot;Courier New&quot;; font-size: 12pt;\"><span style=\"color:#969483;font-style:italic;\">openssl_pkcs12_read</span>(<span style=\"color:#268bd2;\">$merPkcs12</span>, <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">MerPrivateKey</span>, <span style=\"color:#268bd2;\">$this</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#6c71c4;\">signFilePassword</span>);</p></div></div><table class=\"reference notranslate\" style=\"margin-top: 4px; margin-bottom: 4px; white-space: normal; border: 0px; padding: 0px; width: 729px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-size: 12px;\"><tbody style=\"border: 0px; margin: 0px; padding: 0px;\"><tr style=\"border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);\"><th align=\"left\" valign=\"top\" width=\"20%\" style=\"padding: 3px; border: 1px solid rgb(85, 85, 85); color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;\">参数</th><th align=\"left\" valign=\"top\" width=\"80%\" style=\"padding: 3px; border: 1px solid rgb(85, 85, 85); color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;\">描述</th></tr><tr style=\"border: 0px; margin: 0px; padding: 0px;\"><td valign=\"top\" style=\"padding: 7px 5px; border-color: rgb(212, 212, 212); font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\">$merPkcs12</td><td valign=\"top\" style=\"padding: 7px 5px; border-color: rgb(212, 212, 212); font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">必需。证书文件</td></tr><tr style=\"border: 0px; margin: 0px; padding: 0px; background-color: rgb(246, 244, 240);\"><td valign=\"top\" style=\"padding: 7px 5px; border-color: rgb(212, 212, 212); font-size: 13px; min-width: 24px; line-height: 2em; vertical-align: top;\">变量</td><td valign=\"top\" style=\"padding: 7px 5px; border-color: rgb(212, 212, 212); font-size: 13px; line-height: 2em; min-width: 24px; vertical-align: top;\">把获取到的私钥信息存储在这个变量，参数3为密码（单元cert为证书信息，单元pkey为私钥信息）<br/><br/></td></tr></tbody></table><br/><p><br/></p>', '2018-07-04 16:31:19', '2018-07-04 17:01:20', null, null, '59', '0', '0', '/index/article/show/id/49.html');
INSERT INTO `blog_article` VALUES ('50', '9', 'PHP通过OpenSSL生成证书、密钥并且加密解密数据,以及公钥，私钥和数字签名', '通过,生成,证书,并且,数据,以及,私钥', '一、公钥加密假设一下，我找了两个数字，一个是1，一个是2。我喜欢2这个数字，就保留起来，不告诉你们(私钥），然后我告诉大家，1是我的公钥。我有一个文件，不能让别人看，我就用1加密了。别人找到了这个文件，但是他不知道2就是解密的私钥啊，所以他解不开，只有我可以用数字2，就是我的私钥，来解密。这样我就可以保护数据了。我的好朋友x用我的公钥1加密了字符a，加密后成了b，放在网上。别人偷到了这个文件，但是别人解不开，因为别人不知道2就是我的私钥，只有我才能解密，解密后就得到a。这样，我们就可以传送加密的', '', '<p><strong><span style=\"color:#76923c\">转载-&nbsp;<a href=\"https://www.cnblogs.com/baocheng/p/5910448.html\" target=\"_self\" title=\"转载自\"><span style=\"color:#76923c\">https://www.cnblogs.com/baocheng/p/5910448.html</span></a></span></strong></p><p>一、公钥加密<br/>假设一下，我找了两个数字，一个是1，一个是2。我喜欢2这个数字，就保留起来，不告诉你们(私钥），然后我告诉大家，1是我的公钥。</p><p>我有一个文件，不能让别人看，我就用1加密了。别人找到了这个文件，但是他不知道2就是解密的私钥啊，所以他解不开，只有我可以用<br/>数字2，就是我的私钥，来解密。这样我就可以保护数据了。</p><p>我的好朋友x用我的公钥1加密了字符a，加密后成了b，放在网上。别人偷到了这个文件，但是别人解不开，因为别人不知道2就是我的私钥，<br/>只有我才能解密，解密后就得到a。这样，我们就可以传送加密的数据了。</p><p><br/>&nbsp;<wbr/></p><p>二、私钥签名<br/>如果我用私钥加密一段数据（当然只有我可以用私钥加密，因为只有我知道2是我的私钥），结果所有的人都看到我的内容了，因为他们都知<br/>道我的公钥是1，那么这种加密有什么用处呢？</p><p>但是我的好朋友x说有人冒充我给他发信。怎么办呢？我把我要发的信，内容是c，用我的私钥2，加密，加密后的内容是d，发给x，再告诉他<br/>解密看是不是c。他用我的公钥1解密，发现果然是c。<br/>这个时候，他会想到，能够用我的公钥解密的数据，必然是用我的私钥加的密。只有我知道我得私钥，因此他就可以确认确实是我发的东西。<br/>这样我们就能确认发送方身份了。这个过程叫做数字签名。当然具体的过程要稍微复杂一些。用私钥来加密数据，用途就是数字签名。</p><p>&nbsp;<wbr/></p><p>总结：公钥和私钥是成对的，它们互相解密。</p><p>公钥加密，私钥解密。</p><p>私钥数字签名，公钥验证。</p><p>&nbsp;<wbr/></p><p>举例</p><p>比如有两个用户Alice和Bob，Alice想把一段明文通过双钥加密的技术发送给Bob，Bob有一对公钥和私钥，那么加密解密的过程如下：</p><ol style=\"border: 0px; list-style: none; color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"><li>Bob将他的公开密钥传送给Alice。</li><li>Alice用Bob的公开密钥加密她的消息，然后传送给Bob。</li><li>Bob用他的私人密钥解密Alice的消息。</li></ol><p>　　上面的过程可以用下图表示，Alice使用Bob的公钥进行加密，Bob用自己的私钥进行解密。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180704/2be50b8050996e62659a71b220086e3f.jpg\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180704/2be50b8050996e62659a71b220086e3f.jpg\"/></p><p>例子和图出自《网络安全基础 应用与标准第二版》</p><p>&nbsp;<wbr/></p><p>RSA算法</p><p>RSA 公钥加密算法是1977年由Ron Rivest、Adi Shamirh和LenAdleman在（美国麻省理工学院）开发的。RSA取名来自开发他们三者的名字。RSA是目前最有影响力的公钥加密算法，它能够 抵抗到目前为止已知的所有密码攻击，已被ISO推荐为公钥数据加密标准。RSA算法基于一个十分简单的数论事实：将两个大素数相乘十分容易，但那时想要对 其乘积进行因式分解却极其困难，因此可以将乘积公开作为加密密钥。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><a href=\"http://photo.blog.sina.com.cn/showpic.html#blogid=5d6f3fdd0102x0c0&url=http://album.sina.com.cn/pic/001I5n4hzy73dNEbyBL75\" target=\"_blank\"><img src=\"http://blog.ibicw.cn/uploads/umeditor/20180704/b75ef095bbaa9802a9b7a1d382c407de.jpg\" _src=\"http://blog.ibicw.cn/uploads/umeditor/20180704/b75ef095bbaa9802a9b7a1d382c407de.jpg\"/></a><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>实例演示：<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/></p><pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;Courier New&#39;;font-size:12.0pt;\"><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">generate</span>()<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$dn </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>(<br/>        <span style=\"color:#2aa198;\">&quot;commonName&quot; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;mySelf&#39;</span>, <span style=\"color:#93a1a1;font-style:italic;\">//公共名称<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#2aa198;\">&quot;emailAddress&quot; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;user@domain.com&#39; </span><span style=\"color:#93a1a1;font-style:italic;\">//邮箱<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span>);<br/>    <span style=\"color:#268bd2;\">$privkeypass </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;111111&#39;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//私钥密码<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$numberofdays </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">365</span>;     <span style=\"color:#93a1a1;font-style:italic;\">//有效时长<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$cerpath </span><span style=\"color:#079a71;\">= </span><span style=\"color:#d33682;\">ROOT_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;test.cer&quot;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//生成证书路径<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$pfxpath </span><span style=\"color:#079a71;\">= </span><span style=\"color:#d33682;\">ROOT_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;test.pfx&quot;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//密钥文件路径<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;/*if(!file_exists($cerpath)){<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;$counter_file &nbsp; &nbsp; &nbsp; = &nbsp; $cerpath;//文件名及路径,在当前目录下新建aa.txt文件<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;$fopen &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp; fopen($counter_file,&#39;wb&#39;);//新建文件命令<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;fputs($fopen, &nbsp; &#39;&#39;);//向文件中写入内容;<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;fclose($fopen);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;if(!file_exists($pfxpath)){<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;$counter_file &nbsp; &nbsp; &nbsp; = &nbsp; $pfxpath;//文件名及路径,在当前目录下新建aa.txt文件<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;$fopen &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp; fopen($counter_file,&#39;wb&#39;);//新建文件命令<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;fputs($fopen, &nbsp; &#39;&#39;);//向文件中写入内容;<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;fclose($fopen);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;}*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//生成证书<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$configargs </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>(<br/>        <span style=\"color:#2aa198;\">&quot;config&quot; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&quot;E:\\phpStudy\\Apache\\conf/openssl.cnf&quot;<br/></span><span style=\"color:#2aa198;\"> &nbsp; &nbsp;</span>);<br/><br/>    <span style=\"color:#93a1a1;font-style:italic;\">//$res = openssl_pkey_new();<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$privkey </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">openssl_pkey_new</span>(<span style=\"color:#268bd2;\">$configargs</span>);<br/>    <span style=\"color:#839496;\">dump</span>(<span style=\"color:#268bd2;\">$privkey</span>);  <span style=\"color:#93a1a1;font-style:italic;\">// resource(45) of type (OpenSSL key)<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$csr </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">openssl_csr_new</span>(<span style=\"color:#268bd2;\">$dn</span>,<span style=\"color:#268bd2;\">$privkey</span>,<span style=\"color:#268bd2;\">$configargs</span>);<br/>    <span style=\"color:#839496;\">dump</span>(<span style=\"color:#268bd2;\">$csr</span>);      <span style=\"color:#93a1a1;font-style:italic;\">// resource(47) of type (OpenSSL X.509 CSR)<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$sscert </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">openssl_csr_sign</span>(<span style=\"color:#268bd2;\">$csr</span>, <span style=\"color:#859900;\">null</span>, <span style=\"color:#268bd2;\">$privkey</span>, <span style=\"color:#268bd2;\">$numberofdays</span>,<span style=\"color:#268bd2;\">$configargs</span>);<br/>    <span style=\"color:#268bd2;\">$x509 </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">openssl_x509_export_to_file</span>(<span style=\"color:#268bd2;\">$sscert</span>, <span style=\"color:#268bd2;\">$cerpath</span>); <span style=\"color:#93a1a1;font-style:italic;\">//导出证书到文件<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#839496;\">dump</span>(<span style=\"color:#268bd2;\">$x509</span>);<br/>    <span style=\"color:#268bd2;\">$pkcs12 </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">openssl_pkcs12_export_to_file</span>(<span style=\"color:#268bd2;\">$sscert</span>, <span style=\"color:#268bd2;\">$pfxpath</span>, <span style=\"color:#268bd2;\">$privkey</span>, <span style=\"color:#268bd2;\">$privkeypass</span>); <span style=\"color:#93a1a1;font-style:italic;\">//生成密钥文件<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#839496;\">dump</span>(<span style=\"color:#268bd2;\">$pkcs12</span>);<br/><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">crypt</span>()<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;im data&#39;</span>;<br/>    <span style=\"color:#268bd2;\">$privkeypass </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">&#39;111111&#39;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//私钥密码<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$cerpath </span><span style=\"color:#079a71;\">= </span><span style=\"color:#d33682;\">ROOT_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;test.cer&quot;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//生成证书路径<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$pfxpath </span><span style=\"color:#079a71;\">= </span><span style=\"color:#d33682;\">ROOT_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&quot;test.pfx&quot;</span>; <span style=\"color:#93a1a1;font-style:italic;\">//密钥文件路径<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//私钥加密<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$cer_key </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">file_get_contents</span>(<span style=\"color:#268bd2;\">$pfxpath</span>); <span style=\"color:#93a1a1;font-style:italic;\">//获取密钥内容<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">openssl_pkcs12_read</span>(<span style=\"color:#268bd2;\">$cer_key</span>, <span style=\"color:#268bd2;\">$certs</span>, <span style=\"color:#268bd2;\">$privkeypass</span>);<br/>    <span style=\"color:#969483;font-style:italic;\">openssl_sign</span>(<span style=\"color:#268bd2;\">$data</span>, <span style=\"color:#268bd2;\">$signMsg</span>, <span style=\"color:#268bd2;\">$certs[</span><span style=\"color:#2aa198;\">&#39;pkey&#39;</span><span style=\"color:#268bd2;\">]</span>,<span style=\"color:#d33682;\">OPENSSL_ALGO_SHA1</span>); <span style=\"color:#93a1a1;font-style:italic;\">//注册生成加密信息<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$signMsg </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">base64_encode</span>(<span style=\"color:#268bd2;\">$signMsg</span>); <span style=\"color:#93a1a1;font-style:italic;\">//base64转码加密信息<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#268bd2;\">$signMsg</span>;<br/>    <span style=\"color:#859900;\">echo </span><span style=\"color:#2aa198;\">&#39;&lt;br /&gt;&#39;</span>;<br/><br/><br/>    <span style=\"color:#93a1a1;font-style:italic;\">//公钥解密<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$cer_key </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">file_get_contents</span>(<span style=\"color:#268bd2;\">$cerpath</span>); <span style=\"color:#93a1a1;font-style:italic;\">//获取证书内容<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$unsignMsg</span><span style=\"color:#079a71;\">=</span><span style=\"color:#969483;font-style:italic;\">base64_decode</span>(<span style=\"color:#268bd2;\">$signMsg</span>);<span style=\"color:#93a1a1;font-style:italic;\">//base64解码加密信息<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$cer </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">openssl_x509_read</span>(<span style=\"color:#268bd2;\">$cer_key</span>); <span style=\"color:#93a1a1;font-style:italic;\">//读取公钥<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$res </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">openssl_verify</span>(<span style=\"color:#268bd2;\">$data</span>, <span style=\"color:#268bd2;\">$unsignMsg</span>, <span style=\"color:#268bd2;\">$cer</span>); <span style=\"color:#93a1a1;font-style:italic;\">//验证<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">echo </span><span style=\"color:#268bd2;\">$res</span>; <span style=\"color:#93a1a1;font-style:italic;\">//输出验证结果，1：验证成功，0：验证失败<br/></span><span style=\"color:#dc322f;\">}</span></pre><p>一个简单的加密解密类：<br/><br/>class RsaCrypt {<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;const PRIVATE_KEY_FILE_PATH = &#39;./rsa_private_key.pem&#39;;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;const PUBLIC_KEY_FILE_PATH = &#39;./rsa_public_key.pem&#39;;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;public static function encode($orignData) {<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;//密钥文件的路径<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;$privateKeyFilePath = self::PRIVATE_KEY_FILE_PATH;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;extension_loaded(&#39;openssl&#39;) or die(&#39;php需要openssl扩展支持&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;(file_exists($privateKeyFilePath)) or die(&#39;密钥的文件路径不正确&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;//生成Resource类型的密钥，如果密钥文件内容被破坏，openssl_pkey_get_private函数返回false<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;$privateKey = openssl_pkey_get_private(file_get_contents($privateKeyFilePath));<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;($privateKey) or die(&#39;密钥不可用&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;//加密以后的数据，用于在网路上传输<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;$encryptData&nbsp;= &#39;&#39;;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;///////////////////////////////用私钥加密////////////////////////<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;if (openssl_private_encrypt($orignData, $encryptData, $privateKey)) {<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;return $encryptData;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;} else {<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;die(&#39;加密失败&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;}<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;}<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;public static function decode($encryptData) {<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;//公钥文件的路径<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;$publicKeyFilePath = self::PUBLIC_KEY_FILE_PATH;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;extension_loaded(&#39;openssl&#39;) or die(&#39;php需要openssl扩展支持&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;(file_exists($publicKeyFilePath)) or die(&#39;公钥的文件路径不正确&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;//生成Resource类型的公钥，如果公钥文件内容被破坏，openssl_pkey_get_public函数返回false<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;$publicKey = openssl_pkey_get_public(file_get_contents($publicKeyFilePath));<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;($publicKey) or die(&#39;公钥不可用&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;//解密以后的数据<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;$decryptData = &#39;&#39;;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;///////////////////////////////用公钥解密////////////////////////<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;if (openssl_public_decrypt($encryptData, $decryptData, $publicKey)) {<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;return $decryptData;<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;} else {<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;die(&#39;解密失败&#39;);<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;}<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;<wbr style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>&nbsp;}<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>}<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>特别说明：<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>x509，公钥证书，只有公钥。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>p7，签名或加密。可以往里面塞x509，同时没有签名或加密内容。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>p12，含有私钥，同时可以有公钥，有口令保护。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>p7的作用就是电子信封。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>X509是基本规范<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>P7和P12是两个实现规范，P7是数字信封，P12是带有私钥的证书规范。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>x509是数字证书的规范，P7和P12是两种封装形式。比如说同样的电影，有的是avi格式，有的是mpg，大概就这个意思。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>P7一般是把证书分成两个文件，一个公钥一个私钥，有PEM和DER两种编码方式。PEM比较多见，就是纯文本的，P7一般是分发公钥用，看到的就是一串可见字符串，扩展名经常是.crt,.cer,.key等。DER是二进制编码。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>P12是把证书压成一个文件，.pfx 。主要是考虑分发证书，私钥是要绝对保密的，不能随便以文本方式散播。所以P7格式不适合分发。.pfx中可以加密码保护，所以相对安全些。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>在实践中要中，用户证书都是放在USB Key中分发，服务器证书经常还是以文件方式分发。服务器证书和用户证书，都是X509证书，就是里面的属性有区别。<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/><br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>X509 是证书规范<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>PKCS#7 是消息语法 （常用于数字签名与加密）<br style=\"color: rgb(50, 62, 50); font-family: &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, SimSun; font-size: 14px; white-space: normal; background-color: rgb(15, 15, 15);\"/>PKCS#12 个人消息交换与打包语法 （如.PFX .P12）打包成带公钥与私钥<br/></p><p><br/></p>', '2018-07-04 17:01:23', '2018-07-31 10:38:55', null, null, '58', '1', '0', '/index/article/show/id/50.html');
INSERT INTO `blog_article` VALUES ('53', '21', 'Linux - 字符处理', 'Linux ，字符处理', '1.管道  |      管道，是一个固定大小的缓冲区，缓冲区大小为1页，即4K字节     是一种使用非常频繁的通信机制  用“|”来连接进程，自动运行     看下下面两个命令     [root@localhost ~]# ls -l /etc     [root@localhost ~]# ls -l /etc', '', '<p><span style=\"color:#76923c\"><strong>1.管道&nbsp; |&nbsp;</strong></span></p><p>&nbsp; &nbsp; &nbsp;管道，是一个固定大小的缓冲区，缓冲区大小为1页，即4K字节</p><p>&nbsp; &nbsp; &nbsp;是一种使用非常频繁的通信机制&nbsp; 用“|”来连接进程，自动运行</p><p>&nbsp; &nbsp; &nbsp;看下下面两个命令</p><p>&nbsp; &nbsp; &nbsp;[root@localhost ~]# ls -l /etc</p><p>&nbsp; &nbsp; &nbsp;<span style=\"white-space: normal;\">[root@localhost ~]# ls -l /etc <strong><span style=\"color:#76923c\">| more</span></strong></span></p><p><span style=\"white-space: normal;\"><br/></span></p><p><span style=\"white-space: normal;\">&nbsp; &nbsp; <span style=\"color:#76923c\">&nbsp;<strong>more&nbsp; 命令参数</strong></span></span></p><ul style=\"box-sizing: border-box; outline: 0px; margin-bottom: 24px; list-style: none; word-break: break-all; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-size: 14px; white-space: normal;\"><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">空格键（Space）</span>：代表向下翻一页。</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Enter</span>：代表向下滚动一行。</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">/字符串</span>：代表在当前显示的内容中，向下查找“字符串”这个关键字。</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">:f</span>：立刻显示出文件名与当前的行号。</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">q</span>：代表立即退出，不予显示。</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 32px; list-style-type: disc; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">b或[ctrl]-b</span>：往回翻，不过该操作只对文件有用。</li></ul><p><strong><span style=\"color:#76923c\"><span style=\"white-space: normal;\"></span>2.grep搜索文本</span></strong></p><p>&nbsp; &nbsp; &nbsp;</p><p>[root@localhost tmp]# echo &quot;whl is a php developer&quot;<span style=\"color:#76923c\"><strong> &gt;&gt;</strong></span> 2018070502.txt&nbsp;</p><p>[root@localhost tmp]#<span style=\"color:#76923c\"><strong> cat</strong></span> 2018070502.txt&nbsp;</p><p>whl is a php developer</p><p>[root@localhost tmp]# echo &quot;php is the best language&quot; &gt;&gt; 2018070502.txt&nbsp;</p><p>[root@localhost tmp]# cat 2018070502.txt&nbsp;</p><p>whl is a php developer</p><p>php is the best language</p><p>[root@localhost tmp]# <span style=\"color:#76923c\">grep &#39;php&#39; 2018070502.txt&nbsp;</span></p><p>whl is a <span style=\"color:#76923c\">php</span> developer</p><p><span style=\"color:#76923c\">php </span>is the best language</p><p>[root@localhost tmp]# echo &quot;I like PHP&quot; &gt;&gt; 2018070502.txt&nbsp;</p><p>[root@localhost tmp]# <span style=\"color:#76923c\">grep &#39;php&#39; 2018070502.txt&nbsp;</span></p><p>whl is a <span style=\"color:#76923c\">php </span>developer</p><p><span style=\"color:#76923c\">php </span>is the best language</p><p>[root@localhost tmp]# <span style=\"color:#76923c\">grep -i &#39;php&#39; 2018070502.txt&nbsp;</span></p><p>whl is a <span style=\"color:#76923c\">php </span>developer</p><p><span style=\"color:#76923c\">php </span>is the best language</p><p>I like <span style=\"color:#76923c\">PHP</span></p><p>[root@localhost tmp]#<span style=\"color:#76923c\"> grep -n &#39;php&#39; 2018070502.txt&nbsp;</span></p><p><span style=\"color:#ff0000\">1:</span>whl is a php developer</p><p><span style=\"color:#ff0000\">2:</span>php is the best language</p><p>[root@localhost tmp]#<span style=\"color:#76923c\"> grep</span><span style=\"color:#ff0000\"> -n -i</span><span style=\"color:#76923c\"> &#39;php&#39; 2018070502.txt&nbsp;</span></p><p><span style=\"color:#ff0000\">1</span>:whl is a <span style=\"color:#ff0000\">php</span> developer</p><p><span style=\"color:#ff0000\">2</span>:<span style=\"color:#ff0000\">php </span>is the best language</p><p><span style=\"color:#ff0000\">3</span>:I like <span style=\"color:#ff0000\">PHP</span></p><p>[root@localhost tmp]# <span style=\"color:#76923c\">grep</span><span style=\"color:#ff0000\"> -n -i -c</span><span style=\"color:#76923c\">&nbsp; &#39;php&#39; 2018070502.txt&nbsp;</span></p><p><span style=\"color:#ff0000\">3</span></p><p>[root@localhost tmp]#<span style=\"color:#76923c\"> grep </span><span style=\"color:#ff0000\">-c</span><span style=\"color:#76923c\">&nbsp; &#39;php&#39; 2018070502.txt&nbsp;</span></p><p><span style=\"color:#ff0000\">2</span></p><p>[root@localhost tmp]# <span style=\"color:#76923c\">grep&nbsp; </span><span style=\"color:#ff0000\">-i -c</span><span style=\"color:#76923c\">&nbsp; &#39;php&#39; 2018070502.txt&nbsp;</span></p><p><span style=\"color:#ff0000\">3</span></p><p>[root@localhost tmp]# <span style=\"color:#76923c\">grep&nbsp;</span><span style=\"color:#ff0000\"> -v&nbsp;</span><span style=\"color:#76923c\"> &#39;php&#39; 2018070502.txt&nbsp;</span></p><p>I like <span style=\"color:#ff0000\">PHP</span></p><p>[root@localhost tmp]# <span style=\"color:#76923c\">grep&nbsp;</span><span style=\"color:#ff0000\"> -i -v</span><span style=\"color:#76923c\">&nbsp; &#39;php&#39; 2018070502.txt&nbsp;</span></p><p><br/></p><p><strong><span style=\"color:#76923c\">3.sort排序&nbsp; .......</span></strong></p>', '2018-07-05 13:23:59', '2018-07-09 13:37:50', null, null, '63', '1', '0', '/index/article/show/id/53.html');
INSERT INTO `blog_article` VALUES ('54', '9', 'PHP 函数整理', '函数,整理', '&lt;?php/** * Created by PhpStorm. * User: Administrator * Date: 2018/7/6/006 * Time: 19:54 *//*if($fp = fsockopen(&#39;103.212.33.2&#39;,&#39;8009&#39;)){ &nbsp; &nbsp;//连接成功 &nbsp; &nbsp;$request_data=&quot;HTTP/1.1&quot;.&quot;\\r\\n&quot;;//请求行 &nb', '', '<pre style=\"font-family: &quot;Source Code Pro&quot;; font-size: 10.8pt;\"><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">&lt;?php<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * Created by PhpStorm.<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * User: Administrator<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * Date: 2018/7/6/006<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * Time: 19:54<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/*<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">if($fp = fsockopen(&#39;103.212.33.2&#39;,&#39;8009&#39;)){<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">连接成功</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data=&quot;HTTP/1.1&quot;.&quot;\\r\\n&quot;;//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">请求行</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data.=&quot;Host:127.0.0.1&quot;.&quot;\\r\\n&quot;;//host</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">头信息</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data.=&quot;User-Agent:Mozilla/5.0(compatible;MSIE 9.0;Windows NT 6.1;Trident/5.0)&quot;.&quot;\\r\\n&quot;;//host</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">头信息</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_content=&quot;username=&quot;.urlencode(&#39;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">温柔一刀</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">&#39;)<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;.&quot;&amp;pwd=&quot;.urlencode(&#39;&amp;123=321&amp;321=123&amp;&#39;)<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;.&quot;&amp;intro=&quot;.urlencode(&quot;Hello world!&quot;);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data.=&quot;Content-Type:application/x-www-form-urlencoded&quot;.&quot;\\r\\n&quot;;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data.=&quot;Content-Length:&quot;.strlen($request_content).&quot;\\r\\n&quot;;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$cur_query=urlencode(&quot;you&amp;me&quot;);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$last_tm=time()-10*60;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$cur_tm=time();<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data.=&quot;Cookie:cur_query=$cur_query;last_tm=$last_tm;cur_tm=$cur_tm&quot;.&quot;\\r\\n&quot;;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data.=&quot;\\r\\n&quot;;//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">请求头信息结束时的空行</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">请求主体数据部分</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$request_data.=$request_content;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">利用建立好的通道，将数据发送过去</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;fwrite($fp,$request_data);//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">写入数据（发送数据）</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">读取数据</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;while(!feof($fp)){//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">判断是否没有到文件末尾</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;$resp_data=fgets($fp);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;echo$resp_data.&#39;&lt;br&gt;&lt;hr /&gt;&#39;;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;}<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">}*/<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//fsocket</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">模拟</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">post</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">提交<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$url </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;http://localhost/fstest.php?site=nowamagic.net&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//echo $query;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//sock_get($url, $query);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//fsocket</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">模拟</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">get</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">提交<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">sock_get(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$query</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$data </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;foo&#39; </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;bar&#39;</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;baz&#39; </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;boom&#39;</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;site&#39; </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;www.nowamagic.net&#39;</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;name&#39; </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;nowa magic&#39;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$query_str </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">http_build_query</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$data</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$info </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">parse_url</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$fp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">fsockopen</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;host&quot;</span><span style=\"background-color:#f7faff;\">], </span><span style=\"color:#0000ff;background-color:#f7faff;\">80</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$errno</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$errstr</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">3</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//$head = &quot;GET &quot;.$info[&#39;path&#39;].&quot;?&quot;.$info[&quot;query&quot;].&quot; HTTP/1.0\\r\\n&quot;;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;GET &quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;path&#39;</span><span style=\"background-color:#f7faff;\">] . </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;?&quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$query_str </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot; HTTP/1.0</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;Host: &quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;host&#39;</span><span style=\"background-color:#f7faff;\">] . </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">fputs</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$head</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while </span><span style=\"background-color:#f7faff;\">(!</span><span style=\"background-color:#f7faff;font-style:italic;\">feof</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$line </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">fread</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">4096</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">var_dump</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$line </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;===============&quot;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">fclose</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//sock_get($url,&quot;user=gonn&quot;);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">sock_post(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$query</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$info </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">parse_url</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$fp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">fsockopen</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;host&quot;</span><span style=\"background-color:#f7faff;\">], </span><span style=\"color:#0000ff;background-color:#f7faff;\">80</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$errno</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$errstr</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">3</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;POST &quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;path&#39;</span><span style=\"background-color:#f7faff;\">] . </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;?&quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;query&quot;</span><span style=\"background-color:#f7faff;\">] . </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot; HTTP/1.0</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;Host: &quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;host&#39;</span><span style=\"background-color:#f7faff;\">] . </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;Referer: http://&quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;host&#39;</span><span style=\"background-color:#f7faff;\">] . </span><span style=\"color:#660000;background-color:#f7faff;\">$info</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;path&#39;</span><span style=\"background-color:#f7faff;\">] . </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;Content-type: application/x-www-form-urlencoded</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;Content-Length: &quot; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"background-color:#f7faff;font-style:italic;\">strlen</span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">trim</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$query</span><span style=\"background-color:#f7faff;\">)) . </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\r\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$head </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"background-color:#f7faff;font-style:italic;\">trim</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$query</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$write </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">fputs</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$head</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while </span><span style=\"background-color:#f7faff;\">(!</span><span style=\"background-color:#f7faff;font-style:italic;\">feof</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$line </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">fread</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">4096</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$line</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">fclose</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//sock_post($url,&quot;user=gonn&quot;);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * POST<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">发送数据到 </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">www.10086.cn </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">实现登录<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">数据包为 </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">usename=abc &nbsp;password=123<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//POST www.10086.cn HTTP/1.1<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Accept:text/html,application/xhtml+xml,*/*<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Referer:http://localhost/a.html<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Accept-Language:zh-CN<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//User-Agent:Mozilla/5.0(compatible;MSIE 10.0;Windows NT 6.1;WOW64;Trident/6.0;<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//KB974487)<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Content-Type:application/x-www-form-urlencoded<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Accept-Encoding:gzip,deflate<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Host:localhost<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Content-Length:25<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Connection:Keep-Alive<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//username=abc&amp;password=123<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">创建多级目录<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$path<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $mode<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">bool<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> */<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">create_dir(</span><span style=\"color:#660000;background-color:#f7faff;\">$path</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$mode </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0777</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">is_dir</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$path</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return true</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">mkdir</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$path</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$mode</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">true</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return true</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return false</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">grabIamge(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$filename </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&#39;</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">empty</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;empty url&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">exit</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获取文件后缀 &nbsp;含</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">.<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$ext </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">strrchr</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;.&#39;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">empty</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$filename</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$ext </span><span style=\"background-color:#f7faff;\">!= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;.jpg&#39; </span><span style=\"background-color:#f7faff;\">&amp;&amp; </span><span style=\"color:#660000;background-color:#f7faff;\">$ext </span><span style=\"background-color:#f7faff;\">!= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;jpeg&#39; </span><span style=\"background-color:#f7faff;\">&amp;&amp; </span><span style=\"color:#660000;background-color:#f7faff;\">$ext </span><span style=\"background-color:#f7faff;\">!= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;png&#39;</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;not image file&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">exit</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$filename </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">date</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;YmdHis&#39;</span><span style=\"background-color:#f7faff;\">) . </span><span style=\"color:#660000;background-color:#f7faff;\">$ext</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;} </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else </span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$filename </span><span style=\"background-color:#f7faff;\">.= </span><span style=\"color:#660000;background-color:#f7faff;\">$ext</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">开启输出<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">ob_start</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">输出图片文件<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">readfile</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">得到浏览器输出<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$img </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">ob_get_contents</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">清除输出并关闭<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">ob_end_clean</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获取图片大小<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$size </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">strlen</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$img</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">操作文件形式将图片保存<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/*<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;$fp2 = @fopen($filename,&#39;a&#39;);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;fwrite($fp2,$img);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;fclose($fp2);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;echo $filename.&#39; &nbsp;create success&#39;;*/<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;// file_Pu_content</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">来实现<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$res </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">file_put_contents</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$filename</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$img</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$res</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$filename </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39; &nbsp;create success&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;} </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else </span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$filename </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39; &nbsp;create fail&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//grabIamge(&#39;http://imgsrc.baidu.com/baike/abpic/item/6648d73db0edd1e89f3d62f7.jpg&#39;,&#39;201807062049&#39;);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">确保多个进程同时写入同一个文件成功<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$fp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">fopen</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;lock.txt&quot;</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;a+&quot;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">flock</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;font-style:italic;\">LOCK_EX</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获得写锁，写数据<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">fwrite</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;write something aaaa </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">解除锁定<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">flock</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;font-style:italic;\">LOCK_UN</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\">} </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else </span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;file is locking...&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">fclose</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$fp</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">方案一<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">getExt1(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">parse_url</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//Array ( [scheme] =&gt; http [host] =&gt; www.sina.com.cn [path] =&gt; /abc/de/fg.php [query] =&gt; id=1 )<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$file </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">basename</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;path&#39;</span><span style=\"background-color:#f7faff;\">]);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$ext </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">explode</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;.&#39;</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$file</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$ext</span><span style=\"background-color:#f7faff;\">[</span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$ext</span><span style=\"background-color:#f7faff;\">) - </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">方案二<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">getExt2(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$url </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">basename</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$pos1 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">strpos</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;.&#39;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$pos2 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">strpos</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;?&#39;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">strstr</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;?&#39;</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">substr</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$pos1 </span><span style=\"background-color:#f7faff;\">+ </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$pos2 </span><span style=\"background-color:#f7faff;\">- </span><span style=\"color:#660000;background-color:#f7faff;\">$pos1 </span><span style=\"background-color:#f7faff;\">- </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;} </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else </span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">substr</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$url</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$pos1</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#660000;background-color:#f7faff;\">$path </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;http://www.sina.com.cn/abc/de/fg.php?id=1&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">getExt1(</span><span style=\"color:#660000;background-color:#f7faff;\">$path</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;&lt;br /&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">getExt2(</span><span style=\"color:#660000;background-color:#f7faff;\">$path</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">_scandir(</span><span style=\"color:#660000;background-color:#f7faff;\">$dir</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$files </span><span style=\"background-color:#f7faff;\">= [];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">is_dir</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$dir</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$handle </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">opendir</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$dir</span><span style=\"background-color:#f7faff;\">)) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while </span><span style=\"background-color:#f7faff;\">((</span><span style=\"color:#660000;background-color:#f7faff;\">$file </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">readdir</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$handle</span><span style=\"background-color:#f7faff;\">)) !== </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">false</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$file </span><span style=\"background-color:#f7faff;\">!= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;.&#39; </span><span style=\"background-color:#f7faff;\">&amp;&amp; </span><span style=\"color:#660000;background-color:#f7faff;\">$file </span><span style=\"background-color:#f7faff;\">!= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;..&#39;</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$files</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$file</span><span style=\"background-color:#f7faff;\">] = _scandir(</span><span style=\"color:#660000;background-color:#f7faff;\">$dir </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;/&#39; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$file</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else </span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$files</span><span style=\"background-color:#f7faff;\">[] = </span><span style=\"color:#660000;background-color:#f7faff;\">$dir </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;/&#39; </span><span style=\"background-color:#f7faff;\">. </span><span style=\"color:#660000;background-color:#f7faff;\">$file</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">closedir</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$handle</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$files</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&lt;pre /&gt;&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(_scandir(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;E:\\phpstudy2018\\PHPTutorial\\WWW\\note&#39;</span><span style=\"background-color:#f7faff;\">));<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">一个无限极分类<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">tree(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$pid </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$level </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">static </span><span style=\"color:#660000;background-color:#f7faff;\">$list </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">foreach </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">as </span><span style=\"color:#660000;background-color:#f7faff;\">$v</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">如果是顶级分类，则将其存到</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$list</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">中，并以此节点为根节点，遍历其子节点<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$v</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;parent_id&#39;</span><span style=\"background-color:#f7faff;\">] == </span><span style=\"color:#660000;background-color:#f7faff;\">$pid</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$v</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;level&#39;</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$level</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$list</span><span style=\"background-color:#f7faff;\">[] = </span><span style=\"color:#660000;background-color:#f7faff;\">$v</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tree(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$v</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;cat_id&#39;</span><span style=\"background-color:#f7faff;\">], </span><span style=\"color:#660000;background-color:#f7faff;\">$level </span><span style=\"background-color:#f7faff;\">+ </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$list</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">计算两个文件的相对路径<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$path1<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$path2<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">string<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> */<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">releative_path(</span><span style=\"color:#660000;background-color:#f7faff;\">$path1</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$path2</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr1 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">explode</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;/&quot;</span><span style=\"background-color:#f7faff;\">, </span><span style=\"background-color:#f7faff;font-style:italic;\">dirname</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$path1</span><span style=\"background-color:#f7faff;\">));<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr2 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">explode</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;/&quot;</span><span style=\"background-color:#f7faff;\">, </span><span style=\"background-color:#f7faff;font-style:italic;\">dirname</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$path2</span><span style=\"background-color:#f7faff;\">));<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$len </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr2</span><span style=\"background-color:#f7faff;\">); </span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$len</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">++) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr1</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">] != </span><span style=\"color:#660000;background-color:#f7faff;\">$arr2</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">]) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">break</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">不在同一个根目录下<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">== </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$return_path </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">在同一个根目录下<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">!= </span><span style=\"color:#0000ff;background-color:#f7faff;\">1 </span><span style=\"background-color:#f7faff;\">&amp;&amp; </span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$len</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$return_path </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">array_fill</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$len </span><span style=\"background-color:#f7faff;\">- </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;..&quot;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">在同一个目录下<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">== </span><span style=\"color:#660000;background-color:#f7faff;\">$len</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$return_path </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;./&#39;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$return_path </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">array_merge</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$return_path</span><span style=\"background-color:#f7faff;\">, </span><span style=\"background-color:#f7faff;font-style:italic;\">array_slice</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr1</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">));<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">implode</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;/&#39;</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$return_path</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#660000;background-color:#f7faff;\">$a </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;/a/b/c/d/e.php&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$b </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;/a/b/12/34/c.php&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$c </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;/e/b/c/d/f.php&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$d </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;/a/b/c/d/g.php&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">releative_path(</span><span style=\"color:#660000;background-color:#f7faff;\">$a</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$b</span><span style=\"background-color:#f7faff;\">);</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">结果是</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">../../c/d<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;&lt;br /&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">releative_path(</span><span style=\"color:#660000;background-color:#f7faff;\">$a</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$c</span><span style=\"background-color:#f7faff;\">);</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">结果是</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">a/b/c/d<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;&lt;br /&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">releative_path(</span><span style=\"color:#660000;background-color:#f7faff;\">$a</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$d</span><span style=\"background-color:#f7faff;\">);</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">结果是</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">./<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;&lt;br /&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获取网页内容<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">*/<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$readcontents</span><span style=\"background-color:#f7faff;\">=</span><span style=\"background-color:#f7faff;font-style:italic;\">fopen</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;http://crm.hhrk.com&quot;</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;rb&quot;</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$contents</span><span style=\"background-color:#f7faff;\">=</span><span style=\"background-color:#f7faff;font-style:italic;\">stream_get_contents</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$readcontents</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">fclose</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$readcontents</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$contents</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * PHP</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">如何实现页面跳转<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">*/<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">方法一：</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">php</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">函数跳转，缺点，</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">header</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">头之前不能有输出，跳转后的程序继续执行，可用</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">exit</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">中断执行后面的程序。<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">header</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;Location:</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;font-family:&#39;宋体&#39;;\">网址</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">);</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">直接跳转<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">header</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;refresh:3;url=http://axgle.za.net&quot;</span><span style=\"background-color:#f7faff;\">);</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">三秒后跳转<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">方法二：利用</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">meta<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;&lt;meta http-equiv=refresh content=&#39;0;url=</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;font-family:&#39;宋体&#39;;\">网址</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span></pre><p><br/></p>', '2018-07-06 21:21:37', '2018-07-06 21:22:04', null, null, '55', '0', '0', '/index/article/show/id/54.html');
INSERT INTO `blog_article` VALUES ('55', '22', 'MYSQL 自定义函数', '', 'mysql&gt; select * from depts;+----+-----------+---------+-----------+| id | parent_id | type_id | dept_name |+----+-----------+---------+-----------+|&nbsp; 1 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 |&nbsp; &nbsp; &nbsp; 11 | TG&nbsp; &nbsp; &nbsp; &nb', '', '<p><span style=\"white-space: nowrap;\">mysql&gt; select * from depts;</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">| id | parent_id | type_id | dept_name |</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 1 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 |&nbsp; &nbsp; &nbsp; 11 | TG&nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 2 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 |&nbsp; &nbsp; &nbsp; &nbsp;1 | SG&nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 3 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 |&nbsp; &nbsp; &nbsp; &nbsp;2 | 设计部&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 4 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 |&nbsp; &nbsp; &nbsp; &nbsp;2 | 研发部&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 5 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 |&nbsp; &nbsp; &nbsp; &nbsp;1 | 产品部&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 6 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1 |&nbsp; &nbsp; &nbsp; &nbsp;5 | 运维&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 7 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6 |&nbsp; &nbsp; &nbsp; &nbsp;2 | 安全&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 8 |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6 |&nbsp; &nbsp; &nbsp; &nbsp;2 | 网络&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+-----------+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">8 rows in set (0.00 sec)</span></p><p><br/></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from users;</span></p><p><span style=\"white-space: nowrap;\">+----+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">| id | dept_id | user_name |</span></p><p><span style=\"white-space: nowrap;\">+----+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 1 |&nbsp; &nbsp; &nbsp; &nbsp;3 | 啊&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 2 |&nbsp; &nbsp; &nbsp; &nbsp;3 | 不&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 3 |&nbsp; &nbsp; &nbsp; &nbsp;3 | 从&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 4 |&nbsp; &nbsp; &nbsp; &nbsp;4 | 好&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 5 |&nbsp; &nbsp; &nbsp; &nbsp;4 | 了&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 6 |&nbsp; &nbsp; &nbsp; &nbsp;4 | 有&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 7 |&nbsp; &nbsp; &nbsp; &nbsp;5 | 人&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 8 |&nbsp; &nbsp; &nbsp; &nbsp;7 | 怕&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 9 |&nbsp; &nbsp; &nbsp; &nbsp;7 | 去&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">| 10 |&nbsp; &nbsp; &nbsp; &nbsp;8 | 的&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| 11 |&nbsp; &nbsp; &nbsp; &nbsp;8 | 个&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">11 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt;&nbsp;delimiter $$</span></p><p><span style=\"white-space: nowrap;\"></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; use mdapp$$</span></p><p><span style=\"white-space: nowrap;\">Database changed</span></p><p><span style=\"white-space: nowrap;\">mysql&gt;&nbsp; create function search_user(dept_id INT)</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; returns TEXT</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; BEGIN</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; declare child_id TEXT;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; declare temp TEXT;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; set temp=&#39;&#39;;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; set child_id = dept_id;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; WHILE child_id is NOT null DO</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; set temp=CONCAT(temp,&#39;,&#39;,child_id);</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; select group_concat(id) into child_id from depts where find_in_set(parent_id,child_id)&gt;0;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; end while;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt;&nbsp; &nbsp; &nbsp; return temp;</span></p><p><span style=\"white-space: nowrap;\">&nbsp; &nbsp; -&gt; end;$$</span></p><p><span style=\"white-space: nowrap;\">Query OK, 0 rows affected (0.00 sec)</span></p><p><br/></p><p><span style=\"white-space: nowrap;\">mysql&gt; select search_user(1)$$</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\"></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select search_user(1);</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">| search_user(1) |</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">| ,1,3,4,6,7,8&nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">+----------------+</span></p><p><span style=\"white-space: nowrap;\">1 row in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span></p><p><span style=\"white-space: nowrap;\">mysql&gt; select * from users where find_in_set(dept_id,search_user(1));</span></p><p><span style=\"white-space: nowrap;\">+----+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">| id | dept_id | user_name |</span></p><p><span style=\"white-space: nowrap;\">+----+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 1 |&nbsp; &nbsp; &nbsp; &nbsp;3 | 啊&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 2 |&nbsp; &nbsp; &nbsp; &nbsp;3 | 不&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 3 |&nbsp; &nbsp; &nbsp; &nbsp;3 | 从&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 4 |&nbsp; &nbsp; &nbsp; &nbsp;4 | 好&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 5 |&nbsp; &nbsp; &nbsp; &nbsp;4 | 了&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 6 |&nbsp; &nbsp; &nbsp; &nbsp;4 | 有&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 8 |&nbsp; &nbsp; &nbsp; &nbsp;7 | 怕&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">|&nbsp; 9 |&nbsp; &nbsp; &nbsp; &nbsp;7 | 去&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</span></p><p><span style=\"white-space: nowrap;\">| 10 |&nbsp; &nbsp; &nbsp; &nbsp;8 | 的&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">| 11 |&nbsp; &nbsp; &nbsp; &nbsp;8 | 个&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</span></p><p><span style=\"white-space: nowrap;\">+----+---------+-----------+</span></p><p><span style=\"white-space: nowrap;\">10 rows in set (0.00 sec)</span></p><p><span style=\"white-space: nowrap;\"><br/></span><br/></p><p><br/></p>', '2018-07-11 19:26:13', '2018-07-11 19:28:13', null, null, '68', '0', '0', '/index/article/show/id/55.html');
INSERT INTO `blog_article` VALUES ('56', '9', 'PHP-excel', '', 'public function export(){ &nbsp; &nbsp;vendor(&#39;PHPExcel.PHPExcel&#39;);    vendor(&#39;PHPExcel.PHPExcel.IOFactory&#39;);    $objExcel = new \\PHPExcel();    // 下面这些参数没看到效果 &nbsp; &nbsp;/* &nbsp; &nbsp;//创建人 &nbsp; &nbsp;$objExcel-&gt;getPropertie', '', '<pre style=\"background-color:#fdf6e3;color:#586e75;font-family:&#39;DejaVu Sans Mono&#39;;font-size:12.0pt;\"><span style=\"color:#859900;\">public function </span><span style=\"color:#839496;\">export</span>()<br/><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#839496;\">vendor</span>(<span style=\"color:#2aa198;\">&#39;PHPExcel.PHPExcel&#39;</span>);<br/>    <span style=\"color:#839496;\">vendor</span>(<span style=\"color:#2aa198;\">&#39;PHPExcel.PHPExcel.IOFactory&#39;</span>);<br/>    <span style=\"color:#268bd2;\">$objExcel </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span>\\<span style=\"color:#839496;\">PHPExcel</span>();<br/>    <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">下面这些参数没看到效果<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">/*<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">创建人</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;$objExcel-&gt;getProperties()-&gt;setCreator(&quot;Maarten Balliauw&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">最后修改人</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;$objExcel-&gt;getProperties()-&gt;setLastModifiedBy(&quot;Maarten Balliauw&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">标题</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;$objExcel-&gt;getProperties()-&gt;settitle(&quot;Office 2007 XLSX Test Document&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">题目</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;$objExcel-&gt;getProperties()-&gt;setSubject(&quot;Office 2007 XLSX Test Document&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">描述</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;$objExcel-&gt;getProperties()-&gt;setDescription(&quot;Test document for Office 2007 XLSX, generated using PHP classes.&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">关键字</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;$objExcel-&gt;getProperties()-&gt;setKeywords(&quot;office 2007 openxml php&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">种类</span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;$objExcel-&gt;getProperties()-&gt;setCategory(&quot;Test result file&quot;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$data </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[<br/></span><span style=\"color:#268bd2;\"> &nbsp; &nbsp; &nbsp; &nbsp;[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;aaa&#39;</span>, <span style=\"color:#2aa198;\">&#39;age&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;bbb&#39;</span>,<span style=\"color:#2aa198;\">&#39;level&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&#39;waring&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>        <span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ccc&#39;</span>, <span style=\"color:#2aa198;\">&#39;age&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ddd&#39;</span>,<span style=\"color:#2aa198;\">&#39;image&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#d33682;\">ROOT_PATH</span><span style=\"color:#079a71;\">.</span><span style=\"color:#2aa198;\">&#39;404_bg.png&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>        <span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ccc&#39;</span>, <span style=\"color:#2aa198;\">&#39;age&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ddd&#39;</span>,<span style=\"color:#2aa198;\">&#39;level&#39;</span><span style=\"color:#079a71;\">=&gt;</span><span style=\"color:#2aa198;\">&#39;success&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>        <span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ccc&#39;</span>, <span style=\"color:#2aa198;\">&#39;age&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ddd&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>        <span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ccc&#39;</span>, <span style=\"color:#2aa198;\">&#39;age&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;ddd&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>    <span style=\"color:#268bd2;\">]</span>;<br/>    <span style=\"color:#268bd2;\">$header </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">[<br/></span><span style=\"color:#268bd2;\"> &nbsp; &nbsp; &nbsp; &nbsp;[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">姓名</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#2aa198;\">&#39;field&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;name&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>        <span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">年龄</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#2aa198;\">&#39;field&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;age&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>        <span style=\"color:#268bd2;\">[</span><span style=\"color:#2aa198;\">&#39;name&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">图片</span><span style=\"color:#2aa198;\">&#39;</span>, <span style=\"color:#2aa198;\">&#39;field&#39; </span><span style=\"color:#079a71;\">=&gt; </span><span style=\"color:#2aa198;\">&#39;image&#39;</span><span style=\"color:#268bd2;\">]</span>,<br/>    <span style=\"color:#268bd2;\">]</span>;<br/>    <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">横向单元格标识<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$cellName </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">array</span>(<span style=\"color:#2aa198;\">&#39;A&#39;</span>, <span style=\"color:#2aa198;\">&#39;B&#39;</span>, <span style=\"color:#2aa198;\">&#39;C&#39;</span>, <span style=\"color:#2aa198;\">&#39;D&#39;</span>, <span style=\"color:#2aa198;\">&#39;E&#39;</span>, <span style=\"color:#2aa198;\">&#39;F&#39;</span>, <span style=\"color:#2aa198;\">&#39;G&#39;</span>, <span style=\"color:#2aa198;\">&#39;H&#39;</span>, <span style=\"color:#2aa198;\">&#39;I&#39;</span>, <span style=\"color:#2aa198;\">&#39;J&#39;</span>, <span style=\"color:#2aa198;\">&#39;K&#39;</span>, <span style=\"color:#2aa198;\">&#39;L&#39;</span>, <span style=\"color:#2aa198;\">&#39;M&#39;</span>, <span style=\"color:#2aa198;\">&#39;N&#39;</span>, <span style=\"color:#2aa198;\">&#39;O&#39;</span>, <span style=\"color:#2aa198;\">&#39;P&#39;</span>, <span style=\"color:#2aa198;\">&#39;Q&#39;</span>, <span style=\"color:#2aa198;\">&#39;R&#39;</span>, <span style=\"color:#2aa198;\">&#39;S&#39;</span>, <span style=\"color:#2aa198;\">&#39;T&#39;</span>, <span style=\"color:#2aa198;\">&#39;U&#39;</span>, <span style=\"color:#2aa198;\">&#39;V&#39;</span>, <span style=\"color:#2aa198;\">&#39;W&#39;</span>, <span style=\"color:#2aa198;\">&#39;X&#39;</span>, <span style=\"color:#2aa198;\">&#39;Y&#39;</span>, <span style=\"color:#2aa198;\">&#39;Z&#39;</span>, <span style=\"color:#2aa198;\">&#39;AA&#39;</span>, <span style=\"color:#2aa198;\">&#39;AB&#39;</span>, <span style=\"color:#2aa198;\">&#39;AC&#39;</span>, <span style=\"color:#2aa198;\">&#39;AD&#39;</span>, <span style=\"color:#2aa198;\">&#39;AE&#39;</span>, <span style=\"color:#2aa198;\">&#39;AF&#39;</span>, <span style=\"color:#2aa198;\">&#39;AG&#39;</span>, <span style=\"color:#2aa198;\">&#39;AH&#39;</span>, <span style=\"color:#2aa198;\">&#39;AI&#39;</span>, <span style=\"color:#2aa198;\">&#39;AJ&#39;</span>, <span style=\"color:#2aa198;\">&#39;AK&#39;</span>, <span style=\"color:#2aa198;\">&#39;AL&#39;</span>, <span style=\"color:#2aa198;\">&#39;AM&#39;</span>, <span style=\"color:#2aa198;\">&#39;AN&#39;</span>, <span style=\"color:#2aa198;\">&#39;AO&#39;</span>, <span style=\"color:#2aa198;\">&#39;AP&#39;</span>, <span style=\"color:#2aa198;\">&#39;AQ&#39;</span>, <span style=\"color:#2aa198;\">&#39;AR&#39;</span>, <span style=\"color:#2aa198;\">&#39;AS&#39;</span>, <span style=\"color:#2aa198;\">&#39;AT&#39;</span>, <span style=\"color:#2aa198;\">&#39;AU&#39;</span>, <span style=\"color:#2aa198;\">&#39;AV&#39;</span>, <span style=\"color:#2aa198;\">&#39;AW&#39;</span>, <span style=\"color:#2aa198;\">&#39;AX&#39;</span>, <span style=\"color:#2aa198;\">&#39;AY&#39;</span>, <span style=\"color:#2aa198;\">&#39;AZ&#39;</span>);<br/><br/>    <span style=\"color:#268bd2;\">$columns </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">count</span>(<span style=\"color:#268bd2;\">$header</span>);<br/>    <span style=\"color:#268bd2;\">$rows </span><span style=\"color:#079a71;\">= </span><span style=\"color:#969483;font-style:italic;\">count</span>(<span style=\"color:#268bd2;\">$data</span>);<br/>    <span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>(<span style=\"color:#2aa198;\">0</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setTitle</span>(<span style=\"color:#2aa198;\">&#39;sheet</span><span style=\"color:#2aa198;font-family:&#39;宋体&#39;;\">名称</span><span style=\"color:#2aa198;\">&#39;</span>);   <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置</span><span style=\"color:#93a1a1;font-style:italic;\">sheet</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">名称<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置表头 第一列<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">for </span>(<span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>; <span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">&lt; </span><span style=\"color:#268bd2;\">$columns</span>; <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">++</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setActiveSheetIndex</span>(<span style=\"color:#2aa198;\">0</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setCellValue</span>(<span style=\"color:#268bd2;\">$cellName[$i] </span><span style=\"color:#079a71;\">. </span><span style=\"color:#2aa198;\">&#39;1&#39;</span>, <span style=\"color:#268bd2;\">$header[$i][</span><span style=\"color:#2aa198;\">&#39;name&#39;</span><span style=\"color:#268bd2;\">]</span>);  <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置单元格内容<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">填充数据<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$index </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">2</span>; <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">从第二行开始填充数据<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#859900;\">for </span>(<span style=\"color:#268bd2;\">$j </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>; <span style=\"color:#268bd2;\">$j </span><span style=\"color:#079a71;\">&lt; </span><span style=\"color:#268bd2;\">$rows</span>; <span style=\"color:#268bd2;\">$j</span><span style=\"color:#079a71;\">++</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">for </span>(<span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">= </span><span style=\"color:#2aa198;\">0</span>; <span style=\"color:#268bd2;\">$i </span><span style=\"color:#079a71;\">&lt; </span><span style=\"color:#268bd2;\">$columns</span>; <span style=\"color:#268bd2;\">$i</span><span style=\"color:#079a71;\">++</span>) <span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$curCol </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$header[$i][</span><span style=\"color:#2aa198;\">&#39;field&#39;</span><span style=\"color:#268bd2;\">]</span>;<br/>            <span style=\"color:#268bd2;\">$value </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">empty</span>(<span style=\"color:#268bd2;\">$data[$j][$curCol]</span>) <span style=\"color:#079a71;\">? </span><span style=\"color:#2aa198;\">&#39;-&#39; </span><span style=\"color:#079a71;\">: </span><span style=\"color:#268bd2;\">$data[$j][$header[$i][</span><span style=\"color:#2aa198;\">&#39;field&#39;</span><span style=\"color:#268bd2;\">]]</span>;<br/><br/>            <span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">当设置了单元格值 并且没有这个</span><span style=\"color:#93a1a1;font-style:italic;\">key </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">直接跳过<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$value </span><span style=\"color:#079a71;\">== </span><span style=\"color:#2aa198;\">&#39;-&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">break</span>;<br/>            <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">如果需要处理图片<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#268bd2;\">$curCol </span><span style=\"color:#079a71;\">== </span><span style=\"color:#2aa198;\">&#39;image&#39;</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getColumnDimension</span>(<span style=\"color:#268bd2;\">$cellName[$i]</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setWidth</span>(<span style=\"color:#2aa198;\">30</span>);<br/>                <span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getRowDimension</span>(<span style=\"color:#268bd2;\">$index</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setRowHeight</span>(<span style=\"color:#2aa198;\">60</span>);<br/>                <span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">实例化插入图片类</span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objDrawing </span><span style=\"color:#079a71;\">= </span><span style=\"color:#859900;\">new </span>\\<span style=\"color:#839496;\">PHPExcel_Worksheet_Drawing</span>();<br/>                <span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置图片路径 切记：只能是本地图片</span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setPath</span>(<span style=\"color:#268bd2;\">$value</span>);<br/>                <span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置图片高度</span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setWidth</span>(<span style=\"color:#2aa198;\">120</span>);<br/>                <span style=\"color:#268bd2;\">$img_height[] </span><span style=\"color:#079a71;\">= </span><span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getHeight</span>();<br/>                <span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置图片要插入的单元格</span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setCoordinates</span>(<span style=\"color:#268bd2;\">$cellName[$i] </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$index</span>);<br/>                <span style=\"color:#93a1a1;font-style:italic;\">/*</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置图片所在单元格的格式</span><span style=\"color:#93a1a1;font-style:italic;\">*/<br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setOffsetX</span>(<span style=\"color:#2aa198;\">0</span>);<br/>                <span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setOffsetY</span>(<span style=\"color:#2aa198;\">0</span>);<br/>                <span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setRotation</span>(<span style=\"color:#2aa198;\">0</span>);<br/>                <span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getShadow</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setVisible</span>(<span style=\"color:#859900;\">true</span>);<br/>                <span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getShadow</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setDirection</span>(<span style=\"color:#2aa198;\">50</span>);<br/>                <span style=\"color:#268bd2;\">$objDrawing</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setWorksheet</span>(<span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>());<br/>            <span style=\"color:#dc322f;\">}</span><span style=\"color:#859900;\">else</span><span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setCellValue</span>(<span style=\"color:#268bd2;\">$cellName[$i] </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$index</span>, <span style=\"color:#268bd2;\">$value</span>);  <span style=\"color:#93a1a1;font-style:italic;\">//</span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置单元格内容<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">判断</span><span style=\"color:#93a1a1;font-style:italic;\">level </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">设置的单元格样式<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">if</span>(<span style=\"color:#079a71;\">!</span><span style=\"color:#859900;\">empty</span>(<span style=\"color:#268bd2;\">$data[$j][</span><span style=\"color:#2aa198;\">&#39;level&#39;</span><span style=\"color:#268bd2;\">]</span>))<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">switch</span>(<span style=\"color:#268bd2;\">$data[$j][</span><span style=\"color:#2aa198;\">&#39;level&#39;</span><span style=\"color:#268bd2;\">]</span>)<span style=\"color:#dc322f;\">{<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#859900;\">case </span><span style=\"color:#2aa198;\">&#39;waring&#39;</span><span style=\"color:#079a71;\">:<br/></span><span style=\"color:#079a71;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getstyle</span>(<span style=\"color:#268bd2;\">$cellName[$i] </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$index</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getFill</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setFillType</span>(\\<span style=\"color:#b58900;\">PHPExcel_style_Fill</span><span style=\"color:#079a71;\">::</span><span style=\"color:#d33682;\">FILL_SOLID</span>);<br/>                        <span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getstyle</span>(<span style=\"color:#268bd2;\">$cellName[$i] </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$index</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getFill</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getStartColor</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setARGB</span>(<span style=\"color:#2aa198;\">&#39;FF808000&#39;</span>);<br/>                    <span style=\"color:#859900;\">break</span>;<br/>                    <span style=\"color:#859900;\">case </span><span style=\"color:#2aa198;\">&#39;success&#39;</span><span style=\"color:#079a71;\">:<br/></span><span style=\"color:#079a71;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getstyle</span>(<span style=\"color:#268bd2;\">$cellName[$i] </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$index</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getFill</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setFillType</span>(\\<span style=\"color:#b58900;\">PHPExcel_style_Fill</span><span style=\"color:#079a71;\">::</span><span style=\"color:#d33682;\">FILL_SOLID</span>);<br/>                        <span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getActiveSheet</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getstyle</span>(<span style=\"color:#268bd2;\">$cellName[$i] </span><span style=\"color:#079a71;\">. </span><span style=\"color:#268bd2;\">$index</span>)<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getFill</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">getStartColor</span>()<span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">setARGB</span>(<span style=\"color:#2aa198;\">&#39;FF0000FF&#39;</span>);<br/>                        <span style=\"color:#859900;\">break</span>;<br/>                <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#268bd2;\">$index</span><span style=\"color:#079a71;\">++</span>;<br/>    <span style=\"color:#dc322f;\">}<br/></span><span style=\"color:#dc322f;\"><br/></span><span style=\"color:#dc322f;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">// </span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\">冻结窗口，没效果啊<br/></span><span style=\"color:#93a1a1;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#93a1a1;font-style:italic;\">//$objExcel-&gt;getActiveSheet()-&gt;freezePane(&#39;A2&#39;);<br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"><br/></span><span style=\"color:#93a1a1;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Type: application/vnd.ms-excel&#39;</span>);<br/>    <span style=\"color:#969483;font-style:italic;\">header</span>(<span style=\"color:#2aa198;\">&#39;Content-Disposition: attachment;filename=&quot;store.xls&quot;&#39;</span>);<br/>    <span style=\"color:#268bd2;\">$objWriter </span><span style=\"color:#079a71;\">= </span>\\<span style=\"color:#b58900;\">PHPExcel_IOFactory</span><span style=\"color:#079a71;\">::</span><span style=\"color:#969483;\">createWriter</span>(<span style=\"color:#268bd2;\">$objExcel</span>, <span style=\"color:#2aa198;\">&#39;Excel2007&#39;</span>);<br/>    <span style=\"color:#268bd2;\">$objWriter</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">save</span>(<span style=\"color:#2aa198;\">&#39;php://output&#39;</span>);<br/>    <span style=\"color:#268bd2;\">$objExcel</span><span style=\"color:#079a71;\">-&gt;</span><span style=\"color:#839496;\">disconnectWorksheets</span>();<br/>    <span style=\"color:#859900;\">exit</span>;<br/><span style=\"color:#dc322f;\">}</span></pre><p><br/></p>', '2018-07-16 23:36:25', '2018-07-16 23:37:09', null, null, '59', '1', '1', '/index/article/show/id/56.html');
INSERT INTO `blog_article` VALUES ('57', '22', 'PHP-2018-07-18', 'error', '1. 查询message表中新闻列表,要求查出评论数量（comment表id对应message新闻id），并且按照评论数倒序SELECT message.id AS id,title,hits,IF(comment.id is NULL,0,count(*))AS numberFROM messageLEFT JOIN commentON message.id=comment.idGROUP BY message.idORDER BY number desc2.表单防伪<?php/** *', '', '<p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><strong><span style=\"color:#76923c\">1. 查询message表中新闻列表,要求查出评论数量（comment表id对应message新闻id），并且按照评论数倒序</span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">SELECT message.id AS id,title,hits,<span style=\"color:#76923c\">IF(comment.id is NULL,0,count(*))AS number</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">FROM message</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">LEFT JOIN comment</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">ON message.id=comment.id</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color:#76923c\">GROUP BY message.id</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color:#76923c\">ORDER BY number desc</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color:#76923c\"><strong><br/></strong></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color:#76923c\"><strong>2.表单防伪</strong></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color:#76923c\"></span></p><pre style=\"font-family: &quot;DejaVu Sans Mono&quot;; font-size: 12pt;\"><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">&lt;?php<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">/**<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"> * Created by PhpStorm.<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"> * User: Administrator<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"> * Date: 2018/7/17 0017<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"> * Time: 22:31<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"> */<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"><br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">session_start</span><span style=\"background-color: rgb(247, 250, 255);\">();<br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">if</span><span style=\"background-color: rgb(247, 250, 255);\">(!</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">empty</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$_POST</span><span style=\"background-color: rgb(247, 250, 255);\">)){<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">if</span><span style=\"background-color: rgb(247, 250, 255);\">(!</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">empty</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$_POST</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;token&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">]) &amp;&amp; </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$_POST</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;token&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">] == </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$_SESSION</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;token&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">]){<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">echo </span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;security&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;}</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">else</span><span style=\"background-color: rgb(247, 250, 255);\">{<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">echo </span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;error&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\">}<br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$token</span><span style=\"background-color: rgb(247, 250, 255);\">=</span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">md5</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">uniqid</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">rand</span><span style=\"background-color: rgb(247, 250, 255);\">(),</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">true</span><span style=\"background-color: rgb(247, 250, 255);\">));<br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$_SESSION</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;token&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">]=</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$token</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">?&gt;</span><span style=\"color: rgb(0, 0, 128); font-weight: bold;\"><br/></span><span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">html</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>    <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">head</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>        <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">title</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span>test token<span style=\"background-color: rgb(239, 239, 239);\">&lt;/</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">title</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>        <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">meta </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">charset=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;utf-8&quot;</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>    <span style=\"background-color: rgb(239, 239, 239);\">&lt;/</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">head</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>    <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">body</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>        <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">form </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">action=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">&lt;?php echo </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$_SERVER</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;PHP_SELF&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">];</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">?&gt;</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot; </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">method=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;post&quot;</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>            <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">input </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">type=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;text&quot; </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">name=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;name&quot;</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>            <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">input </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">type=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;hidden&quot; </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">name=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;token&quot; </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">value=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">&lt;?php echo </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$_SESSION</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;token&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">];</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">?&gt;</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>            <span style=\"background-color: rgb(239, 239, 239);\">&lt;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">button </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(239, 239, 239); font-weight: bold;\">type=</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(239, 239, 239); font-weight: bold;\">&quot;submit&quot;</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span>submit<span style=\"background-color: rgb(239, 239, 239);\">&lt;/</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">button</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>        <span style=\"background-color: rgb(239, 239, 239);\">&lt;/</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">form</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/>    <span style=\"background-color: rgb(239, 239, 239);\">&lt;/</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">body</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span><br/><span style=\"background-color: rgb(239, 239, 239);\">&lt;/</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(239, 239, 239); font-weight: bold;\">html</span><span style=\"background-color: rgb(239, 239, 239);\">&gt;</span></pre><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><strong><span style=\"color:#76923c\"><br/></span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><strong><span style=\"color:#76923c\">&nbsp;3<span style=\"font-family: 宋体; font-size: 12pt; white-space: pre-wrap; background-color: rgb(247, 250, 255); font-style: italic;\">将一个无符号的</span><span style=\"font-size: 12pt; white-space: pre-wrap; background-color: rgb(247, 250, 255); font-style: italic; font-family: &quot;DejaVu Sans Mono&quot;;\">2</span><span style=\"font-family: 宋体; font-size: 12pt; white-space: pre-wrap; background-color: rgb(247, 250, 255); font-style: italic;\">进制字符串转成</span><span style=\"font-size: 12pt; white-space: pre-wrap; background-color: rgb(247, 250, 255); font-style: italic; font-family: &quot;DejaVu Sans Mono&quot;;\">10</span><span style=\"font-family: 宋体; font-size: 12pt; white-space: pre-wrap; background-color: rgb(247, 250, 255); font-style: italic;\">进制数</span></span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color:#76923c\"></span><br/></p><pre style=\"font-family: &quot;DejaVu Sans Mono&quot;; font-size: 12pt;\"><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">function </span><span style=\"background-color: rgb(247, 250, 255);\">bin2dec(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$bin</span><span style=\"background-color: rgb(247, 250, 255);\">)<br/></span><span style=\"background-color: rgb(247, 250, 255);\">{<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// strrev </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">反转字符串 &nbsp;因为</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">2</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">进制转</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">10 </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">从后往前<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$temp </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">strrev</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$bin</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$result </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">0</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// pow() </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">函数返回</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"> x </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">的</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"> y </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">次方。<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">for</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">=</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">0</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$len </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">strlen</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$temp</span><span style=\"background-color: rgb(247, 250, 255);\">);</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">&lt;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$len</span><span style=\"background-color: rgb(247, 250, 255);\">;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">++){<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$result </span><span style=\"background-color: rgb(247, 250, 255);\">+= </span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">pow</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">2</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">) * </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$temp</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">];<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">return </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$result</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\">}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$a </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;10100010&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">echo </span><span style=\"background-color: rgb(247, 250, 255);\">bin2dec(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$a</span><span style=\"background-color: rgb(247, 250, 255);\">);</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">//</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">结果</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">162</span></pre><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color:#76923c\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><strong><span style=\"color:#76923c\">4.快速排序</span></strong></p><pre style=\"font-family: &quot;DejaVu Sans Mono&quot;; font-size: 12pt;\"><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">function </span><span style=\"background-color: rgb(247, 250, 255);\">quick_while(&amp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">, </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$left</span><span style=\"background-color: rgb(247, 250, 255);\">, </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$right</span><span style=\"background-color: rgb(247, 250, 255);\">)<br/></span><span style=\"background-color: rgb(247, 250, 255);\">{<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">左右界重合 跳出<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">if </span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$left </span><span style=\"background-color: rgb(247, 250, 255);\">&gt;= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$right</span><span style=\"background-color: rgb(247, 250, 255);\">) {<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">return</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$left</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$right</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$left</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">while </span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i </span><span style=\"background-color: rgb(247, 250, 255);\">&gt; </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j</span><span style=\"background-color: rgb(247, 250, 255);\">) {<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">//</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">查右边值<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">while </span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i </span><span style=\"background-color: rgb(247, 250, 255);\">&gt; </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">) {<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">if </span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">][</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">] &gt; </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">][</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">]) {<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$tmp </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">];<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">] = </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">];<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">] = </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$tmp</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">break</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">//</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">查左边值<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">while </span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j </span><span style=\"background-color: rgb(247, 250, 255);\">&lt; </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">) {<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">if </span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j</span><span style=\"background-color: rgb(247, 250, 255);\">][</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">] &lt; </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">][</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">]) {<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$tmp </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j</span><span style=\"background-color: rgb(247, 250, 255);\">];<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j</span><span style=\"background-color: rgb(247, 250, 255);\">] = </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">];<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point</span><span style=\"background-color: rgb(247, 250, 255);\">] = </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$tmp</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$point </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">break</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;++</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$j</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">开始递归<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">以当前索引为分界<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">开始排序左部分<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp;</span><span style=\"background-color: rgb(247, 250, 255);\">quick_while(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">, </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$left</span><span style=\"background-color: rgb(247, 250, 255);\">, </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">-</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">1</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">开始排序右边部分<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\"> &nbsp; &nbsp;</span><span style=\"background-color: rgb(247, 250, 255);\">quick_while(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">, </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$i</span><span style=\"background-color: rgb(247, 250, 255);\">+</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">1</span><span style=\"background-color: rgb(247, 250, 255);\">, </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$right</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">return </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$value</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\">}<br/></span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">echo </span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&lt;pre /&gt;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$english </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">array</span><span style=\"background-color: rgb(247, 250, 255);\">(<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">array</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;sid&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">1</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">76</span><span style=\"background-color: rgb(247, 250, 255);\">),<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">array</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;sid&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">2</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">93</span><span style=\"background-color: rgb(247, 250, 255);\">),<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">array</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;sid&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">3</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">68.5</span><span style=\"background-color: rgb(247, 250, 255);\">),<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">array</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;sid&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">4</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;score&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">=&gt;</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">82.5</span><span style=\"background-color: rgb(247, 250, 255);\">),<br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$left </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">0</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$right </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">count</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$english</span><span style=\"background-color: rgb(247, 250, 255);\">) - </span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">1</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\">quick_while(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$english</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$left</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$right</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">print_r</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$english</span><span style=\"background-color: rgb(247, 250, 255);\">);</span></pre><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><strong><span style=\"color:#76923c\"><br/></span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><strong><span style=\"color:#76923c\">5.分页</span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">page&nbsp; &nbsp;rows&nbsp; &nbsp; offset&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;limit</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10&nbsp; &nbsp; &nbsp; &nbsp;（2-1）*10&nbsp; &nbsp;10</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\">5.正则替换</p><pre style=\"font-family: &quot;DejaVu Sans Mono&quot;; font-size: 12pt;\"><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/0/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/[0-9]/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/[A-Z]/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/[a-z]/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/[a-z,A-Z]/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/[a-z,A-Z,0-9]/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/&lt;.*&gt;/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/&lt;.{4}*&gt;/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">//{</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">数字</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">} </span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">表示指定前面的个数，</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">*</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">就表示是任意个</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">(0--</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic; font-family: 宋体;\">无限个</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">)<br/></span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"><br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/&lt;[0-9]*&gt;/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">); &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// * 0/n<br/></span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/&lt;[0-9]+&gt;/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">); &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// + 1/n<br/></span><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/&lt;[0-9]?&gt;/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">); &nbsp;</span><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\">// ? 1/0</span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px;\"><span style=\"color: rgb(128, 128, 128); background-color: rgb(247, 250, 255); font-style: italic;\"><br/></span></p></pre><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><strong><span style=\"color:#76923c\">// _=&#39;&#39;&nbsp; 并且匹配到后面的第一个字符转大写</span></strong></p><pre style=\"font-family: &quot;DejaVu Sans Mono&quot;; font-size: 12pt;\"><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&quot;private long contract_id;<br/></span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\"> &nbsp; &nbsp;private string contract_number;<br/></span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\"> &nbsp; &nbsp;private string customer_name;&quot;</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$pattern </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"color: rgb(0, 128, 0); background-color: rgb(247, 250, 255); font-weight: bold;\">&#39;/_(\\w)/&#39;</span><span style=\"background-color: rgb(247, 250, 255);\">;<br/></span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$result </span><span style=\"background-color: rgb(247, 250, 255);\">= </span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">preg_replace_callback</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$pattern</span><span style=\"background-color: rgb(247, 250, 255);\">,</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">function </span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$match</span><span style=\"background-color: rgb(247, 250, 255);\">){<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">print_r</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$match</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">return &nbsp;</span><span style=\"background-color: rgb(247, 250, 255); font-style: italic;\">strtoupper</span><span style=\"background-color: rgb(247, 250, 255);\">(</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$match</span><span style=\"background-color: rgb(247, 250, 255);\">[</span><span style=\"color: rgb(0, 0, 255); background-color: rgb(247, 250, 255);\">1</span><span style=\"background-color: rgb(247, 250, 255);\">]);<br/></span><span style=\"background-color: rgb(247, 250, 255);\">},</span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$str</span><span style=\"background-color: rgb(247, 250, 255);\">);<br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"background-color: rgb(247, 250, 255);\"><br/></span><span style=\"color: rgb(0, 0, 128); background-color: rgb(247, 250, 255); font-weight: bold;\">echo </span><span style=\"color: rgb(102, 0, 0); background-color: rgb(247, 250, 255);\">$result</span><span style=\"background-color: rgb(247, 250, 255);\">;</span></pre><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"font-size:16px\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"margin: 0px; padding: 0px; font-family: Arial, Helvetica, sans-serif;\"></span></p><h6 id=\"如果要求每隔5分钟执行一次脚本five.php如何实现卓望\" style=\"margin-top: 10px; margin-bottom: 10px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;; white-space: normal;\"><strong><span style=\"color:#76923c;font-size:16px\">要求每隔5分钟执行一次脚本</span></strong></h6><pre style=\"font-family: &quot;DejaVu Sans Mono&quot;; font-size: 12pt;\"><span style=\"background-color:#f7faff;font-style:italic;\">ignore_user_abort</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">set_time_limit</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$interval </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">60</span><span style=\"background-color:#f7faff;\">*</span><span style=\"color:#0000ff;background-color:#f7faff;\">5</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">do</span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// to do<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">sleep</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$interval</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\">}</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">true</span><span style=\"background-color:#f7faff;\">);</span></pre><p><br/></p>', '2018-07-18 00:12:37', '2018-07-18 00:13:16', null, null, '57', '1', '1', '/index/article/show/id/57.html');
INSERT INTO `blog_article` VALUES ('58', '20', 'MYSQL-sql注入记录', '注入,记录，SQL', '1. 关键词 orSELECT	*FROM	`user_client`WHERE	(		`email` = &#39;&#39; OR 1 = 1&nbsp; &nbsp; // or 或者&nbsp; 1永远为真&nbsp; email为空或者真===一定为真	)2. union allSELECT	id,	NAME,	PASSWORDFROM	user_clientWHERE	id = 7UNION ALL	SELECT		cardno,		reciver,		bankcode	FROM		', '', '<p>1. 关键词 or</p><p>SELECT</p><p><span style=\"white-space:pre\">	</span>*</p><p>FROM</p><p><span style=\"white-space:pre\">	</span>`user_client`</p><p>WHERE</p><p><span style=\"white-space:pre\">	</span>(</p><p><span style=\"white-space:pre\">		</span>`email` = &#39;&#39; OR 1 = 1&nbsp; &nbsp; <span style=\"color:#76923c\"><strong>// or 或者&nbsp; 1永远为真&nbsp; email为空或者真===一定为真</strong></span></p><p><span style=\"white-space:pre\">	</span>)</p><p><br/></p><p><br/></p><p>2. union all</p><p>SELECT</p><p><span style=\"white-space:pre\">	</span><span style=\"color:#76923c\"><strong>id,</strong></span></p><p><span style=\"color:#76923c\"><strong><span style=\"white-space:pre\">	</span>NAME,</strong></span></p><p><span style=\"color:#76923c\"><strong><span style=\"white-space:pre\">	</span>PASSWORD</strong></span></p><p>FROM</p><p><span style=\"white-space:pre\">	</span>user_client</p><p>WHERE</p><p><span style=\"white-space:pre\">	</span>id = 7</p><p><strong><span style=\"color:#76923c\">UNION ALL</span></strong></p><p><span style=\"white-space:pre\">	</span>SELECT</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\"><strong>cardno,</strong></span></p><p><span style=\"color:#76923c\"><strong><span style=\"white-space:pre\">		</span>reciver,</strong></span></p><p><span style=\"color:#76923c\"><strong><span style=\"white-space:pre\">		</span>bankcode</strong></span></p><p><span style=\"color:#76923c\"><strong><span style=\"white-space:pre\">	</span>FROM</strong></span></p><p><span style=\"color:#76923c\"><strong><span style=\"white-space:pre\">		</span>account_bank</strong></span></p><p><span style=\"color:#76923c\"><strong><br/></strong></span></p><p><span style=\"color:#76923c\"><strong><br/></strong></span></p><p><span style=\"color:#76923c\"><strong></strong></span></p><p>SELECT</p><p><span style=\"white-space:pre\">	</span>id,</p><p><span style=\"white-space:pre\">	</span>NAME,</p><p><span style=\"white-space:pre\">	</span>PASSWORD</p><p>FROM</p><p><span style=\"white-space:pre\">	</span>user_client</p><p>WHERE</p><p><span style=\"white-space:pre\">	</span>id = 7</p><p>UNION ALL</p><p><span style=\"white-space:pre\">	</span>SELECT</p><p><span style=\"white-space:pre\">		</span>NULL,</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\">schema_name,&nbsp; //所有的库</span></p><p><span style=\"white-space:pre\">		</span>NULL</p><p><span style=\"white-space:pre\">	</span>FROM</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\">information_schema.schemata</span></p><p><span style=\"color:#76923c\"><strong><br/></strong></span><br/></p><p>SELECT</p><p><span style=\"white-space:pre\">	</span>id,</p><p><span style=\"white-space:pre\">	</span>NAME,</p><p><span style=\"white-space:pre\">	</span>PASSWORD</p><p>FROM</p><p><span style=\"white-space:pre\">	</span>user_client</p><p>WHERE</p><p><span style=\"white-space:pre\">	</span>id = 7</p><p>UNION ALL</p><p><span style=\"white-space:pre\">	</span>SELECT</p><p><span style=\"white-space:pre\">		</span>1,</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\">GROUP_CONCAT(table_name),&nbsp; // secure库下的所有表</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3</p><p><span style=\"white-space:pre\">	</span>FROM</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\">information_schema.`TABLES` where TABLE_SCHEMA=&#39;secure&#39;</span></p><p><span style=\"color:#76923c\"><br/></span></p><p><span style=\"color:#76923c\"><br/></span></p><p><span style=\"color:#76923c\"></span></p><p>SELECT</p><p><span style=\"white-space:pre\">	</span>id,</p><p><span style=\"white-space:pre\">	</span>NAME,</p><p><span style=\"white-space:pre\">	</span>PASSWORD</p><p>FROM</p><p><span style=\"white-space:pre\">	</span>user_client</p><p>WHERE</p><p><span style=\"white-space:pre\">	</span>id = 7</p><p>UNION ALL</p><p><span style=\"white-space:pre\">	</span>SELECT</p><p><span style=\"white-space:pre\">		</span>1,</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\">group_concat(column_name),&nbsp; // 表字段</span></p><p><span style=\"white-space:pre\">		</span>3</p><p><span style=\"white-space:pre\">	</span>FROM</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\">information_schema. COLUMNS&nbsp; //列表</span></p><p><span style=\"white-space:pre\">	</span>WHERE</p><p><span style=\"white-space:pre\">		</span><span style=\"color:#76923c\">table_schema = &#39;secure&#39;&nbsp; //表名</span></p><p><span style=\"color:#76923c\"><span style=\"white-space:pre\">	</span>AND table_name = &#39;user_client&#39; //库名</span></p><p><span style=\"color:#76923c\"><br/></span><br/></p><p><br/></p>', '2018-07-18 22:51:32', '2018-07-18 23:30:48', null, null, '57', '1', '1', '/index/article/show/id/58.html');
INSERT INTO `blog_article` VALUES ('59', '9', 'HTTP请求报文解剖 ', '报文,解剖', 'HTTP请求报文解剖 HTTP请求报文由3部分组成（请求行+请求头+请求体）：  下面是一个实际的请求报文：  ①是请求方法，GET和POST是最常见的HTTP方法，除此以外还包括DELETE、HEAD、OPTIONS、PUT、TRACE。不过，当前的大多数浏览器只支持GET和POST，Spring 3.0提供了一个HiddenHttpMethodFilter，允许你通过“_method”的表单参数指定这些特殊的HTTP方法（实际上还是通过POS', '', '<p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 24px;\">HTTP请求报文解剖</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">HTTP请求报文由3部分组成（</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239); color: rgb(0, 0, 255);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">请求行+请求头+请求体</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">）：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><img src=\"http://dl.iteye.com/upload/attachment/0069/3485/1a4e7e6a-6d7b-38f1-af8a-043140034c8f.jpg\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">下面是一个实际的请求报文：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><img src=\"http://dl.iteye.com/upload/attachment/0069/3451/412b4451-2738-3ebc-b1f6-a0cc13b9697b.jpg\" title=\"点击查看原始大小图片\" class=\"magplus\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">①是请求方法，GET和POST是最常见的HTTP方法，除此以外还包括DELETE、HEAD、OPTIONS、PUT、TRACE。不过，当前的大多数浏览器只支持GET和POST，Spring 3.0提供了一个HiddenHttpMethodFilter，允许你通过“_method”的表单参数指定这些特殊的HTTP方法（实际上还是通过POST提交表单）。服务端配置了HiddenHttpMethodFilter后，Spring会根据_method参数指定的值模拟出相应的HTTP方法，这样，就可以使用这些HTTP方法对处理方法进行映射了。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">②为请求对应的URL地址，它和报文头的Host属性组成完整的请求URL，③是协议名称及版本号。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">④是HTTP的报文头，报文头包含若干个属性，格式为“属性名:属性值”，服务端据此获取客户端的信息。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">⑤是报文体，它将一个页面表单中的组件值通过param1=value1&amp;param2=value2的键值对形式编码成一个格式化串，它承载多个请求参数的数据。不但报文体可以传递请求参数，请求URL也可以通过类似于“/chapter15/user.html? param1=value1&amp;param2=value2”的方式传递请求参数。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">对照上面的请求报文，我们把它进一步分解，你可以看到一幅更详细的结构图：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><img src=\"http://dl.iteye.com/upload/attachment/0069/3487/cdc4dbbb-f98e-31d5-8270-3c37bf1c54e5.jpg\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><div class=\"quote_title\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-weight: bold; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">引用</div><div class=\"quote_div\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); background-color: rgb(239, 239, 239); font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px;\"><a href=\"http://www.httpwatch.com/download/\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 153); cursor: pointer; word-break: break-all;\">HttpWatch</a>是强大的网页数据分析工具，安装后将集成到Internet Explorer工具栏中。它不用代理服务器或一些复杂的网络监控工具，就能抓取请求及响应的完整信息，包括Cookies、消息头、查询参数、响应报文等，是Web应用开发人员的必备工具。</div><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 24px;\">HTTP请求报文头属性</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">报文头属性是什么东西呢？我们不妨以一个小故事来说明吧。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><div class=\"quote_title\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-weight: bold; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">引用</div><div class=\"quote_div\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); background-color: rgb(239, 239, 239); font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px;\">快到中午了，张三丰不想去食堂吃饭，于是打电话叫外卖：老板，我要一份[鱼香肉丝]，要12：30之前给我送过来哦，我在江湖湖公司研发部，叫张三丰。</div><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">这里，你要[鱼香肉丝]相当于HTTP报文体，而“12：30之前送过来”，你叫“张三丰”等信息就相当于HTTP的报文头。它们是一些附属信息，帮忙你和饭店老板顺利完成这次交易。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">请求HTTP报文和响应HTTP报文都拥有若干个报文关属性，它们是为协助客户端及服务端交易的一些附属信息。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 18px;\">常见的HTTP请求报文头属性</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Accept</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">请求报文可通过一个“Accept”报文头属性告诉服务端 客户端接受什么类型的响应。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">如下报文头相当于告诉服务端，俺客户端能够接受的响应类型仅为纯文本数据啊，你丫别发其它什么图片啊，视频啊过来，那样我会歇菜的~~~：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br/></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">Accept属性的值可以为一个或多个MIME类型的值，关于MIME类型，大家请参考：</span><a href=\"http://en.wikipedia.org/wiki/MIME_type\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 153); cursor: pointer; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">http://en.wikipedia.org/wiki/MIME_type</a><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Cookie</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br/></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">服务端是怎么知道客户端的多个请求是隶属于一个Session呢？注意到后台的那个jsessionid=5F4771183629C9834F8382E23BE13C4C木有？原来就是通过HTTP请求报文头的Cookie属性的jsessionid的值关联起来的！（当然也可以通过重写URL的方式将会话ID附带在每个URL的后面哦）。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Referer</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">表示这个请求是从哪个URL过来的，假如你通过google搜索出一个商家的广告页面，你对这个广告页面感兴趣，鼠标一点发送一个请求报文到商家的网站，这个请求报文的Referer报文头属性值就是http://www.google.com。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><div class=\"quote_title\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-weight: bold; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">引用</div><div class=\"quote_div\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); background-color: rgb(239, 239, 239); font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px;\"><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>唐僧到了西天.&nbsp;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>如来问：侬是不是从东土大唐来啊？&nbsp;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>唐僧：厉害！你咋知道的！&nbsp;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>如来：呵呵，我偷看了你的Referer...&nbsp;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/></div><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">很多貌似神奇的网页监控软件（如著名的&nbsp;</span><a href=\"http://www.51.la/\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 153); cursor: pointer; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">我要啦</a><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">），只要在你的网页上放上一段JavaScript，就可以帮你监控流量，全国访问客户的分布情况等报表和图表，其原理就是通过这个Referer及其它一些HTTP报文头工作的。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Cache-Control</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">对缓存进行控制，如一个请求希望响应返回的内容在客户端要被缓存一年，或不希望被缓存就可以通过这个报文头达到目的。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">如以下设置，相当于让服务端将对应请求返回的响应内容不要在客户端缓存：&nbsp;</span></p><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 18px;\">其它请求报文头属性</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">参见：</span><a href=\"http://en.wikipedia.org/wiki/List_of_HTTP_header_fields\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 153); cursor: pointer; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">http://en.wikipedia.org/wiki/List_of_HTTP_header_fields</a><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 18px;\">如何访问请求报文头</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><p><br/></p><p><br/></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">获取请求所关联的HttpSession,其内部的机理是通过读取请求报文头中Cookie属性的JSESSIONID的值，在服务端的一个会话Map中，根据这个JSESSIONID获取对应的HttpSession的对象。（这样，你就不会觉得HttpSession很神秘了吧，你自己也可以做一个类似的会话管理&nbsp;</span><img src=\"http://www.iteye.com/images/smiles/icon_surprised.gif\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;）&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 24px;\">HTTP响应报文解剖</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 18px;\">响应报文结构</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">HTTP的响应报文也由三部分组成（</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(0, 0, 255);\">响应行+响应头+响应体</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">）：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><img src=\"http://dl.iteye.com/upload/attachment/0069/3489/0236098f-1a98-3a4f-ba6c-4a44c6ec4ed0.jpg\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">以下是一个实际的HTTP响应报文：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><img src=\"http://dl.iteye.com/upload/attachment/0069/3492/bddb00b6-a3e1-3112-a4f4-4b3cb8687c70.jpg\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">①报文协议及版本；&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">②状态码及状态描述；&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">③响应报文头，也是由多个属性组成；&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">④响应报文体，即我们真正要的“干货”。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 18px;\">响应状态码</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">和请求报文相比，响应报文多了一个“响应状态码”，它以“清晰明确”的语言告诉客户端本次请求的处理结果。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">HTTP的响应状态码由5段组成：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><ul style=\"box-sizing: border-box; outline: 0px; margin-bottom: 24px; list-style: none; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 30px; list-style-type: disc; word-break: break-all;\">1xx 消息，一般是告诉客户端，请求已经收到了，正在处理，别急...</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 30px; list-style-type: disc; word-break: break-all;\">2xx 处理成功，一般表示：请求收悉、我明白你要的、请求已受理、已经处理完成等信息.</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 30px; list-style-type: disc; word-break: break-all;\">3xx 重定向到其它地方。它让客户端再发起一个请求以完成整个处理。</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 30px; list-style-type: disc; word-break: break-all;\">4xx 处理发生错误，责任在客户端，如客户端的请求一个不存在的资源，客户端未被授权，禁止访问等。</li><li style=\"box-sizing: border-box; outline: 0px; margin-top: 8px; margin-left: 30px; list-style-type: disc; word-break: break-all;\">5xx 处理发生错误，责任在服务端，如服务端抛出异常，路由出错，HTTP版本不支持等。</li></ul><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">以下是几个常见的状态码：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">200 OK</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">你最希望看到的，即处理成功！&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">303 See Other</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">我把你redirect到其它的页面，目标的URL通过响应报文头的Location告诉你。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><div class=\"quote_title\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-weight: bold; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">引用</div><div class=\"quote_div\" style=\"box-sizing: border-box; outline: 0px; margin-left: 15px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204); background-color: rgb(239, 239, 239); font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px;\">悟空：师傅给个桃吧，走了一天了<img src=\"http://www.iteye.com/images/smiles/icon_confused.gif\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; border-width: 0px;\"/>&nbsp;<br style=\"box-sizing: border-box; outline: 0px; word-break: break-all;\"/>唐僧：我哪有桃啊！去王母娘娘那找吧<img src=\"http://www.iteye.com/images/smiles/icon_wink.gif\" alt=\"\" style=\"box-sizing: border-box; outline: 0px; max-width: 100%; word-break: break-all; cursor: zoom-in; border-width: 0px;\"/></div><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">304 Not Modified</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">告诉客户端，你请求的这个资源至你上次取得后，并没有更改，你直接用你本地的缓存吧，我很忙哦，你能不能少来烦我啊！&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">404 Not Found</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">你最不希望看到的，即找不到页面。如你在google上找到一个页面，点击这个链接返回404，表示这个页面已经被网站删除了，google那边的记录只是美好的回忆。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">500 Internal Server Error</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">看到这个错误，你就应该查查服务端的日志了，肯定抛出了一堆异常，别睡了，起来改BUG去吧！&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">其它的状态码参见：</span><a href=\"http://en.wikipedia.org/wiki/List_of_HTTP_status_codes\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 153); cursor: pointer; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">http://en.wikipedia.org/wiki/List_of_HTTP_status_codes</a><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br/></p><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 18px;\">常见的HTTP响应报文头属性</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Cache-Control</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">响应输出到客户端后，服务端通过该报文头属告诉客户端如何控制响应内容的缓存。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">下面，的设置让客户端对响应内容缓存3600秒，也即在3600秒内，如果客户再次访问该资源，直接从客户端的缓存中返回内容给客户，不要再从服务端获取</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239); color: rgb(128, 128, 128);\">（当然，这个功能是靠客户端实现的，服务端只是通过这个属性提示客户端“应该这么做”，做不做，还是决定于客户端，如果是自己宣称支持HTTP的客户端，则就应该这样实现）</span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br/></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">ETag</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">一个代表响应服务端资源（如页面）版本的报文头属性，如果某个服务端资源发生变化了，这个ETag就会相应发生变化。它是Cache-Control的有益补充，可以让客户端“更智能”地处理什么时候要从服务端取资源，什么时候可以直接从缓存中返回响应。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">关于ETag的说明，你可以参见：</span><a href=\"http://en.wikipedia.org/wiki/HTTP_ETag\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 153); cursor: pointer; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">http://en.wikipedia.org/wiki/HTTP_ETag</a><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">Spring 3.0还专门为此提供了一个org.springframework.web.filter.ShallowEtagHeaderFilter（实现原理很简单，对JSP输出的内容MD5，这样内容有变化ETag就相应变化了），用于生成响应的ETag，因为这东东确实可以帮助减少请求和响应的交互。&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Location</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">我们在JSP中让页面Redirect到一个某个A页面中，其实是让客户端再发一个请求到A页面，这个需要Redirect到的A页面的URL，其实就是通过响应报文头的Location属性告知客户端的，如下的报文头属性，将使客户端redirect到iteye的首页中：&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br/></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\">Set-Cookie</span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">服务端可以设置客户端的Cookie，其原理就是通过这个响应报文头属性实现的：&nbsp;</span></p><p><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"><span style=\"box-sizing: border-box; outline: 0px; font-weight: 700; word-break: break-all;\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-size: 18px;\">其它HTTP响应报文头属性</span></span></span><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">更多其它的HTTP响应头报文，参见：</span><a href=\"http://en.wikipedia.org/wiki/List_of_HTTP_header_fields\" rel=\"nofollow\" target=\"_blank\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 153); cursor: pointer; word-break: break-all; font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">http://en.wikipedia.org/wiki/List_of_HTTP_header_fields</a><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\">&nbsp;</span><br style=\"box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; font-family: Helvetica, Tahoma, Arial, sans-serif; line-height: 25px; background-color: rgb(239, 239, 239);\"/></p><p><br/></p>', '2018-07-19 00:44:41', '2018-07-19 00:46:48', null, null, '62', '1', '1', '/index/article/show/id/59.html');
INSERT INTO `blog_article` VALUES ('60', '22', 'PHP-算法', '算法', '&lt;?php// Iterator模式的PHP5实现，写一类实现Iterator接口// 使对象可以像数组一样进行foreach循环，要求属性必须是私有// 官方接口/*Iterator extends Traversable {abstract public mixed current ( void )abstract public scalar key ( void )abstract public void next ( void )abstract public void rewin', '', '<pre style=\"font-family: &quot;DejaVu Sans Mono&quot;; font-size: 12pt;\"><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">&lt;?php<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// Iterator</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">模式的</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">PHP5</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">实现，写一类实现</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">Iterator</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">接口<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">使对象可以像数组一样进行</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">foreach</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">循环，要求属性必须是私有<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">官方接口<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/*<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">Iterator extends Traversable {<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">abstract public mixed current ( void )<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">abstract public scalar key ( void )<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">abstract public void next ( void )<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">abstract public void rewind ( void )<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">abstract public bool valid ( void )<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">}<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">*/<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">class </span><span style=\"background-color:#f7faff;\">myIterator </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">implements </span><span style=\"background-color:#f7faff;\">Iterator {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">protected </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">$array </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;firstelement&quot;</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;secondelement&quot;</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;lastelement&quot;</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;); &nbsp;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">__construct() {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; <br/></span><span style=\"background-color:#f7faff;\"> &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">在循环第一次会执行此函数<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">rewind() {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">reset</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; <br/></span><span style=\"background-color:#f7faff;\"> &nbsp; </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">valid() {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;current() !== </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">false</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; <br/></span><span style=\"background-color:#f7faff;\"> &nbsp; <br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">current() {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">current</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">key() {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">key</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; <br/></span><span style=\"background-color:#f7faff;\"> &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">如果</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">private </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">数组有</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">next</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">单元 &nbsp;就会执行<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">next() {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">next</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#660000;background-color:#f7faff;\">$it </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">new </span><span style=\"background-color:#f7faff;\">myIterator;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">foreach</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$it </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">as </span><span style=\"color:#660000;background-color:#f7faff;\">$key </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;===&#39;</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">\\n</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">魔术方法<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">class </span><span style=\"background-color:#f7faff;\">test2{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">$name</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;myname&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">$id</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">private </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">$aaaa </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;45454&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">__construct() { &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">给</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">id</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">成员赋一个</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">uniq id<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">id </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">uniqid</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">__sleep() { &nbsp; &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">此处不串行化</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">id</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">成员 &nbsp;当时用</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">serialize</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">序列化类的时候出发<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;name&#39;</span><span style=\"background-color:#f7faff;\">)); </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">必须</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">return array &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">成员变量<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">__wakeup() { </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">当时用</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">unserialize</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">序列化类的时候出发<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">id </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">uniqid</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">private </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">$age </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">20</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">protected </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">$ooo </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;44545&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">__toString() </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//echo </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">实例<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; </span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;you want echo me&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; }<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">__get(</span><span style=\"color:#660000;background-color:#f7faff;\">$name</span><span style=\"background-color:#f7faff;\">) </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获取非共有属性<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#0073bf;background-color:#f7faff;font-weight:bold;font-style:italic;\">TODO: Implement __get() method.<br/></span><span style=\"color:#0073bf;background-color:#f7faff;font-weight:bold;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;get&#39;</span><span style=\"background-color:#f7faff;\">.</span><span style=\"color:#660000;background-color:#f7faff;\">$name</span><span style=\"background-color:#f7faff;\">.</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&lt;br /&gt;&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">__set(</span><span style=\"color:#660000;background-color:#f7faff;\">$name</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">设置非共有属性<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#0073bf;background-color:#f7faff;font-weight:bold;font-style:italic;\">TODO: Implement __set() method.<br/></span><span style=\"color:#0073bf;background-color:#f7faff;font-weight:bold;font-style:italic;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;you want set </span><span style=\"color:#660000;background-color:#f7faff;\">$name</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">====</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&lt;br /&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#660000;background-color:#f7faff;\">$t2 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">new </span><span style=\"background-color:#f7faff;\">test2();<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">name</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">aaaa</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">ooo</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">age </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;bbb&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">ooo </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;bbb&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">age2 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;bbb&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">var_dump</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">((array)</span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&lt;br /&gt;&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$aaa </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">serialize</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$t2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&lt;br /&gt;&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$bbb </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">unserialize</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$aaa</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$bbb</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&lt;br /&gt;&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">双向队列<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">class </span><span style=\"background-color:#f7faff;\">Queue{<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">private </span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">$queue </span><span style=\"background-color:#f7faff;\">= [];<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">addHead(</span><span style=\"color:#660000;background-color:#f7faff;\">$item</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">array_unshift</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">queue</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$item</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">addTail(</span><span style=\"color:#660000;background-color:#f7faff;\">$item</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">array_push</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">queue</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$item</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">delHead()<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">array_shift</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">queue</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">delTail()<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;font-style:italic;\">array_pop</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">queue</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">getQueue()<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">queue</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#660000;background-color:#f7faff;\">$queue </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">new </span><span style=\"background-color:#f7faff;\">Queue();<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$queue</span><span style=\"background-color:#f7faff;\">-&gt;addHead(</span><span style=\"color:#0000ff;background-color:#f7faff;\">5</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$queue</span><span style=\"background-color:#f7faff;\">-&gt;addTail(</span><span style=\"color:#0000ff;background-color:#f7faff;\">10</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$queue</span><span style=\"background-color:#f7faff;\">-&gt;addHead(</span><span style=\"color:#0000ff;background-color:#f7faff;\">4</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$queue</span><span style=\"background-color:#f7faff;\">-&gt;addTail(</span><span style=\"color:#0000ff;background-color:#f7faff;\">9</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$queue</span><span style=\"background-color:#f7faff;\">-&gt;delHead();<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$queue</span><span style=\"background-color:#f7faff;\">-&gt;delTail();<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&lt;pre /&gt;&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$queue</span><span style=\"background-color:#f7faff;\">-&gt;getQueue());<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">冒泡排序<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">bubble_sort(&amp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">比较多少行<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$len</span><span style=\"background-color:#f7faff;\">=</span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">); </span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$len</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">++) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">每行需要查找的次数<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#660000;background-color:#f7faff;\">$j </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$len</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">++) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">如果左大于右<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">] &gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">]) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">交换<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$temp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">]; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">大值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">];</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">将左赋小值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$temp</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">右赋大值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">测试<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$arr </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">10</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">36</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">14</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">10</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">25</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">23</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">85</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">99</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">45</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//bubble_sort($arr);<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">快速排序<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">quick_sort(&amp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$n </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">&lt;</span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">++){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$max </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$pos </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">&lt;</span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">;++</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">] &gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$max</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$max </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$pos </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$temp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$pos</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$pos</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$temp</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">测试<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$arr </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">10</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">36</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">14</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">10</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">25</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">23</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">85</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">99</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">45</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\">quick_sort(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">quick_while(&amp;</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$left</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$right</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">左右界重合 跳出<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$left </span><span style=\"background-color:#f7faff;\">&gt;= </span><span style=\"color:#660000;background-color:#f7faff;\">$right</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$point </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$left</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$right</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$j </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$left</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">查右边值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">][</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">] &gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">][</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">]) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$tmp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$tmp</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$point </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">break</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">查左边值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$j </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">][</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">] &lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">][</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">]) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$tmp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$point</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$tmp</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$point </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">break</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;++</span><span style=\"color:#660000;background-color:#f7faff;\">$j</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">开始递归<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">以当前索引为分界<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">开始排序左部分<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;\">quick_while(</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$left</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">开始排序右边部分<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;\">quick_while(</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">+</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$right</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&lt;pre /&gt;&#39;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$english </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;sid&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">76</span><span style=\"background-color:#f7faff;\">),<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;sid&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">93</span><span style=\"background-color:#f7faff;\">),<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;sid&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">3</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">68.5</span><span style=\"background-color:#f7faff;\">),<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;sid&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">4</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;score&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">82.5</span><span style=\"background-color:#f7faff;\">),<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$left </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$right </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$english</span><span style=\"background-color:#f7faff;\">) - </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">quick_while(</span><span style=\"color:#660000;background-color:#f7faff;\">$english</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$left</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$right</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$english</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">killMonkey(</span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$m </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$current </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$number </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$num </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if</span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys</span><span style=\"background-color:#f7faff;\">) == </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">].</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;font-family:&#39;宋体&#39;;\">成为猴王了</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else</span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">while</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$num</span><span style=\"background-color:#f7faff;\">++ &lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$m</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$current</span><span style=\"background-color:#f7faff;\">++ ;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$current </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$current</span><span style=\"background-color:#f7faff;\">%</span><span style=\"color:#660000;background-color:#f7faff;\">$number</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$current</span><span style=\"background-color:#f7faff;\">].</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;font-family:&#39;宋体&#39;;\">的猴子被踢掉了</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&lt;br/&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">array_splice</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$current </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;killMonkey(</span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$m </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$current</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">1 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">2 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">3 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">4 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">5 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">6 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">7</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">8 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">9 </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#0000ff;background-color:#f7faff;\">10</span><span style=\"background-color:#f7faff;\">); </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//monkeys</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">的编号<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$m </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">数到第几只猴子被踢出<br/></span><span style=\"background-color:#f7faff;\">killMonkey(</span><span style=\"color:#660000;background-color:#f7faff;\">$monkeys </span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$m</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">方案二，使用数学方法解决<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">yuesefu(</span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$m</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$r</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">&lt;=</span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">++) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$r</span><span style=\"background-color:#f7faff;\">=(</span><span style=\"color:#660000;background-color:#f7faff;\">$r</span><span style=\"background-color:#f7faff;\">+</span><span style=\"color:#660000;background-color:#f7faff;\">$m</span><span style=\"background-color:#f7faff;\">)%</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$r</span><span style=\"background-color:#f7faff;\">+</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">yuesefu(</span><span style=\"color:#0000ff;background-color:#f7faff;\">10</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">).</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;font-family:&#39;宋体&#39;;\">是猴王</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">二维数组排序，</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$arr</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">是数据，</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$keys</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">是排序的健值，</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$order</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">是排序规则，</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">1</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">是降序，</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">0</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">是升序<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">array_sort(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$keys</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$order</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if</span><span style=\"background-color:#f7faff;\">(!</span><span style=\"background-color:#f7faff;font-style:italic;\">is_array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">)){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return false</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$keysvalue</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">foreach</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">as </span><span style=\"color:#660000;background-color:#f7faff;\">$key </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$val</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$keysvalue</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$val</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$keys</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$order </span><span style=\"background-color:#f7faff;\">== </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">asort</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$keysvalue</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else</span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">arsort</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$keysvalue</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">reset</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$keysvalue</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">foreach</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$keysvalue </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">as </span><span style=\"color:#660000;background-color:#f7faff;\">$key </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$vals</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$keysort</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$new_array</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">foreach</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$keysort </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">as </span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$val</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$new_array</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">]=</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$val</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return</span><span style=\"color:#660000;background-color:#f7faff;\">$new_array</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">测试<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$person</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;id&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;name&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;zhangsan&#39;</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;age&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">23</span><span style=\"background-color:#f7faff;\">),<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;id&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">5</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;name&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;lisi&#39;</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;age&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">28</span><span style=\"background-color:#f7faff;\">),<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;id&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">3</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;name&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;apple&#39;</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;age&#39;</span><span style=\"background-color:#f7faff;\">=&gt;</span><span style=\"color:#0000ff;background-color:#f7faff;\">17</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$result </span><span style=\"background-color:#f7faff;\">= array_sort(</span><span style=\"color:#660000;background-color:#f7faff;\">$person</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;name&#39;</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$result</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">顺序查找<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">array $arr </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">数组<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$k &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">要查找的元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">成功返回数组下标，失败返回</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">-1<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> */<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">seq_sch(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$n </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">count</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">); </span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">; </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">++) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">] == </span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">break</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$n</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else</span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">二分查找，要求数组已经排好顺序<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">array $array </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">数组<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $low &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">数组起始元素下标<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $high &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">数组末尾元素下标<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$k &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">要查找的元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">成功时返回数组下标，失败返回</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">-1<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> */<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">bin_sch(</span><span style=\"color:#660000;background-color:#f7faff;\">$array</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$low</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$high</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$low </span><span style=\"background-color:#f7faff;\">&lt;= </span><span style=\"color:#660000;background-color:#f7faff;\">$high</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$mid </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">intval</span><span style=\"background-color:#f7faff;\">((</span><span style=\"color:#660000;background-color:#f7faff;\">$low </span><span style=\"background-color:#f7faff;\">+ </span><span style=\"color:#660000;background-color:#f7faff;\">$high</span><span style=\"background-color:#f7faff;\">) / </span><span style=\"color:#0000ff;background-color:#f7faff;\">2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$array</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$mid</span><span style=\"background-color:#f7faff;\">] == </span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$mid</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;} </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">elseif </span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$k </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$array</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$mid</span><span style=\"background-color:#f7faff;\">]) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;\">bin_sch(</span><span style=\"color:#660000;background-color:#f7faff;\">$array</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$low</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$mid </span><span style=\"background-color:#f7faff;\">- </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;} </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">else</span><span style=\"background-color:#f7faff;\">{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;\">bin_sch(</span><span style=\"color:#660000;background-color:#f7faff;\">$array</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$mid </span><span style=\"background-color:#f7faff;\">+ </span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$high</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$k</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">测试：顺序查找<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$arr1 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">9</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">15</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">34</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">76</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">25</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">5</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">47</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">55</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">seq_sch(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">47</span><span style=\"background-color:#f7faff;\">);</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">结果为</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">6<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;&lt;br /&gt;&quot;</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">测试：二分查找<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$arr2 </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">5</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">9</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">15</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">25</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">34</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">47</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">55</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">76</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">echo </span><span style=\"background-color:#f7faff;\">bin_sch(</span><span style=\"color:#660000;background-color:#f7faff;\">$arr2</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">7</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#0000ff;background-color:#f7faff;\">47</span><span style=\"background-color:#f7faff;\">);</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">结果为</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">5<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"><br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">洗牌算法<br/></span><span style=\"color:#660000;background-color:#f7faff;\">$card_num </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">54</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">牌数<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">function </span><span style=\"background-color:#f7faff;\">wash_card(</span><span style=\"color:#660000;background-color:#f7faff;\">$card_num</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$cards </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$tmp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array</span><span style=\"background-color:#f7faff;\">();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$card_num</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">++){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$tmp</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">for</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#660000;background-color:#f7faff;\">$i </span><span style=\"background-color:#f7faff;\">&lt; </span><span style=\"color:#660000;background-color:#f7faff;\">$card_num</span><span style=\"background-color:#f7faff;\">;</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">++){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$index </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">rand</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$card_num</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$cards</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$i</span><span style=\"background-color:#f7faff;\">] = </span><span style=\"color:#660000;background-color:#f7faff;\">$tmp</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$index</span><span style=\"background-color:#f7faff;\">];<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">unset</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$tmp</span><span style=\"background-color:#f7faff;\">[</span><span style=\"color:#660000;background-color:#f7faff;\">$index</span><span style=\"background-color:#f7faff;\">]);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$tmp </span><span style=\"background-color:#f7faff;\">= </span><span style=\"background-color:#f7faff;font-style:italic;\">array_values</span><span style=\"background-color:#f7faff;\">(</span><span style=\"color:#660000;background-color:#f7faff;\">$tmp</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$cards</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\">}<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">测试：<br/></span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">(wash_card(</span><span style=\"color:#660000;background-color:#f7faff;\">$card_num</span><span style=\"background-color:#f7faff;\">));</span></pre><p><br/></p>', '2018-07-20 01:06:12', '2018-07-20 01:06:35', null, null, '64', '1', '1', '/index/article/show/id/60.html');
INSERT INTO `blog_article` VALUES ('61', '20', '步步深入：MySQL架构总览->查询执行流程->SQL解析顺序', '步步,深入,架构,查询,解析', '前言：　　一直是想知道一条SQL语句是怎么被执行的，它执行的顺序是怎样的，然后查看总结各方资料，就有了下面这一篇博文了。　　本文将从MySQL总体架构--->查询执行流程--->语句执行顺序来探讨一下其中的知识。 一、MySQL架构总览：　　架构最好看图，再配上必要的说明文字。　　下图根据参考书籍中一图为原本，再在其上添加上了自己的理解。 　　从上图中我们可以看到，整个架构分为两层，上层是MySQLD的被称为的‘SQL Layer’，下层是各种各样对上提供接口的存', '', '<div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 16px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">前言：</span></strong></span></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　一直是想知道一条SQL语句是怎么被执行的，它执行的顺序是怎样的，然后查看总结各方资料，就有了下面这一篇博文了。</span></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　本文将从MySQL总体架构---&gt;查询执行流程---&gt;语句执行顺序来探讨一下其中的知识。</span></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 16px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">一、MySQL架构总览：</span></strong></span></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　架构最好看图，再配上必要的说明文字。</span></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　下图根据参考书籍中一图为原本，再在其上添加上了自己的理解。</span></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\"><img src=\"https://images2015.cnblogs.com/blog/701942/201512/701942-20151210224128402-1287669438.png\" alt=\"\" style=\"margin: 0px; padding: 0px; max-width: 800px;\"/></span></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 1.5; font-family: &quot;Microsoft YaHei&quot;;\">　　从上图中我们可以看到，整个架构分为两层，上层是MySQLD的被称为的‘SQL Layer’，下层是各种各样对上提供接口的存储引擎，被称为‘Storage Engine Layer’。其它各个模块和组件，从名字上就可以简单了解到它们的作用，这里就不再累述了。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 16px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">二、查询执行流程</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　下面再向前走一些，容我根据自己的认识说一下查询执行的流程是怎样的：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px;\"><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;;\">1.连接</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　1.1客户端发起一条Query请求，监听客户端的‘连接管理模块’接收请求</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　1.2将请求转发到‘连接进/线程模块’</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　1.3调用‘用户模块’来进行授权检查</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　1.4通过检查后，‘连接进/线程模块’从‘线程连接池’中取出空闲的被缓存的连接线程和客户端请求对接，如果失败则创建一个新的连接请求</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\">2.处理</span></strong></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.1先查询缓存，检查Query语句是否完全匹配，接着再检查是否具有权限，都成功则直接取数据返回</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.2上一步有失败则转交给‘命令解析器’，经过词法分析，语法分析后生成解析树</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.3接下来是预处理阶段，处理解析器无法解决的语义，检查权限等，生成新的解析树</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.4再转交给对应的模块处理</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.5如果是SELECT查询还会经由‘查询优化器’做大量的优化，生成执行计划</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.6模块收到请求后，通过‘访问控制模块’检查所连接的用户是否有访问目标表和目标字段的权限</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.7有则调用‘表管理模块’，先是查看table cache中是否存在，有则直接对应的表和获取锁，否则重新打开表文件</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.8根据表的meta数据，获取表的存储引擎类型等信息，通过接口调用对应的存储引擎处理</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.9上述过程中产生数据变化的时候，若打开日志功能，则会记录到相应二进制日志文件中</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\">3.结果</span></strong></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　3.1Query请求完成后，将结果集返回给‘连接进/线程模块’</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　3.2返回的也可以是相应的状态标识，如成功或失败等</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　3.3‘连接进/线程模块’进行后续的清理工作，并继续等待请求或断开与客户端的连接</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px; font-size: 10pt; line-height: 1.5;\">&nbsp;</strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\">一图小总结</strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><img src=\"https://images2015.cnblogs.com/blog/701942/201512/701942-20151210224221011-1559007674.png\" alt=\"\" style=\"margin: 0px; padding: 0px; max-width: 800px;\"/></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 16px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">三、SQL解析顺序</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　接下来再走一步，让我们看看一条SQL语句的前世今生。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　首先看一下示例语句</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">DISTINCT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> select_list <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> left_table <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> join_type <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> right_table <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> join_condition <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> where_condition <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> group_by_list <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">HAVING</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> having_condition <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ORDER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> order_by_condition <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">LIMIT </span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> limit_number <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;<br/></span></pre></div></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\">　　然而它的执行顺序是这样的</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>left_table<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>join_condition<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 3</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>join_type<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>right_table<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 4</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>where_condition<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 5</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>group_by_list<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">HAVING</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>having_condition<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 7</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 8</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">DISTINCT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>select_list<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\"> 9</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ORDER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>order_by_condition<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">10</span> LIMIT <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span>limit_number<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span></pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　虽然自己没想到是这样的，不过一看还是很自然和谐的，从哪里获取，不断的过滤条件，要选择一样或不一样的，排好序，那才知道要取前几条呢。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">既然如此了，那就让我们一步步来看看其中的细节吧。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px;\"><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;;\">准备工作</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">　　1.创建测试数据库</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">create</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">database</span> testQuery</pre></div></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\">　　2.创建测试表</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">CREATE</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">TABLE</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> table1\n(\n &nbsp; &nbsp;uid </span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">VARCHAR</span>(<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">10</span>) <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">NOT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">,\n &nbsp; &nbsp;name </span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">VARCHAR</span>(<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">10</span>) <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">NOT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">, &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">PRIMARY</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">KEY</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">(uid)\n)ENGINE</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span>INNODB <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">DEFAULT</span> CHARSET<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">UTF8;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">CREATE</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">TABLE</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> table2\n(\n &nbsp; &nbsp;oid </span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">INT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">NOT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> auto_increment,\n &nbsp; &nbsp;uid </span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">VARCHAR</span>(<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">10</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">), &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">PRIMARY</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">KEY</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">(oid)\n)ENGINE</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span>INNODB <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">DEFAULT</span> CHARSET<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span>UTF8;</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\">　　3.插入数据</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">INSERT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">INTO</span> table1(uid,name) <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">VALUES</span>(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">aaa</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>,<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">bbb</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>,<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">jack</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">ccc</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>,<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">ddd</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>,<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">);</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">INSERT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">INTO</span> table2(uid) <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">VALUES</span>(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">aaa</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">aaa</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">bbb</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">bbb</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">bbb</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">ccc</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>),(<span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span>);</pre></div></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\">　　4.最后想要的结果</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">\n &nbsp; &nbsp;a.uid, &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> total</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">\n &nbsp; &nbsp;table1 </span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">\n &nbsp; &nbsp;a. NAME </span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">\n &nbsp; &nbsp;a.uid</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">HAVING</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ORDER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">\n &nbsp; &nbsp;total </span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">DESC</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">LIMIT </span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span>;</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">！现在开始SQL解析之旅吧！</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px; font-size: 10pt; line-height: 1.5;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">1. FROM</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">当涉及多个表的时候，左边表的输出会作为右边表的输入，之后会生成一个虚拟表VT1。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">(1-J1)笛卡尔积</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">计算两个相关联表的笛卡尔积(CROSS JOIN) ，生成虚拟表VT1-J1。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">select</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">*</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">from</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> table1,table2;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+-----+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> name <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> oid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+-----+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">3</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">3</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">3</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">3</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">4</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">4</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">4</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">4</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">5</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">5</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">5</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">5</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">7</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">7</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">7</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">7</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+-----+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">28</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 1.5; font-family: &quot;Microsoft YaHei&quot;;\">(1-J2)ON过滤</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">基于虚拟表VT1-J1这一个虚拟表进行过滤，过滤出所有满足ON 谓词条件的列，生成虚拟表VT1-J2。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">注意：这里因为语法限制，使用了&#39;WHERE&#39;代替，从中读者也可以感受到两者之间微妙的关系；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">*</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> table1, &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> table2 &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> table2.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> ;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+-----+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> name <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> oid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+-----+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">3</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">4</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">5</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>   <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+-----+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">(1-J3)添加外部列</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">如果使用了外连接(LEFT,RIGHT,FULL)，主表（保留表）中的不符合ON条件的列也会被加入到VT1-J2中，作为外部行，生成虚拟表VT1-J3。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">*</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">OUTER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> name <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> oid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">3</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">4</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> jack <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">5</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> bbb  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">7</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\">下面从网上找到一张很形象的关于‘SQL JOINS&#39;的解释图，如若侵犯了你的权益，请劳烦告知删除，谢谢。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\"><img src=\"https://images2015.cnblogs.com/blog/701942/201512/701942-20151210224510246-264811072.png\" alt=\"\" style=\"margin: 0px; padding: 0px; max-width: 800px;\"/></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">2. WHERE</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">对VT1过程中生成的临时表进行过滤，满足WHERE子句的列被插入到VT2表中。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">注意：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">此时因为分组，不能使用聚合运算；也不能使用SELECT中创建的别名；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(235, 0, 115); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">与ON的区别：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">如果有外部列，ON针对过滤的是关联表，主表（保留表）会返回所有的列；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">如果没有添加外部列，两者的效果是一样的；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(88, 152, 255); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">应用：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">对主表的过滤应该放在WHERE；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">对于关联表，先条件查询后连接则用ON，先连接后条件查询则用WHERE；</span></div></div></div></div></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">*</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">OUTER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> a. NAME <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> name <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> oid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">4</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><span class=\"cnblogs_code_copy\" style=\"margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;\"><a title=\"复制代码\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); text-decoration-line: underline; border: none !important;\" href=\"http://\"></a></span></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div></div></div></div><div style=\"color: rgb(51, 51, 51); white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">3. GROUP BY</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">这个子句会把VT2中生成的表按照GROUP BY中的列进行分组。生成VT3表。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">注意：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">其后处理过程的语句，如SELECT,HAVING，所用到的列必须包含在GROUP BY中，对于没有出现的，得用聚合函数；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(255, 173, 91); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">原因：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">GROUP BY改变了对表的引用，将其转换为新的引用方式，能够对其进行下一级逻辑操作的列会减少；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(51, 102, 255); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">我的理解是：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">根据分组字段，将具有相同分组字段的记录归并成一条记录，因为每一个分组只能返回一条记录，除非是被过滤掉了，而不在分组字段里面的字段可能会有多个值，多个值是无法放进一条记录的，所以必须通过聚合函数将这些具有多值的列转换成单值；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">*</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">OUTER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> a. NAME <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> name <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> oid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> aaa  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">3</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">4. HAVING</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">这个子句对VT3表中的不同的组进行过滤，只作用于分组后的数据，满足HAVING条件的子句被加入到VT4表中。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">*</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">OUTER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> a. NAME <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">HAVING</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> name <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> oid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">6</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc  <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> mike <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">NULL</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+------+------+------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">5. SELECT</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">这个子句对SELECT子句中的元素进行处理，生成VT5表。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">(5-J1)计算表达式 计算SELECT 子句中的表达式，生成VT5-J1</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">(5-J2)DISTINCT</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">寻找VT5-1中的重复列，并删掉，生成VT5-J2</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">如果在查询中指定了DISTINCT子句，则会创建一张内存临时表（如果内存放不下，就需要存放在硬盘了）。这张临时表的表结构和上一步产生的虚拟表VT5是一样的，不同的是对进行DISTINCT操作的列增加了一个唯一索引，以此来除重复数据。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid, &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> total &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">OUTER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> a. NAME <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">HAVING</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> total <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>     <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>     <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><br/></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">6.ORDER BY</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">从VT5-J2中的表中，根据ORDER BY 子句的条件对结果进行排序，生成VT6表。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">注意：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">唯一可使用SELECT中别名的地方；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"><span class=\"cnblogs_code_copy\" style=\"margin: 0px; padding: 0px 5px 0px 0px; line-height: 1.5 !important;\"><a title=\"复制代码\" style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 0); text-decoration-line: underline; border: none !important;\" href=\"http://\"></a></span></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid, &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> total &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">OUTER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> a. NAME <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">HAVING</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ORDER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> total <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">DESC</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> total <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>     <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ddd <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>     <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span> rows <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 14px; font-family: &quot;Microsoft YaHei&quot;;\"><strong style=\"margin: 0px; padding: 0px;\"><span data-wiz-span=\"data-wiz-span\" style=\"margin: 0px; padding: 0px;\">7.LIMIT</span></strong></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">LIMIT子句从上一步得到的VT6虚拟表中选出从指定位置开始的指定行数据。</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">注意：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">offset和rows的正负带来的影响；</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(60, 179, 113); font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">当偏移量很大时效率是很低的，可以这么做：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">采用子查询的方式优化，在子查询里先从索引获取到最大id，然后倒序排，再取N行结果集</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; font-family: &quot;Microsoft YaHei&quot;;\">采用INNER JOIN优化，JOIN子句里也优先从索引获取ID列表，然后直接关联查询获得最终结果</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"></div><pre style=\"font-family: &quot;Courier New&quot; !important;\">mysql<span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">SELECT</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid, &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> total &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">FROM</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> table1 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">LEFT</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">JOIN</span> table2 <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">AS</span> b <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ON</span> a.uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> b.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">WHERE</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> a. NAME <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">=</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">mike</span><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); line-height: 1.5 !important;\">&#39;</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">GROUP</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\"> a.uid &nbsp; &nbsp;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">HAVING</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 255); line-height: 1.5 !important;\">count</span>(b.oid) <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">&lt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">2</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">ORDER</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">BY</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> total <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">DESC</span>\n    <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">-&gt;</span> LIMIT <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5 !important;\">;</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> uid <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> total <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span> ccc <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span>     <span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">|</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">+</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">--</span><span style=\"margin: 0px; padding: 0px; color: rgb(0, 128, 128); line-height: 1.5 !important;\">---+-------+</span><span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">1</span> row <span style=\"margin: 0px; padding: 0px; color: rgb(128, 128, 128); line-height: 1.5 !important;\">in</span> <span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255); line-height: 1.5 !important;\">set</span> (<span style=\"margin: 0px; padding: 0px; color: rgb(128, 0, 0); font-weight: bold; line-height: 1.5 !important;\">0.00</span> sec)</pre><div class=\"cnblogs_code_toolbar\" style=\"margin-top: 5px;\"></div></div><p style=\"margin: 10px auto;\">&nbsp;</p></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\">至此SQL的解析之旅就结束了，上图总结一下：</span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px; line-height: 21.1111px; font-family: &quot;Microsoft YaHei&quot;;\"><img src=\"https://images2015.cnblogs.com/blog/701942/201512/701942-20151210224616246-320415795.png\" alt=\"\" style=\"margin: 0px; padding: 0px; max-width: 800px;\"/></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;;\"><span style=\"margin: 0px; padding: 0px; font-size: 16px;\"><strong style=\"margin: 0px; padding: 0px;\">参考书籍：</strong></span></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px;\"><span style=\"margin: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;;\">《MySQL性能调优与架构实践》</span></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"margin: 0px; padding: 0px; font-size: 12px;\"><span style=\"margin: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;;\">《MySQL技术内幕：SQL编程》</span></span></div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\">&nbsp;</div><div style=\"font-size: 13.3333px; line-height: 21.1111px;\"><br/></div></div></div></div></div></div></div><div style=\"white-space: normal; font-family: 微软雅黑; font-size: 13.3333px; line-height: 21.1111px;\"><span style=\"color:#333333\">&nbsp;</span><strong style=\"\"><span style=\"color:#c3d69b\">　　转：http://www.cnblogs.com/annsshadow/p/5037667.html</span></strong></div><p><br/></p>', '2018-07-21 23:57:22', '2018-07-24 10:18:21', null, null, '64', '1', '1', '/index/article/show/id/61.html');
INSERT INTO `blog_article` VALUES ('62', '11', 'Javascript 事件整理', 'javascript,事件,整理', '// 根据表单class提交document.forms[&#39;classname&#39;].submit();// 鼠标移入 选中input值document.getElementById(&#39;btn&#39;).onmouseover = function(){this.select()}// 在父级窗口打开新窗口window.open(&#39;url&#39;,&#39;test&#39;,&#39;width:200px;height:200px&#39;);// 在新窗口', '', '<p>// 根据表单class提交</p><p>document.forms[&#39;classname&#39;].submit();</p><p><br/></p><p>// 鼠标移入 选中input值</p><p>document.getElementById(&#39;btn&#39;).onmouseover = function(){this.select()}</p><p><br/></p><p>// 在父级窗口打开新窗口</p><p>window.open(&#39;url&#39;,&#39;test&#39;,&#39;width:200px;height:200px&#39;);</p><p><br/></p><p>// 在新窗口中获取父级页面</p><p>window.opener.document.getElementById(&#39;parentDiv&#39;).innerHTML(&#39;dsdsds&#39;);</p><p>window.close();</p><p><br/></p><p>// 创建DOM节点</p><p>var mydiv = document.createElemet(&#39;div&#39;);</p><p>var myspan = document.createElement(&#39;span&#39;);</p><p>myspan.innerHTML(&#39;test&#39;);</p><p>var mya = document.createElement(&#39;a&#39;);</p><p>mya.href=&#39;xxxx&#39;;</p><p><br/></p><p>myspan.appendChild(mya);</p><p>mydiv.appendChild(myspan);</p><p>document.body.appendChild(mydiv);</p>', '2018-07-24 10:06:01', '2018-07-24 10:16:45', null, null, '67', '1', '1', '/index/article/show/id/62.html');
INSERT INTO `blog_article` VALUES ('63', '11', 'JS 对象 new', '对象', 'var initCommon = function () {    var _this = this;    this.name = &#39;aaaa&#39;;    this.age = 28;    this.getName = function (value) {        this.before();        return _this.name+this.age+value;    }    this.before = function () {        consol', '', '<pre style=\"font-family: &quot;Source Code Pro&quot;; font-size: 10.8pt;\"><span style=\"color:#000080;font-weight:bold;\">var </span><span style=\"font-style:italic;\">initCommon </span>= <span style=\"color:#000080;font-weight:bold;\">function </span>() {<br/>    <span style=\"color:#000080;font-weight:bold;\">var </span><span style=\"color:#458383;\">_this </span>= <span style=\"color:#000080;font-weight:bold;\">this</span>;<br/>    <span style=\"color:#000080;font-weight:bold;\">this</span>.<span style=\"color:#660e7a;font-weight:bold;\">name </span>= <span style=\"color:#008000;font-weight:bold;\">&#39;aaaa&#39;</span>;<br/>    <span style=\"color:#000080;font-weight:bold;\">this</span>.<span style=\"color:#660e7a;font-weight:bold;\">age </span>= <span style=\"color:#0000ff;\">28</span>;<br/>    <span style=\"color:#000080;font-weight:bold;\">this</span>.<span style=\"color:#7a7a43;\">getName </span>= <span style=\"color:#000080;font-weight:bold;\">function </span>(value) {<br/>        <span style=\"color:#000080;font-weight:bold;\">this</span>.<span style=\"color:#7a7a43;\">before</span>();<br/>        <span style=\"color:#000080;font-weight:bold;\">return </span><span style=\"color:#458383;\">_this</span>.<span style=\"color:#660e7a;font-weight:bold;\">name</span>+<span style=\"color:#000080;font-weight:bold;\">this</span>.<span style=\"color:#660e7a;font-weight:bold;\">age</span>+value;<br/>    }<br/><br/>    <span style=\"color:#000080;font-weight:bold;\">this</span>.<span style=\"color:#7a7a43;\">before </span>= <span style=\"color:#000080;font-weight:bold;\">function </span>() {<br/>        <span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">console</span>.<span style=\"color:#7a7a43;\">log</span>(<span style=\"color:#008000;font-weight:bold;\">&#39;init function&#39;</span>)<br/>    }<br/>}<br/><br/><br/><span style=\"color:#000080;font-weight:bold;\">var </span><span style=\"color:#458383;\">mycommon </span>= <span style=\"color:#000080;font-weight:bold;\">new </span><span style=\"font-style:italic;\">initCommon</span>();<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">console</span>.<span style=\"color:#7a7a43;\">log</span>(<span style=\"color:#458383;\">mycommon</span>)<br/><span style=\"color:#660e7a;font-weight:bold;font-style:italic;\">console</span>.<span style=\"color:#7a7a43;\">log</span>(<span style=\"color:#458383;\">mycommon</span>.<span style=\"color:#7a7a43;\">getName</span>(<span style=\"color:#008000;font-weight:bold;\">&#39;ijiji&#39;</span>))</pre><p><br/></p>', '2018-07-25 21:19:34', '2018-07-25 21:19:42', null, null, '57', '0', '0', '/index/article/show/id/63.html');
INSERT INTO `blog_article` VALUES ('64', '11', 'XHR-上传文件-上传进度', 'AJAX', '&lt;html&gt;	&lt;body&gt;&lt;form action=&quot;02.php&quot;&gt;	&lt;input type=&quot;text&quot; name=&quot;message&quot;&gt;&lt;br /&gt;	&lt;input type=&quot;file&quot; name=&quot;avatar&quot; id=&quot;aaaa&quot; multiple=&quot;multiple&quot; /&gt;&l', '', '<p>&lt;html&gt;</p><p><span style=\"white-space:pre\">	</span></p><p>&lt;body&gt;</p><p>&lt;form action=&quot;02.php&quot;&gt;</p><p><span style=\"white-space:pre\">	</span>&lt;input type=&quot;text&quot; name=&quot;message&quot;&gt;&lt;br /&gt;</p><p><span style=\"white-space:pre\">	</span>&lt;input type=&quot;file&quot; name=&quot;avatar&quot; id=&quot;aaaa&quot; multiple=&quot;multiple&quot; /&gt;&lt;br /&gt;</p><p><span style=\"white-space:pre\">	</span>&lt;div id=&quot;progress&quot;&gt;</p><p><span style=\"white-space:pre\">		</span>&lt;div id=&quot;son&quot;&gt;&lt;/div&gt;</p><p><span style=\"white-space:pre\">	</span>&lt;/div&gt;</p><p><span style=\"white-space:pre\">	</span>&lt;button type=&quot;submit&quot; &gt;go&lt;/button&gt;&lt;br /&gt;</p><p>&lt;/form&gt;</p><p>&lt;style&gt;</p><p><span style=\"white-space:pre\">	</span>#progress {width:300px;border:1px solid #000;height:50px;}</p><p><span style=\"white-space:pre\">	</span>#son {width:0%;background-color:green;;height:50px;}</p><p>&lt;/style&gt;</p><p>&lt;script type=&quot;text/javascript&quot;&gt;</p><p>window.onload = function (){</p><p><span style=\"white-space:pre\">	</span>var btn = document.getElementsByTagName(&#39;form&#39;)[0];</p><p>&nbsp; &nbsp; btn.onsubmit = function(e)</p><p><span style=\"white-space:pre\">	</span>{</p><p><span style=\"white-space:pre\">		</span>// 获取单个文件域，这里是为了测试多文件</p><p><span style=\"white-space:pre\">		</span>var file = document.getElementById(&#39;aaaa&#39;).files;</p><p><span style=\"white-space:pre\">		</span>console.log(file)</p><p><span style=\"white-space:pre\">		</span>// 文件列表</p><p><span style=\"white-space:pre\">		</span>for(var i=0; i&lt;file.length;i++){</p><p><span style=\"white-space:pre\">			</span>console.log(file[i])</p><p><span style=\"white-space:pre\">			</span>//data.append(&#39;file[]&#39;, file[i]);</p><p><span style=\"white-space:pre\">		</span>}</p><p><span style=\"white-space:pre\">		</span>// 获取表单数据</p><p><span style=\"white-space:pre\">		</span>var data = new FormData(btn);</p><p><span style=\"white-space:pre\">		</span>// XHR</p><p><span style=\"white-space:pre\">		</span>var xhr = new XMLHttpRequest();</p><p><span style=\"white-space:pre\">		</span>// 监听</p><p><span style=\"white-space:pre\">		</span>xhr.onreadystatechange = function(){</p><p><span style=\"white-space:pre\">			</span>if(xhr.readyState == 4 &amp;&amp; xhr.status == 200){</p><p><span style=\"white-space:pre\">				</span>console.log(xhr.responseText)</p><p><span style=\"white-space:pre\">			</span>}</p><p><span style=\"white-space:pre\">		</span>}</p><p><span style=\"white-space:pre\">		</span>// 监听文件上传进度 aa.loaded 上传了多少&nbsp; aa.total文件总大小</p><p><span style=\"white-space:pre\">		</span>xhr.upload.onprogress = function(aa)</p><p><span style=\"white-space:pre\">		</span>{</p><p><span style=\"white-space:pre\">			</span>var divv = document.getElementById(&#39;progress&#39;);</p><p><span style=\"white-space:pre\">			</span>var son = document.getElementById(&#39;son&#39;);</p><p><span style=\"white-space:pre\">			</span>var loaded = aa.loaded;</p><p><span style=\"white-space:pre\">			</span>var total = aa.total;</p><p><span style=\"white-space:pre\">			</span>var pro = Math.floor((loaded/total)*100)+&#39;%&#39;;</p><p><span style=\"white-space:pre\">			</span>var inpro = &#39;all=&#39;+ total+&#39;;already up=&#39;+loaded+&#39;;progress=&#39;+aa.loaded/aa.total;</p><p><span style=\"white-space:pre\">			</span>son.style.width = pro;</p><p><span style=\"white-space:pre\">			</span>son.innerHTML = pro;</p><p><span style=\"white-space:pre\">		</span>}</p><p><span style=\"white-space:pre\">		</span>// open</p><p><span style=\"white-space:pre\">		</span>xhr.open(&#39;POST&#39;,&#39;02.php&#39;);</p><p><span style=\"white-space:pre\">		</span>// 发送</p><p><span style=\"white-space:pre\">		</span>xhr.send(data);</p><p><span style=\"white-space:pre\">		</span>// 阻止jump</p><p><span style=\"white-space:pre\">		</span>e.preventDefault();</p><p><span style=\"white-space:pre\">	</span>}</p><p>}</p><p>&nbsp; &nbsp;&nbsp;</p><p>&lt;/script&gt;</p><p>&lt;/body&gt;</p><p>&lt;/html&gt;</p><p><br/></p>', '2018-07-31 10:20:21', '2018-07-31 10:20:51', null, null, '67', '1', '1', '/index/article/show/id/64.html');
INSERT INTO `blog_article` VALUES ('65', '26', 'TCP/IP', 'TCP/IP', '一款抓包工具 wiresharkHTTP请求原理：TCP/IP 三次握手（C-客户端  S-服务器）C------------标志位 SYN， 代表请求建立连接  发送seq=X -------SS------------标志位 SYN ACK，服务器返回确认包 seq=Y，ack=X+1--------CC------------标志位 ACK ,检查ack是否等于X+1，ACK是否标为1，正确，发送ack=Y+1-------S（1）第一次握手：Client将标志位SYN', '', '<p><strong>一款抓包工具 wireshark</strong></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><strong><span style=\"font-size:18px\">TCP/IP 三次握手（C-客户端&nbsp; S-服务器）</span></strong></p><p><br/></p><p>C------------标志位<strong> SYN</strong>， 代表请求建立连接&nbsp; 发送<strong>seq=X</strong> -------S</p><p>S------------标志位 <strong>SYN ACK</strong>，服务器返回确认包 <strong>seq=Y，ack=X+1</strong>--------C</p><p>C------------标志位<strong> ACK</strong> ,检查ack是否等于<strong>X+1</strong>，ACK是否标为1，正确，发送<strong>ack=Y+1</strong>-------S</p><p><br/></p><p><strong><img src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/0354d008f1c57b920b89209b52305a24.png\" _src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/0354d008f1c57b920b89209b52305a24.png\"/></strong><br/></p><p><strong></strong></p><div><div><p>（1）第一次握手：Client将标志位SYN置为1，随机产生一个值seq=J，并将该数据包发送给Server，Client进入SYN_SENT状态，等待Server确认。</p><p>（2）第二次握手：Server收到数据包后由标志位SYN=1知道Client请求建立连接，Server将标志位SYN和ACK都置为1，ack=J+1，随机产生一个值seq=K，并将该数据包发送给Client以确认连接请求，Server进入SYN_RCVD状态。</p><p>（3）第三次握手：Client收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给Server，Server检查ack是否为K+1，ACK是否为1，如果正确则连接建立成功，Client和Server进入ESTABLISHED状态，完成三次握手，随后Client与Server之间可以开始传输数据了。</p></div><p><br/></p><p><br/></p><p><span style=\"font-size: large; font-weight: 700; white-space: normal;\">TCP/IP四次挥手</span></p><p><span style=\"font-size: large; font-weight: 700; white-space: normal;\"><img src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/62cef47fe60c5fc63daa8519405e7c04.png\" _src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/62cef47fe60c5fc63daa8519405e7c04.png\"/></span></p><p><span style=\"font-size:18px\"><strong>上图第四次挥手K应该为N</strong></span></p><p><span style=\"font-size:18px\"><strong></strong></span></p><div><div><p>（1）第一次挥手：Client发送一个FIN，用来关闭Client到Server的数据传送，Client进入FIN_WAIT_1状态。</p><p>（2）第二次挥手：Server收到FIN后，发送一个ACK给Client，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号），Server进入CLOSE_WAIT状态。</p><p>（3）第三次挥手：Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态。</p><p>（4）第四次挥手：Client收到FIN后，Client进入TIME_WAIT状态，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入CLOSED状态，完成四次挥手。</p></div><br/><br/>作者：RaphetS<br/>链接：https://www.jianshu.com/p/ef892323e68f<br/>來源：简书<br/>简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</div><p><br/></p></div>', '2018-08-15 21:03:26', '2018-08-15 21:24:48', null, null, '32', '0', '0', '/index/article/show/id/65.html');
INSERT INTO `blog_article` VALUES ('66', '26', 'HTTP协议', 'HTTP协议', 'HTTP简介HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写,是用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。HTTP是一个基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。目前在WWW中使用的是HTTP/1.0的第六', '', '<h1 class=\"title\" style=\"margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP简介</span></h1><div class=\"show-content\" style=\"font-size: 14px; white-space: normal;\"><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写,是用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP是一个基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。目前在WWW中使用的是HTTP/1.0的第六版，HTTP/1.1的规范化工作正在进行之中，而且HTTP-NG(Next Generation of HTTP)的建议已经提出。</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP协议工作于客户端-服务端架构为上。浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。Web服务器根据接收到的请求后，向客户端发送响应信息。</span></p><h1 style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">主要特点</span></h1><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">1、简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">2、灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">3.无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">4.无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">5、支持B/S及C/S模式。</span></p><h1 style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP之URL</span></h1><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP使用统一资源标识符（Uniform Resource Identifiers, URI）来传输数据和建立连接。URL是一种特殊类型的URI，包含了用于查找某个资源的足够的信息</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">URL,全称是UniformResourceLocator, 中文叫统一资源定位符,是互联网上用来标识某一处资源的地址。以下面这个URL为例，介绍下普通URL的各部分组成：</span></p><h4 style=\"font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 16px; margin: 10px; line-height: 1.5; padding-left: 10px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><a href=\"http://www.aspxfans.com:8080/news/index.asp?boardID=5&ID=24618&page=1#name\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">http://www.aspxfans.com:8080/news/index.asp?boardID=5&amp;ID=24618&amp;page=1#name</a></span></h4><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">从上面的URL可以看出，一个完整的URL包括以下几部分：</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">1.协议部分：该URL的协议部分为“http：”，这代表网页使用的是HTTP协议。在Internet中可以使用多种协议，如HTTP，FTP等等本例中使用的是HTTP协议。在&quot;HTTP&quot;后面的“//”为分隔符</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">2.域名部分：该URL的域名部分为“www.aspxfans.com”。一个URL中，也可以使用IP地址作为域名使用</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">3.端口部分：跟在域名后面的是端口，域名和端口之间使用“:”作为分隔符。端口不是一个URL必须的部分，如果省略端口部分，将采用默认端口</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">4.虚拟目录部分：从域名后的第一个“/”开始到最后一个“/”为止，是虚拟目录部分。虚拟目录也不是一个URL必须的部分。本例中的虚拟目录是“/news/”</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">5.文件名部分：从域名后的最后一个“/”开始到“？”为止，是文件名部分，如果没有“?”,则是从域名后的最后一个“/”开始到“#”为止，是文件部分，如果没有“？”和“#”，那么从域名后的最后一个“/”开始到结束，都是文件名部分。本例中的文件名是“index.asp”。文件名部分也不是一个URL必须的部分，如果省略该部分，则使用默认的文件名</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">6.锚部分：从“#”开始到最后，都是锚部分。本例中的锚部分是“name”。锚部分也不是一个URL必须的部分</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">7.参数部分：从“？”开始到“#”为止之间的部分为参数部分，又称搜索部分、查询部分。本例中的参数部分为“boardID=5&amp;ID=24618&amp;page=1”。参数可以允许有多个参数，参数与参数之间用“&amp;”作为分隔符。</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">（原文：<a href=\"http://blog.csdn.net/ergouge/article/details/8185219\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">http://blog.csdn.net/ergouge/article/details/8185219</a>&nbsp;）</span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><br/></span></p><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"></span></p><h1 style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP之请求消息Request</span></h1><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">客户端发送一个HTTP请求到服务器的请求消息包括以下格式：</span></p><h5 style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">请求行（request line）、请求头部（header）、空行和请求数据四个部分组成。</span></h5><p style=\"font-family: Verdana, Arial, Helvetica, sans-serif; margin: 10px auto;\"><img src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/69b7b9b9cc515396142fb817f6668545.png\" _src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/69b7b9b9cc515396142fb817f6668545.png\"/></p><p style=\"margin: 10px auto;\"><span style=\"font-family:Verdana, Arial, Helvetica, sans-serif\"><br/></span></p><p style=\"margin: 10px auto;\"><span style=\"font-family:Verdana, Arial, Helvetica, sans-serif\"></span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">Get请求例子，使用Charles抓取的request：</span></h5><pre class=\"hljs cpp\" style=\"margin-left: 22px; font-size: 14px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\">GET /<span class=\"hljs-number\">562f25980001b1b106000338.jpg HTTP/<span class=\"hljs-number\">1.1\nHost &nbsp; &nbsp;img.mukewang.com\nUser-Agent &nbsp; &nbsp;Mozilla/<span class=\"hljs-number\">5.0 (Windows NT <span class=\"hljs-number\">10.0; WOW64) AppleWebKit/<span class=\"hljs-number\">537.36 (KHTML, like Gecko) Chrome/<span class=\"hljs-number\">51.0<span class=\"hljs-number\">.2704<span class=\"hljs-number\">.106 Safari/<span class=\"hljs-number\">537.36\nAccept &nbsp; &nbsp;image/webp,image<span class=\"hljs-comment\" style=\"color: green;\">/*,*/*;q=<span class=\"hljs-number\">0.8\nReferer &nbsp; &nbsp;http:<span class=\"hljs-comment\">//www.imooc.com/\nAccept-Encoding &nbsp; &nbsp;gzip, deflate, sdch\nAccept-Language &nbsp; &nbsp;zh-CN,zh;q=<span class=\"hljs-number\">0.8</span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第一部分：请求行，用来说明请求类型,要访问的资源以及所使用的HTTP版本.</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">GET说明请求类型为GET,[/562f25980001b1b106000338.jpg]为要访问的资源，该行的最后一部分说明使用的是HTTP1.1版本。</span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第二部分：请求头部，紧接着请求行（即第一行）之后的部分，用来说明服务器要使用的附加信息</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">从第二行起为请求头部，HOST将指出请求的目的地.User-Agent,服务器端和客户端脚本都能访问它,它是浏览器类型检测逻辑的重要基础.该信息由你的浏览器来定义,并且在每个请求中自动发送等等</span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第三部分：空行，请求头部后面的空行是必须的</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">即使第四部分的请求数据为空，也必须有空行。</span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第四部分：请求数据也叫主体，可以添加任意的其他数据。</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">这个例子的请求数据为空。</span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">POST请求例子，使用Charles抓取的request：</span></h5><pre class=\"hljs cpp\" style=\"margin-left: 22px; font-size: 14px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\">POST / HTTP1<span class=\"hljs-number\">.1\nHost:www.wrox.com\nUser-Agent:Mozilla/<span class=\"hljs-number\">4.0 (compatible; MSIE <span class=\"hljs-number\">6.0; Windows NT <span class=\"hljs-number\">5.1; SV1; .NET CLR <span class=\"hljs-number\">2.0<span class=\"hljs-number\">.50727; .NET CLR <span class=\"hljs-number\">3.0<span class=\"hljs-number\">.04506<span class=\"hljs-number\">.648; .NET CLR <span class=\"hljs-number\">3.5<span class=\"hljs-number\">.21022)\nContent-Type:application/x-www-form-urlencoded\nContent-Length:<span class=\"hljs-number\">40\nConnection: Keep-Alive\n\nname=Professional%<span class=\"hljs-number\">20Ajax&amp;publisher=Wiley</span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">第一部分：请求行，第一行明了是post请求，以及http1.1版本。</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">第二部分：请求头部，第二行至第六行。</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">第三部分：空行，第七行的空行。</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">第四部分：请求数据，第八行。</span></p><h1 style=\"margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP之响应消息Response</span></h1><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">一般情况下，服务器接收并处理客户端发过来的请求后会返回一个HTTP的响应消息。</span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">HTTP响应也由四个部分组成，分别是：状态行、消息报头、空行和响应正文。</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">&nbsp;</span></p><div class=\"image-package imagebubble\" style=\"font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/e030e1865bd4cd283010d1de3c21756e.jpg\" _src=\"http://bak.ibicw.cn/uploads/umeditor/20180815/e030e1865bd4cd283010d1de3c21756e.jpg\"/><div class=\"image-caption\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">http响应消息格式.jpg</span></div></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><strong>例子</strong></span></p><pre class=\"hljs xml\" style=\"margin-left: 22px; font-size: 14px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"xml\">HTTP/1.1 200 OK\nDate: Fri, 22 May 2009 06:07:21 GMT\nContent-Type: text/html; charset=UTF-8<span class=\"hljs-tag\" style=\"color: rgb(0, 0, 255);\">&lt;<span class=\"hljs-title\" style=\"color: rgb(163, 21, 21);\">html&gt; &nbsp; &nbsp; &nbsp;<span class=\"hljs-tag\" style=\"color: rgb(0, 0, 255);\">&lt;<span class=\"hljs-title\" style=\"color: rgb(163, 21, 21);\">head&gt;<span class=\"hljs-tag\" style=\"color: rgb(0, 0, 255);\">&lt;/<span class=\"hljs-title\" style=\"color: rgb(163, 21, 21);\">head&gt; &nbsp; &nbsp; &nbsp;<span class=\"hljs-tag\" style=\"color: rgb(0, 0, 255);\">&lt;<span class=\"hljs-title\" style=\"color: rgb(163, 21, 21);\">body&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"hljs-comment\" style=\"color: green;\">&lt;!--body goes here--&gt; &nbsp; &nbsp; &nbsp;<span class=\"hljs-tag\" style=\"color: rgb(0, 0, 255);\">&lt;/<span class=\"hljs-title\" style=\"color: rgb(163, 21, 21);\">body&gt;<span class=\"hljs-tag\" style=\"color: rgb(0, 0, 255);\">&lt;/<span class=\"hljs-title\" style=\"color: rgb(163, 21, 21);\">html&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第一部分：状态行，由HTTP协议版本号， 状态码， 状态消息 三部分组成。</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">第一行为状态行，（HTTP/1.1）表明HTTP版本为1.1版本，状态码为200，状态消息为（ok）</span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第二部分：消息报头，用来说明客户端要使用的一些附加信息</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">第二行和第三行为消息报头，</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">Date:生成响应的日期和时间；Content-Type:指定了MIME类型的HTML(text/html),编码类型是UTF-8</span></p><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第三部分：空行，消息报头后面的空行是必须的</span></h5><h5 style=\"margin-top: 10px; margin-bottom: 10px; font-size: 12px; font-weight: bold; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 15px;\">第四部分：响应正文，服务器返回给客户端的文本信息。</span></h5><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">空行后面的html部分为响应正文。</span></p><h1 style=\"margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP之状态码</span></h1><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">状态代码有三位数字组成，第一个数字定义了响应的类别，共分五种类别:</span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">1xx：指示信息--表示请求已接收，继续处理</span></h6><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">2xx：成功--表示请求已被成功接收、理解、接受</span></h6><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">3xx：重定向--要完成请求必须进行更进一步的操作</span></h6><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">4xx：客户端错误--请求有语法错误或请求无法实现</span></h6><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">5xx：服务器端错误--服务器未能实现合法的请求</span></h6><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">常见状态码：</span></p><pre class=\"hljs cpp\" style=\"margin-left: 22px; font-size: 14px;\"><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\"><span class=\"hljs-number\">200 OK &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"hljs-comment\" style=\"color: green;\">//客户端请求成功</span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\"><span class=\"hljs-number\"><span class=\"hljs-comment\" style=\"color: green;\"><span class=\"hljs-number\">400 Bad Request &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class=\"hljs-comment\">//客户端请求有语法错误，不能被服务器所理解</span></span></span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\"><span class=\"hljs-number\"><span class=\"hljs-comment\" style=\"color: green;\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\">401 Unauthorized &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"hljs-comment\">//请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用 \n<span class=\"hljs-number\">403 Forbidden &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class=\"hljs-comment\">//服务器收到请求，但是拒绝提供服务</span></span></span></span></span></span></span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\"><span class=\"hljs-number\"><span class=\"hljs-comment\" style=\"color: green;\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\">404 Not Found &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class=\"hljs-comment\">//请求资源不存在，eg：输入了错误的URL</span></span></span></span></span></span></span></span></span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\"><span class=\"hljs-number\"><span class=\"hljs-comment\" style=\"color: green;\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\">500 Internal Server Error &nbsp; &nbsp; <span class=\"hljs-comment\">//服务器发生不可预期的错误</span></span></span></span></span></span></span></span></span></span></span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\"><span class=\"hljs-number\"><span class=\"hljs-comment\" style=\"color: green;\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\">503 Server Unavailable &nbsp; &nbsp; &nbsp; &nbsp;<span class=\"hljs-comment\">//服务器当前不能处理客户端的请求，一段时间后可能恢复正常</span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\"><span class=\"hljs-number\"><span class=\"hljs-comment\" style=\"color: green;\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\"><span class=\"hljs-comment\"><span class=\"hljs-number\">403 Forbidden &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class=\"hljs-comment\">//服务器收到请求，但是拒绝提供服务</span></span></span></span></span></span></span></span></code></span></p></pre><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">更多状态码<a href=\"http://www.runoob.com/http/http-status-codes.html\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">http://www.runoob.com/http/http-status-codes.html</a></span></p><h1 style=\"margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP请求方法</span></h1><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">根据HTTP标准，HTTP请求可以使用多种请求方法。</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</span></p><pre class=\"hljs sql\" style=\"margin-left: 22px; font-size: 14px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"sql\">GET &nbsp; &nbsp; 请求指定的页面信息，并返回实体主体。\nHEAD &nbsp; &nbsp; 类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头\nPOST &nbsp; &nbsp; 向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。</code></span><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"sql\">PUT &nbsp; &nbsp; 从客户端向服务器传送的数据取代指定的文档的内容。</code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"sql\"><span class=\"hljs-operator\"><span class=\"hljs-keyword\" style=\"color: rgb(0, 0, 255);\">DELETE &nbsp; &nbsp; &nbsp;请求服务器删除指定的页面。</span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"sql\"><span class=\"hljs-operator\"><span class=\"hljs-keyword\" style=\"color: rgb(0, 0, 255);\"><span class=\"hljs-keyword\">CONNECT &nbsp; &nbsp; <span class=\"hljs-keyword\">HTTP/<span class=\"hljs-number\">1.1协议中预留给能够将连接改为管道方式的代理服务器。\nOPTIONS &nbsp; &nbsp; 允许客户端查看服务器的性能。</span></span></span></span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"sql\"><span class=\"hljs-operator\"><span class=\"hljs-keyword\" style=\"color: rgb(0, 0, 255);\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-number\"><span class=\"hljs-keyword\">TRACE &nbsp; &nbsp; 回显服务器收到的请求，主要用于测试或诊断。</span></span></span></span></span></span></code></span></p><p><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"sql\"><span class=\"hljs-operator\"><span class=\"hljs-keyword\" style=\"color: rgb(0, 0, 255);\"><span class=\"hljs-keyword\"><span class=\"hljs-keyword\"><span class=\"hljs-number\"><span class=\"hljs-keyword\"><br/></span></span></span></span></span></span></code></span></p></pre><h1 style=\"margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP工作原理</span></h1><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">HTTP协议定义Web客户端如何从Web服务器请求Web页面，以及服务器如何把Web页面传送给客户端。HTTP协议采用了请求/响应模型。客户端向服务器发送一个请求报文，请求报文包含请求的方法、URL、协议版本、请求头部和请求数据。服务器以一个状态行作为响应，响应的内容包括协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">以下是 HTTP 请求/响应的步骤：</span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">1、客户端连接到Web服务器（先通过tcp协议三次握手）</span></h6><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">一个HTTP客户端，通常是浏览器，与Web服务器的HTTP端口（默认为80）建立一个TCP套接字连接。例如，<a href=\"http://www.oakcms.cn./\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">http://www.oakcms.cn。</a></span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">2、发送HTTP请求</span></h6><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">通过TCP套接字，客户端向Web服务器发送一个文本的请求报文，一个请求报文由请求行、请求头部、空行和请求数据4部分组成。</span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">3、服务器接受请求并返回HTTP响应</span></h6><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">Web服务器解析请求，定位请求资源。服务器将资源复本写到TCP套接字，由客户端读取。一个响应由状态行、响应头部、空行和响应数据4部分组成。</span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">4、释放连接<a href=\"http://www.jianshu.com/p/ef892323e68f\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">TCP连接</a></span></h6><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">若connection 模式为close，则服务器主动关闭<a href=\"http://www.jianshu.com/p/ef892323e68f\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">TCP连接</a>，客户端被动关闭连接，释放<a href=\"http://www.jianshu.com/p/ef892323e68f\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">TCP连接</a>;若connection 模式为keepalive，则该连接会保持一段时间，在该时间内可以继续接收请求;</span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">5、客户端浏览器解析HTML内容</span></h6><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">客户端浏览器首先解析状态行，查看表明请求是否成功的状态代码。然后解析每一个响应头，响应头告知以下为若干字节的HTML文档和文档的字符集。客户端浏览器读取响应数据HTML，根据HTML的语法对其进行格式化，并在浏览器窗口中显示。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">例如：在浏览器地址栏键入URL，按下回车之后会经历以下流程：</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">1、浏览器向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址;</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">2、解析出 IP 地址后，根据该 IP 地址和默认端口 80，和服务器建立<a href=\"http://www.jianshu.com/p/ef892323e68f\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">TCP连接</a>;</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">3、浏览器发出读取文件(URL 中域名后面部分对应的文件)的HTTP 请求，该请求报文作为&nbsp;<a href=\"http://www.jianshu.com/p/ef892323e68f\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">TCP 三次握手</a>的第三个报文的数据发送给服务器;</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">4、服务器对浏览器请求作出响应，并把对应的 html 文本发送给浏览器;</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">5、释放&nbsp;<a href=\"http://www.jianshu.com/p/ef892323e68f\" target=\"_blank\" style=\"color: rgb(29, 88, 209);\">TCP连接</a>;</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">6、浏览器将该 html 文本并显示内容; 　　</span></p><h1 style=\"margin-top: 10px; margin-bottom: 10px; padding-top: 5px; font-size: 28px; font-weight: bold; line-height: 1.5; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">GET和POST请求的区别</span></h1><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">GET请求</span></h6><pre class=\"hljs cpp\" style=\"margin-left: 22px; font-size: 14px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\">GET /books/?sex=man&amp;name=Professional HTTP/<span class=\"hljs-number\">1.1\nHost: www.wrox.com\nUser-Agent: Mozilla/<span class=\"hljs-number\">5.0 (Windows; U; Windows NT <span class=\"hljs-number\">5.1; en-US; rv:<span class=\"hljs-number\">1.7<span class=\"hljs-number\">.6)\nGecko/<span class=\"hljs-number\">20050225 Firefox/<span class=\"hljs-number\">1.0<span class=\"hljs-number\">.1\nConnection: Keep-Alive</span></span></span></span></span></span></span></span></code></span></pre><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">注意最后一行是空行</span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">POST请求</span></h6><pre class=\"hljs cpp\" style=\"margin-left: 22px; font-size: 14px;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><code class=\"cpp\">POST / HTTP/<span class=\"hljs-number\">1.1\nHost: www.wrox.com\nUser-Agent: Mozilla/<span class=\"hljs-number\">5.0 (Windows; U; Windows NT <span class=\"hljs-number\">5.1; en-US; rv:<span class=\"hljs-number\">1.7<span class=\"hljs-number\">.6)\nGecko/<span class=\"hljs-number\">20050225 Firefox/<span class=\"hljs-number\">1.0<span class=\"hljs-number\">.1\nContent-Type: application/x-www-form-urlencoded\nContent-Length: <span class=\"hljs-number\">40\nConnection: Keep-Alive\n\nname=Professional%<span class=\"hljs-number\">20Ajax&amp;publisher=Wiley</span></span></span></span></span></span></span></span></span></span></code></span></pre><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">1、GET提交，请求的数据会附在URL之后（就是把数据放置在HTTP协议头中），以?分割URL和传输数据，多个参数用&amp;连接；例 如：login.action?name=hyddd&amp;password=idontknow&amp;verify=%E4%BD%A0 %E5%A5%BD。如果数据是英文字母/数字，原样发送，如果是空格，转换为+，如果是中文/其他字符，则直接把字符串用BASE64加密，得出如： %E4%BD%A0%E5%A5%BD，其中％XX中的XX为该符号以16进制表示的ASCII。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">POST提交：把提交的数据放置在是HTTP包的包体中。上文示例中红色字体标明的就是实际的传输数据</span></p><h6 style=\"font-size: 11px; font-weight: bold; margin-top: 10px; margin-bottom: 10px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px;\">因此，GET提交的数据会在地址栏中显示出来，而POST提交，地址栏不会改变</span></h6><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">2、传输数据的大小：首先声明：HTTP协议没有对传输的数据大小进行限制，HTTP协议规范也没有对URL长度进行限制。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">而在实际开发中存在的限制主要有：</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><strong>GET</strong>:特定浏览器和服务器对URL长度有限制，例如 IE对URL长度的限制是2083字节(2K+35)。对于其他浏览器，如Netscape、FireFox等，理论上没有长度限制，其限制取决于操作系 统的支持。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">因此对于GET提交时，传输数据就会受到URL长度的 限制。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\"><strong>POST</strong>:由于不是通过URL传值，理论上数据不受 限。但实际各个WEB服务器会规定对post提交数据大小进行限制，Apache、IIS6都有各自的配置。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">3、安全性</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">POST的安全性要比GET的安全性高。比如：通过GET提交数据，用户名和密码将明文出现在URL上，因为(1)登录页面有可能被浏览器缓存；(2)其他人查看浏览器的历史纪录，那么别人就可以拿到你的账号和密码了，除此之外，使用GET提交数据还可能会造成Cross-site request forgery攻击</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">4、Http get,post,soap协议都是在http上运行的</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">（1）get：请求参数是作为一个key/value对的序列（查询字符串）附加到URL上的</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">查询字符串的长度受到web浏览器和web服务器的限制（如IE最多支持2048个字符），不适合传输大型数据集同时，它很不安全</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">（2）post：请求参数是在http标题的一个不同部分（名为entity body）传输的，这一部分用来传输表单信息，因此必须将Content-type设置为:application/x-www-form- urlencoded。post设计用来支持web窗体上的用户字段，其参数也是作为key/value对传输。</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">但是：它不支持复杂数据类型，因为post没有定义传输数据结构的语义和规则。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">（3）soap：是http post的一个专用版本，遵循一种特殊的xml消息格式</span><br/><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">Content-type设置为: text/xml 任何数据都可以xml化。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">Http协议定义了很多与服务器交互的方法，最基本的有4种，分别是GET,POST,PUT,DELETE. 一个URL地址用于描述一个网络上的资源，而HTTP中的GET, POST, PUT, DELETE就对应着对这个资源的查，改，增，删4个操作。 我们最常见的就是GET和POST了。GET一般用于获取/查询资源信息，而POST一般用于更新资源信息.</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">我们看看GET和POST的区别</span></p><ol style=\"padding-left: 40px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><ol style=\"padding-left: 40px;\"><li style=\"list-style-type: decimal;\"><p style=\"margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">GET提交的数据会放在URL之后，以?分割URL和传输数据，参数之间以&amp;相连，如EditPosts.aspx?name=test1&amp;id=123456. POST方法是把提交的数据放在HTTP包的Body中.</span></p></li><li style=\"list-style-type: decimal;\"><p style=\"margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">GET提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST方法提交的数据没有限制.</span></p></li><li style=\"list-style-type: decimal;\"><p style=\"margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">GET方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值。</span></p></li><li style=\"list-style-type: decimal;\"><p style=\"margin: 10px auto;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">GET方式提交数据，会带来安全问题，比如一个登录页面，通过GET方式提交数据时，用户名和密码将出现在URL上，如果页面可以被缓存或者其他人可以访问这台机器，就可以从历史记录获得该用户的账号和密码.</span></p></li></ol></ol><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-family: &quot;Microsoft YaHei&quot;;\">&nbsp;</span></p><p style=\"margin: 10px auto;\"><span style=\"font-family:Verdana, Arial, Helvetica, sans-serif\"><br/></span><br/></p></div><p><br/></p>', '2018-08-15 21:28:23', '2018-08-15 21:33:33', null, null, '30', '0', '0', '/index/article/show/id/66.html');
INSERT INTO `blog_article` VALUES ('67', '39', 'Apache-安装', '', 'apr  以及 apr-util 下载地址  wget就可以这两个版本号最好选相近的http://archive.apache.org/dist/apr/  ---- apr  / apr-utilhttp://exim.mirror.fr/pcre/    ----- pcre先装：aprwget  http://wwww.xx.comtar zxvf  ', '', '<p>apr&nbsp; 以及&nbsp;apr-util&nbsp;下载地址&nbsp; wget就可以</p><p>这两个版本号最好选相近的</p><p>http://archive.apache.org/dist/apr/&nbsp; ----&nbsp;apr&nbsp; /&nbsp;apr-util</p><p>http://exim.mirror.fr/pcre/&nbsp; &nbsp; -----&nbsp;pcre</p><p><br/></p><p><br/></p><p>先装：apr</p><p><br/></p><p>wget&nbsp; http://wwww.xx.com</p><p>tar&nbsp;zxvf&nbsp; apr-xxx.<span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">tar.gz</span></p><p><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">cd&nbsp;apr-xxx</span></p><p><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">./configure --prefix=要安装的目录</span></span></p><p><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">make &amp;&amp;&nbsp;make&nbsp; install</span></span></p><p><br/></p><p>再装：apr-util</p><p><br/></p><p style=\"white-space: normal;\">wget&nbsp; http://wwww.xx.com</p><p style=\"white-space: normal;\">tar&nbsp;zxvf&nbsp; apr--utilxxx.<span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">tar.gz</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">cd&nbsp;apr--util-xxx</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">./configure --prefix=要安装的目录&nbsp;<span class=\"hljs-attribute\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">--with</span><span class=\"hljs-attribute\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">-apr</span><span class=\"hljs-subst\" style=\"box-sizing: border-box; outline: 0px; color: rgb(79, 79, 79); word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">=apr所在的目录</span><span style=\"font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre; background-color: rgb(246, 248, 250);\">/bin/apr</span><span class=\"hljs-subst\" style=\"box-sizing: border-box; outline: 0px; color: rgb(79, 79, 79); word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">-</span><span class=\"hljs-number\" style=\"box-sizing: border-box; outline: 0px; color: rgb(0, 102, 102); word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">1</span><span class=\"hljs-attribute\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">-config</span></span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">make &amp;&amp;&nbsp;make&nbsp; install</span></p><p><br/></p><p>再装：pcre</p><p><br/></p><p style=\"white-space: normal;\">wget&nbsp; http://wwww.xx.com</p><p style=\"white-space: normal;\">tar&nbsp;zxvf&nbsp; pcrexxx.<span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">tar.gz</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">cd&nbsp;pcrexxx</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">./configure --prefix=要安装的目录&nbsp;</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">make &amp;&amp;&nbsp;make&nbsp; install</span></p><p><br/></p><p>最后装：apache</p><p style=\"white-space: normal;\">wget&nbsp; http://wwww.xx.com</p><p style=\"white-space: normal;\">tar&nbsp;zxvf&nbsp; apchexxx.<span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">tar.gz</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">cd&nbsp;apchexxx</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">./configure --prefix=要安装的目录&nbsp;<span class=\"hljs-attribute\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">--with</span><span class=\"hljs-attribute\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">-apr</span><span class=\"hljs-subst\" style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; white-space: pre;\">=apr所在的目录 --with-apr-util=apr-util所在的目录 --with-pcre=pcre所在目录</span></span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">make &amp;&amp;&nbsp;make&nbsp; install</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\"><br/></span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\"><br/></span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\"><b><i>Apache&nbsp;虚拟站点配置</i></b></span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\">1.&nbsp;在httpd.conf配置文件中引入将要加载的虚拟配置文件，这里是&nbsp;conf/vhosts.conf</span></p><pre class=\"brush:bash;toolbar:false\">\n#&nbsp;加入虚拟主机文件\nInclude&nbsp;conf/vhosts.conf</pre><p style=\"white-space: normal;\"></p><pre class=\"brush:bash;toolbar:false\">[root@apache&nbsp;apache2]#&nbsp;ls\nbin&nbsp;&nbsp;build&nbsp;&nbsp;cgi-bin&nbsp;&nbsp;conf&nbsp;&nbsp;error&nbsp;&nbsp;htdocs&nbsp;&nbsp;icons&nbsp;&nbsp;include&nbsp;&nbsp;logs&nbsp;&nbsp;man&nbsp;&nbsp;manual&nbsp;&nbsp;modules\n[root@apache&nbsp;apache2]#&nbsp;cd&nbsp;conf/\n[root@apache&nbsp;conf]#&nbsp;ls\nextra&nbsp;&nbsp;httpd.conf&nbsp;&nbsp;httpd.conf.bak&nbsp;&nbsp;magic&nbsp;&nbsp;mime.types&nbsp;&nbsp;original&nbsp;&nbsp;vhosts.conf</pre><p style=\"white-space: normal;\"><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify;\"><br/></span><br/></p><pre class=\"brush:bash;toolbar:false\">&lt;VirtualHost&nbsp;_default_:80&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;&quot;/usr/local/wwwroot/webs/&quot;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Directory&nbsp;&quot;/usr/local/wwwroot/webs&quot;&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;+Indexes&nbsp;+FollowSymLinks&nbsp;+ExecCGI\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow,deny\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow&nbsp;from&nbsp;all\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Require&nbsp;all&nbsp;granted\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n&lt;VirtualHost&nbsp;*:80&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServerName&nbsp;site-a.com\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;&quot;/usr/local/wwwroot/webs/site-a/&quot;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Directory&nbsp;&quot;/usr/local/wwwroot/webs/site-a/&quot;&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;&nbsp;+FollowSymLinks&nbsp;+ExecCGI\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow,deny\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow&nbsp;from&nbsp;all\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Require&nbsp;all&nbsp;granted\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Directory&gt;\n&lt;/VirtualHost&gt;</pre><p><br/></p>', '2018-08-16 18:04:06', '2018-08-17 14:23:49', null, null, '33', '1', '1', '/index/article/show/id/67.html');
INSERT INTO `blog_article` VALUES ('68', '39', 'PHP7.1安装', 'PHP7.1安装', '编译安装php报错PHP configure: error: mcrypt.h not found. Please reinstall libmcrypt. 解决办法wget ftp://mcrypt.hellug.gr/pub/crypto/mcrypt/attic/libmcrypt/libmcrypt-2.5.7.tar.gztar -zxvf libmcrypt-2.5.7.tar.gzcd libmcrypt-2.5.7./configure  –prefix=/usr/lo', '', '<pre class=\"brush:bash;toolbar:false\">wget&nbsp;-O&nbsp;php7.tar.gz&nbsp;&nbsp;\n\ntar&nbsp;zxvf&nbsp;php7.tar.gz\n\ncd&nbsp;php-7.1.1/\n\nyum&nbsp;install&nbsp;libxml2&nbsp;libxml2-devel&nbsp;openssl&nbsp;openssl-devel&nbsp;bzip2&nbsp;bzip2-devel&nbsp;libcurl&nbsp;libcurl-devel&nbsp;libjpeg&nbsp;libjpeg-devel&nbsp;libpng&nbsp;libpng-devel&nbsp;freetype&nbsp;freetype-devel&nbsp;gmp&nbsp;gmp-devel&nbsp;libmcrypt&nbsp;libmcrypt-devel&nbsp;readline&nbsp;readline-devel&nbsp;libxslt&nbsp;libxslt-devel\n\n./configure&nbsp;\\\n--prefix=/usr/local/php&nbsp;\\\n--with-config-file-path=/etc&nbsp;\\\n--enable-fpm&nbsp;\\\n--with-fpm-user=nginx&nbsp;\\\n--with-fpm-group=nginx&nbsp;\\\n--enable-inline-optimization&nbsp;\\\n--disable-debug&nbsp;\\\n--disable-rpath&nbsp;\\\n--enable-shared&nbsp;\\\n--enable-soap&nbsp;\\\n--with-libxml-dir&nbsp;\\\n--with-xmlrpc&nbsp;\\\n--with-openssl&nbsp;\\\n--with-mcrypt&nbsp;\\\n--with-mhash&nbsp;\\\n--with-pcre-regex&nbsp;\\\n--with-sqlite3&nbsp;\\\n--with-zlib&nbsp;\\\n--enable-bcmath&nbsp;\\\n--with-iconv&nbsp;\\\n--with-bz2&nbsp;\\\n--enable-calendar&nbsp;\\\n--with-curl&nbsp;\\\n--with-cdb&nbsp;\\\n--enable-dom&nbsp;\\\n--enable-exif&nbsp;\\\n--enable-fileinfo&nbsp;\\\n--enable-filter&nbsp;\\\n--with-pcre-dir&nbsp;\\\n--enable-ftp&nbsp;\\\n--with-gd&nbsp;\\\n--with-openssl-dir&nbsp;\\\n--with-jpeg-dir&nbsp;\\\n--with-png-dir&nbsp;\\\n--with-zlib-dir&nbsp;\\\n--with-freetype-dir&nbsp;\\\n--enable-gd-native-ttf&nbsp;\\\n--enable-gd-jis-conv&nbsp;\\\n--with-gettext&nbsp;\\\n--with-gmp&nbsp;\\\n--with-mhash&nbsp;\\\n--enable-json&nbsp;\\\n--enable-mbstring&nbsp;\\\n--enable-mbregex&nbsp;\\\n--enable-mbregex-backtrack&nbsp;\\\n--with-libmbfl&nbsp;\\\n--with-onig&nbsp;\\\n--enable-pdo&nbsp;\\\n--with-mysqli=mysqlnd&nbsp;\\\n--with-pdo-mysql=mysqlnd&nbsp;\\\n--with-zlib-dir&nbsp;\\\n--with-pdo-sqlite&nbsp;\\\n--with-readline&nbsp;\\\n--enable-session&nbsp;\\\n--enable-shmop&nbsp;\\\n--enable-simplexml&nbsp;\\\n--enable-sockets&nbsp;\\\n--enable-sysvmsg&nbsp;\\\n--enable-sysvsem&nbsp;\\\n--enable-sysvshm&nbsp;\\\n--enable-wddx&nbsp;\\\n--with-libxml-dir&nbsp;\\\n--with-xsl&nbsp;\\\n--enable-zip&nbsp;\\\n--enable-mysqlnd-compression-support&nbsp;\\\n--with-pear&nbsp;\\\n--enable-opcache\\\n--enable-roxen-zts\\&nbsp;(使用&nbsp;Zend&nbsp;线程安全（ZTS）编译&nbsp;Roxen&nbsp;模块)\n--enable-maintainer-zts\\&nbsp;\n--with-apxs2=/usr/local/httpd/bin/apxs(这个别忘记了，apache的php7.so)\n\nmake&nbsp;&amp;&amp;&nbsp;make&nbsp;install\n\n//创建php.ini\n\ncp&nbsp;/usr/local/php-7.2.4/php.ini-production&nbsp;/usr/local/php/lib/php.ini\n\n//&nbsp;配置php-fpm\n\ncd&nbsp;/usr/local/php/etc\n\ncp&nbsp;php-fpm-default.conf&nbsp;php-fpm.conf\n\n//修改php-fpm.conf\n\nvi&nbsp;php-fpm.conf\n\n//将;pid&nbsp;=&nbsp;run/php-fpm.pid&nbsp;前面的分号删掉\n\n//设置php-fpm开机启动\n\n//拷贝php-fpm脚本至/etc/init.d目录\n\ncp&nbsp;/usr/local/php-7.2.4/sapi/fpm/init.d.php-fpm&nbsp;/etc/init.d/php-fpm\n\n//设置权限并启动php-fpm：\n\nchmod&nbsp;755&nbsp;/etc/init.d/php-fpm\n\n//这一步可能会出错\n//&nbsp;WARNING:&nbsp;Nothing&nbsp;matches&nbsp;the&nbsp;include&nbsp;pattern&nbsp;&#39;/usr/local/php7/etc/php-fpm.d/*.conf&#39;\n//解决方法\n\nd&nbsp;/usr/local/php/etc/php-fpm.d/\ncp&nbsp;www.conf.default&nbsp;www.conf\n/usr/local/php/sbin/php-fpm&nbsp;\n\n[12-Oct-2017&nbsp;08:33:29]&nbsp;NOTICE:&nbsp;configuration&nbsp;file&nbsp;/usr/local/php/etc/php-fpm.conf&nbsp;test&nbsp;is&nbsp;successful\n[root@localhost&nbsp;php-fpm.d]#&nbsp;service&nbsp;php-fpm&nbsp;start\nStarting&nbsp;php-fpm&nbsp;&nbsp;done\n\n/etc/init.d/php-fpm&nbsp;start\n\nchkconfig&nbsp;--add&nbsp;php-fpm\n\n//最后，给出php-fpm以服务的方式启动、停止和重启：\n\nservice&nbsp;php-fpm&nbsp;start\nservice&nbsp;php-fpm&nbsp;stop\nervice&nbsp;php-fpm&nbsp;reload</pre><h1 class=\"title-article\" style=\"box-sizing: inherit; outline: 0px; font-size: 24px; word-break: break-all; color: rgb(51, 51, 51); font-family: &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif; white-space: normal;\"><br/></h1><h1 class=\"title-article\" style=\"box-sizing: inherit; outline: 0px; font-size: 24px; word-break: break-all; color: rgb(51, 51, 51); font-family: &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif; white-space: normal;\">编译安装php报错PHP configure: error: mcrypt.h not found. Please reinstall libmcrypt. 解决办法</h1><p><br/></p><pre class=\"brush:bash;toolbar:false\">wget&nbsp;ftp://mcrypt.hellug.gr/pub/crypto/mcrypt/attic/libmcrypt/libmcrypt-2.5.7.tar.gz\ntar&nbsp;-zxvf&nbsp;libmcrypt-2.5.7.tar.gz\ncd&nbsp;libmcrypt-2.5.7\n./configure&nbsp;&nbsp;–prefix=/usr/local\nmake\nmake&nbsp;install</pre><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: justify;\"></span><br/></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: justify;\"><br/></span></p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: justify;\"></span></p><h1 class=\"title-article\" style=\"box-sizing: inherit; outline: 0px; font-size: 24px; word-break: break-all; color: rgb(51, 51, 51); font-family: &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif; white-space: normal;\">编译安装PHP，解决问题 Don&#39;t know how to define struct flock on this system, set --enable-opcache=no</h1><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal;\">虽然提示了 关闭这个选项，但要搞清楚这个能不能关闭。</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal;\">查看<code style=\"box-sizing: border-box; outline: 0px; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 2px; padding: 4px 2px 0px; word-break: break-all;\">--enble-opchahe</code>的作用</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">[root@lnmp&nbsp;php-5.6.10]#&nbsp;./configure&nbsp;--help|grep&nbsp;opcache\n&nbsp;&nbsp;--enable-opcache&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enable&nbsp;Zend&nbsp;OPcache&nbsp;support可知这个是与&nbsp;php&nbsp;的加速模块&nbsp;zend相关的，不能省略1234</pre><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal;\">解决方法：</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">vim&nbsp;/etc/ld.so.conf.d/local.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;编辑库文件（该文件可能不存在，不存在则创建一个新的）\n/usr/local/lib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;添加该行\n/usr/local/lib64&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;64位系统的除了添加上一行，还需要添加此行\n:wq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;保存退出\nldconfig&nbsp;-v&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;使之生效</pre><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal;\">实测可行。</p><p><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; text-align: justify;\"></span><br/></p>', '2018-08-16 18:11:34', '2018-08-30 10:42:07', null, null, '43', '0', '0', '/index/article/show/id/68.html');
INSERT INTO `blog_article` VALUES ('69', '39', 'Apache-支持PHP', 'Apache 支持', 'Apche支持PHP配置方法一：1.加载 php7模块（如果不加载 发现是PHP文件就直接下载了）LoadModule php7_module        modules/libphp7.so2.你也可以加入更多，实质就是添加可以执行php的文件类型，比如你再加上一行，“AddType application/x-httpd-php .htm”，则.htm文件也可以执行php程序了，你甚至还可以添加上一行“AddType applic', '', '<p><strong><span style=\"color:#76923c\">Apche支持PHP配</span></strong><strong><span style=\"color:#76923c\">置方法一</span></strong><strong><span style=\"color:#76923c\">：</span></strong></p><p><br/></p><p>1.加载&nbsp;php7模块（如果不加载&nbsp;发现是PHP文件就直接下载了）</p><p>这个libphp7.so模块是在安装PHP时候自己设定的参数 <strong style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(47, 47, 47); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;\">--with-apxs2=你的apache安装路径 /bin/ apxs(这个别忘记了，apache的php7.so)</span></strong></p><pre class=\"brush:bash;toolbar:false\">LoadModule&nbsp;php7_module&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modules/libphp7.so</pre><p><br/></p><p>2.</p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 14px; color: rgb(202, 202, 202); line-height: 25.2px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, Arial, Helvetica, 宋体, sans-serif; background-color: rgb(78, 78, 78);\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 宋体; line-height: 25.2px;\">你也可以加入更多，实质就是添加可以执行php的文件类型，比如你再加上一行，</span></p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 14px; color: rgb(202, 202, 202); line-height: 25.2px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, Arial, Helvetica, 宋体, sans-serif; background-color: rgb(78, 78, 78);\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 宋体; line-height: 25.2px;\">“AddType application/x-httpd-php .htm”，则.htm文件也可以执行php程序了，你甚至还可以添加上一行</span></p><p style=\"box-sizing: border-box; outline: 0px; margin-top: 0px; margin-bottom: 16px; font-size: 14px; color: rgb(202, 202, 202); line-height: 25.2px; text-align: justify; word-break: break-all; white-space: normal; font-family: Verdana, Arial, Helvetica, 宋体, sans-serif; background-color: rgb(78, 78, 78);\"><span style=\"box-sizing: border-box; outline: 0px; word-break: break-all; font-family: 宋体; line-height: 25.2px;\">“AddType application/x-httpd-php .txt”，让普通的文本文件格式也能运行php程序。</span></p><pre class=\"brush:bash;toolbar:false\">AddType&nbsp;application/x-httpd-php&nbsp;.php</pre><p><br/></p><p>3.&nbsp;经测试，下面这个也是可有可无的。。。</p><p># 交给PHP来处理</p><pre class=\"brush:bash;toolbar:false\">&lt;FilesMatch&nbsp;\\.php$&gt;\n&nbsp;&nbsp;&nbsp;#&nbsp;SetHandler&nbsp;application/x-httpd-php\n&lt;/FilesMatch&gt;</pre><p><br/></p><p><br/></p><ol style=\"white-space: normal;\" class=\" list-paddingleft-2\"><li><p><strong><span style=\"color: rgb(118, 146, 60);\">Apche支持PHP配置方法二：</span></strong></p></li></ol><p><span style=\"color:#76923c\"><strong><br/></strong></span></p><p><span style=\"color:#76923c\"><strong>这是在phpstudy中看到的配置（这个模块在linux安装完并没有发现，可以百度搞一个）</strong></span></p><p><span style=\"color:#76923c\"></span></p><pre style=\"font-family: &quot;Source Code Pro&quot;; font-size: 10.8pt;\" class=\"brush:bash;toolbar:false;\"><span style=\"background-color:#f7faff;\">LoadModule </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">fcgid_module modules/mod_fcgid.so<br/></span><span style=\"background-color:#f7faff;\">&lt;IfModule </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">fcgid_module&gt;<br/></span><span style=\"background-color:#f7faff;\">Include </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">conf/extra/httpd-fcgid.conf<br/></span><span style=\"background-color:#f7faff;\">FcgidInitialEnv </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">PHPRC &quot;E:/phpstudy2018/PHPTutorial/php/php-7.0.12-nts/&quot;<br/></span><span style=\"background-color:#f7faff;\">AddHandler </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">fcgid-script .php<br/></span><span style=\"background-color:#f7faff;\">FcgidWrapper </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&quot;E:/phpstudy2018/PHPTutorial/php/php-7.0.12-nts/php-cgi.exe&quot; .php<br/></span><span style=\"background-color:#f7faff;\">&lt;/IfModule&gt;<br/></span></pre><p><span style=\"color:#76923c\"></span><br/></p><p><strong><span style=\"color:#76923c\">httpd-fcgid.conf文件内容</span></strong></p><pre style=\"font-family: &quot;Source Code Pro&quot;; font-size: 10.8pt;\" class=\"brush:bash;toolbar:false;\"><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\">FcgidIOTimeout </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">384<br/></span><span style=\"background-color:#f7faff;\">FcgidConnectTimeout </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">360<br/></span><span style=\"background-color:#f7faff;\">FcgidOutputBufferSize </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">128<br/></span><span style=\"background-color:#f7faff;\">FcgidMaxRequestsPerProcess </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">1000<br/></span><span style=\"background-color:#f7faff;\">FcgidMinProcessesPerClass </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">0 <br/></span><span style=\"background-color:#f7faff;\">FcgidMaxProcesses </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">16 <br/></span><span style=\"background-color:#f7faff;\">FcgidMaxRequestLen </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">268435456 &nbsp; <br/></span><span style=\"background-color:#f7faff;\">ProcessLifeTime </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">360<br/></span><span style=\"background-color:#f7faff;\">FcgidInitialEnv </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">PHP_FCGI_MAX_REQUESTS 1000<br/></span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\"><br/></span></pre><p><br/></p><p>然后在新建文件,看看是否运行</p><p><br/></p><pre class=\"brush:php;toolbar:false\">&lt;?php\n&nbsp;&nbsp;&nbsp;&nbsp;phpinfo();\n&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;its&nbsp;funning&#39;;</pre><p><br/></p>', '2018-08-17 12:49:50', '2018-08-17 14:18:47', null, null, '32', '0', '0', '/index/article/show/id/69.html');
INSERT INTO `blog_article` VALUES ('70', '39', 'Mysql 5.6 安装', '安装', '获取MYSQL包wget  http://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.30.tar.gz    解压tar zvf mysql-5.6.30.tar.gz安装Cmakeyum install cmake安装cd mysql-5.6.30cmake -DCMAKE_INSTALL_PREFIX=/usr/local/www', '', '<p>获取MYSQL包</p><pre class=\"brush:bash;toolbar:false\">wget&nbsp;&nbsp;http://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.30.tar.gz</pre><p>&nbsp; &nbsp;&nbsp;</p><p><br/></p><p>解压</p><pre class=\"brush:bash;toolbar:false\">tar&nbsp;zvf&nbsp;mysql-5.6.30.tar.gz</pre><p><br/></p><p>安装Cmake</p><pre class=\"brush:bash;toolbar:false\">yum&nbsp;install&nbsp;cmake</pre><p><br/></p><p>安装</p><pre class=\"brush:bash;toolbar:false\">cd&nbsp;mysql-5.6.30</pre><pre class=\"brush:bash;toolbar:false\">cmake&nbsp;-DCMAKE_INSTALL_PREFIX=/usr/local/wwwroot/server/mysql56&nbsp;-DMYSQL_DATADIR=/usr/local/wwwroot/server/mysql56/data&nbsp;-DSYSCONFDIR=/etc&nbsp;-DWITH_MYISAM_STORAGE_ENGINE=1-DWITH_INNOBASE_STORAGE_ENGINE=1&nbsp;-DWITH_MEMORY_STORAGE_ENGINE=1&nbsp;-DWITH_READLINE=1&nbsp;-DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock&nbsp;-DMYSQL_TCP_PORT=3306&nbsp;-DENABLED_LOCAL_INFILE=1&nbsp;-DWITH_PARTITION_STORAGE_ENGINE=1&nbsp;-DEXTRA_CHARSETS=all&nbsp;-DDEFAULT_CHARSET=utf8&nbsp;-DDEFAULT_COLLATION=utf8_general_ci</pre><p><br/></p><pre class=\"brush:bash;toolbar:false\">make\nmake&nbsp;install</pre><p><br/></p><p>等到100%安装完成就可以了，可能需要一些时间</p><p><br/></p><p>下面开始配置MySQL</p><p><br/></p><pre class=\"brush:bash;toolbar:false\">&nbsp;&nbsp;&nbsp;&nbsp;chown&nbsp;-R&nbsp;mysql:mysql&nbsp;/usr/local/wwwroot/server/mysql56/data\n&nbsp;&nbsp;&nbsp;&nbsp;yun&nbsp;-y&nbsp;install&nbsp;autoconf\n&nbsp;&nbsp;&nbsp;&nbsp;scripts/mysql_install_db&nbsp;--basedir=/usr/local/wwwroot/server/mysql56&nbsp;--datadir=/usr/local/wwwroot/server/mysql56/data&nbsp;--user=mysql\n&nbsp;&nbsp;&nbsp;&nbsp;cp&nbsp;support-files/mysql.server&nbsp;/etc/init.d/mysql\n&nbsp;&nbsp;&nbsp;&nbsp;chkconfig&nbsp;mysql&nbsp;on\n&nbsp;&nbsp;&nbsp;&nbsp;service&nbsp;mysql&nbsp;start\n&nbsp;&nbsp;&nbsp;&nbsp;上面启动mysql会报错（删除/etc/my.cnf&nbsp;&nbsp;删除请备份&nbsp;&nbsp;cp&nbsp;&nbsp;/etc/my.cnf&nbsp;&nbsp;/etc/my.cnf.bak）\n&nbsp;&nbsp;&nbsp;&nbsp;找到etc目录下profile文件，\n&nbsp;&nbsp;&nbsp;&nbsp;vi&nbsp;./profile在最后加上export&nbsp;PATH=/opt/lampp/bin:$PATH，\n&nbsp;&nbsp;&nbsp;&nbsp;保存好后，\n&nbsp;&nbsp;&nbsp;&nbsp;source下profile让其设置生效，此时，随意在某目录下都可以访问mysql。</pre><p><br/></p>', '2018-08-17 14:03:45', '2018-08-17 15:46:06', null, null, '35', '0', '0', '/index/article/show/id/70.html');
INSERT INTO `blog_article` VALUES ('71', '39', 'Nginx安装', '安装', ' wget -P /tmp http://nginx.org/download/nginx-1.8.1.tar.gz\n tar xf nginx-1.8.1.tar.gz\n cd nginx-1.8.1\n //创建用户www和用户组www\n groupadd www\n useradd -g www www\n ./configur', '', '<pre class=\"brush:bash;toolbar:false\">&nbsp;wget&nbsp;-P&nbsp;/tmp&nbsp;http://nginx.org/download/nginx-1.8.1.tar.gz\n&nbsp;\n&nbsp;tar&nbsp;xf&nbsp;nginx-1.8.1.tar.gz\n&nbsp;\n&nbsp;cd&nbsp;nginx-1.8.1\n&nbsp;\n&nbsp;//创建用户www和用户组www\n&nbsp;\n&nbsp;groupadd&nbsp;www\n&nbsp;\n&nbsp;useradd&nbsp;-g&nbsp;www&nbsp;www\n&nbsp;\n&nbsp;./configure&nbsp;--prefix=/usr/local/wwwroot/server//nginx&nbsp;--sbin-path=/usr/local/wwwroot/server/nginx/nginx&nbsp;--conf-path=/usr/local/wwwroot/server/nginx/nginx.conf&nbsp;--pid-path=/usr/local/nginx/nginx.pid&nbsp;--with-http_ssl_module&nbsp;--with-http_gzip_static_module\n&nbsp;&nbsp;\n&nbsp;&nbsp;make&nbsp;&amp;&amp;&nbsp;make&nbsp;install\n&nbsp;&nbsp;\n&nbsp;&nbsp;nginx&nbsp;//启动\n&nbsp;&nbsp;\n&nbsp;&nbsp;nginx&nbsp;-s&nbsp;stop//&nbsp;停止\n&nbsp;&nbsp;\n&nbsp;&nbsp;nginx&nbsp;-s&nbsp;reload&nbsp;//&nbsp;重新加载\n&nbsp;&nbsp;\n&nbsp;&nbsp;测试一下nginx是否安装成功，那么问题来了,虚拟机上可以访问nginx了，但是宿主机却不能，原因是防火墙没有开放80端口\n&nbsp;&nbsp;\n&nbsp;firewall-cmd&nbsp;--zone=public&nbsp;--add-port=80/tcp&nbsp;--permanent\n&nbsp;\n&nbsp;–zone&nbsp;#作用域\n&nbsp;–add-port=80/tcp&nbsp;#添加端口，格式为：端口/通讯协议\n&nbsp;–permanent&nbsp;#永久生效，没有此参数重启后失效\n&nbsp;\n&nbsp;&nbsp;重启防火墙：\n&nbsp;&nbsp;\n&nbsp;systemctl&nbsp;stop&nbsp;firewalld.service\n&nbsp;\n&nbsp;systemctl&nbsp;start&nbsp;firewalld.service\n&nbsp;\n&nbsp;OK</pre><p><br/></p><p>Nginx支持PHP</p><p><br/></p><p>增加用户组&nbsp;&nbsp;</p><p><img src=\"/ueditor/php/upload/image/20180817/1534495681268633.png\" title=\"1534495681268633.png\" alt=\"nginx-php-1.png\"/></p><p><br/></p><p>目录索引</p><p><img src=\"/ueditor/php/upload/image/20180817/1534495685532491.png\" title=\"1534495685532491.png\" alt=\"nginx-php2.png\"/></p><p>解析PHP文件</p><p><img src=\"/ueditor/php/upload/image/20180817/1534495692696206.png\" title=\"1534495692696206.png\" alt=\"nginx-php-3.png\"/></p><p><br/></p><p>Nginx虚拟站点配置</p><p><br/></p><p>vim&nbsp;nginx.conf&nbsp; &nbsp;include&nbsp;虚拟站点配置文件</p><p><img src=\"/ueditor/php/upload/image/20180817/1534495561234776.png\" title=\"1534495561234776.png\" alt=\"nginx.cnf.png\"/></p><p><br/></p><p>新增一个虚拟站点</p><p><img src=\"/ueditor/php/upload/image/20180817/1534495522475944.png\" title=\"1534495522475944.png\" alt=\"nginxvhost.png\"/></p><p><br/></p><p><br/></p><p>&nbsp;</p>', '2018-08-17 16:21:00', '2018-08-30 10:40:10', null, null, '34', '0', '0', '/index/article/show/id/71.html');
INSERT INTO `blog_article` VALUES ('72', '39', 'FTP安装', '安装，FTP', '&nbsp; &nbsp; 第一步：安装vsftp&nbsp;yum&nbsp;install&nbsp;-y&nbsp;vsftpd&nbsp; &nbsp; 第二步：设置开机启动&nbsp;systemctl&nbsp;enable&nbsp;vsftpd&nbsp; &nbsp; 第三步：启动ftp服务&nbsp;systemctl&nbsp;start&nbsp;vsftpd.service&nbsp; &nbsp; 第四步：打开防火墙&nbsp;firewall-cmd&nbsp;--', '', '<p>&nbsp; &nbsp; 第一步：安装vsftp</p><pre class=\"brush:bash;toolbar:false\">&nbsp;yum&nbsp;install&nbsp;-y&nbsp;vsftpd</pre><p><br/></p><p><br/></p><p><br/></p><p>&nbsp; &nbsp; 第二步：设置开机启动</p><pre class=\"brush:bash;toolbar:false\">&nbsp;systemctl&nbsp;enable&nbsp;vsftpd</pre><p><br/></p><p><br/></p><p><br/></p><p>&nbsp; &nbsp; 第三步：启动ftp服务</p><pre class=\"brush:bash;toolbar:false\">&nbsp;systemctl&nbsp;start&nbsp;vsftpd.service</pre><p><br/></p><p><br/></p><p>&nbsp; &nbsp; 第四步：打开防火墙</p><pre class=\"brush:bash;toolbar:false\">&nbsp;firewall-cmd&nbsp;--zone=public&nbsp;--add-port=21/tcp&nbsp;--permanent\n&nbsp;firewall-cmd&nbsp;--permanent&nbsp;--zone=public&nbsp;--add-service=ftp\n&nbsp;firewall-cmd&nbsp;--reload</pre><p><br/></p><p>&nbsp; &nbsp; （永久添加tcp 21端口）</p><p><br/></p><p>&nbsp; &nbsp; （添加ftp服务）</p><p><br/></p><p>&nbsp; &nbsp; （重启防火墙）</p><p><br/></p><p><br/></p><p><br/></p><p>&nbsp; &nbsp; 第五步：添加用户</p><pre class=\"brush:bash;toolbar:false\">&nbsp;useradd&nbsp;-g&nbsp;root&nbsp;-d&nbsp;/home/data&nbsp;-s&nbsp;/sbin/nologin&nbsp;java1234</pre><p><br/></p><p>&nbsp; &nbsp; 新建java1234用户 添加到root组</p><p><br/></p><p>&nbsp; &nbsp; 但是不允许用户登录，仅仅可以ftp登录</p><p><br/></p><p>&nbsp; &nbsp; ftp登录后的默认目录是/home/data</p><p><br/></p><p><br/></p><p><br/></p><p>&nbsp; &nbsp; 第六步：设置用户密码</p><pre class=\"brush:bash;toolbar:false\">&nbsp;passwd&nbsp;java1234</pre><p><br/></p><p><br/></p><p><br/></p><p>&nbsp; &nbsp; 第七步：设置权限</p><pre class=\"brush:bash;toolbar:false\">&nbsp;chown&nbsp;-R&nbsp;java1234:root&nbsp;/home/data\n&nbsp;setsebool&nbsp;-P&nbsp;ftpd_full_access&nbsp;on</pre><p><br/></p><p><br/></p><p><br/></p><p>&nbsp; &nbsp; 第八步：修改vsftp配置文件，禁止匿名登录</p><pre class=\"brush:bash;toolbar:false\">&nbsp;vi&nbsp;/etc/vsftpd/vsftpd.conf</pre><p><br/></p><p>&nbsp; &nbsp; 把：anonymous_enable=YES 改为： anonymous_enable=NO</p><p><br/></p><p>&nbsp; &nbsp; 输入---&gt;&nbsp; &nbsp;:wq!&nbsp; 保存退出</p><p><br/></p>', '2018-08-17 17:10:34', '2018-08-17 17:12:41', null, null, '35', '0', '0', '/index/article/show/id/72.html');
INSERT INTO `blog_article` VALUES ('73', '40', 'PHP-scoket', 'PHP socket', 'scoket tcp 协议\n\n<?php\n\n// 地址\n$address = \'127.0.0.1\';\n// 端口\n$port = 5654;\n// 创建一个套接字连接\n$server = socket_create(AF_INET,SOCK_SREAM,SOL_TCP);\n// 接受所有数据包\nsocket_set_option(SOL_SOCKET,S', '', '<pre class=\"brush:php;toolbar:false\">scoket&nbsp;tcp&nbsp;协议\n\n&lt;?php\n\n//&nbsp;地址\n$address&nbsp;=&nbsp;&#39;127.0.0.1&#39;;\n//&nbsp;端口\n$port&nbsp;=&nbsp;5654;\n//&nbsp;创建一个套接字连接\n$server&nbsp;=&nbsp;socket_create(AF_INET,SOCK_SREAM,SOL_TCP);\n//&nbsp;接受所有数据包\nsocket_set_option(SOL_SOCKET,SO_REUSEADDR,1);\n//&nbsp;绑定\nsocket_bind($server,$address,$port);\n//&nbsp;监听\nssocket_listen($server);</pre><p><br/></p>', '2018-08-17 20:16:24', '2018-08-17 20:24:45', null, null, '32', '0', '0', '/index/article/show/id/73.html');
INSERT INTO `blog_article` VALUES ('74', '28', 'PHP redis-常用函数（基于TP，Redis类）', '常用,函数', 'use think\\cache\\driver\\Redis;class PHPRedis extends Redis{    /**     * 订阅 key     * @param $key     * @return mixed     */    public function subscribe(array $key)    {   &nb', '', '<pre style=\"background-color: rgb(255, 255, 255); font-family: &quot;Source Code Pro&quot;; font-size: 10.8pt;\" class=\"brush:php;toolbar:false;\"><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">use </span><span style=\"background-color:#f7faff;\">think\\cache\\driver\\Redis;<br/></span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">class </span><span style=\"background-color:#f7faff;\">PHPRedis </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">extends </span><span style=\"background-color:#f7faff;\">Redis{<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">订阅 </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">subscribe(</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">array </span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;subscribe(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,[</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;subCallback&#39;</span><span style=\"background-color:#f7faff;\">]);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">处理订阅事件<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$redis<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$channel<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$msg<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public static function </span><span style=\"background-color:#f7faff;\">subCallback(</span><span style=\"color:#660000;background-color:#f7faff;\">$redis</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$channel</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$msg</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;font-style:italic;\">print_r</span><span style=\"background-color:#f7faff;\">([<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;redis&#39; &nbsp; </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$redis</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;channel&#39; </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$channel</span><span style=\"background-color:#f7faff;\">,<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;msg&#39; &nbsp; &nbsp; </span><span style=\"background-color:#f7faff;\">=&gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$msg<br/></span><span style=\"color:#660000;background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"background-color:#f7faff;\">]);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">推送消息给</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">publish(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;publish(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">插入链表 </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">left<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">lPush(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;lPush(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">插入链表 </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">right<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">rPush(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;rPush(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">弹出首元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">lPop(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;lPop(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">弹出尾元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">RPop(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;RPop(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获取链表<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $start<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $end<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">lRange(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">=-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;lRange(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获取链表长度<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">lSize(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;lSize(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 添加元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sAdd(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sAdd(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sMembers(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sMembers(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 长度<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sCard(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sCard(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 是否包含此值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sIsMember(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sIsMember(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 移动值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$source &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">原</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$target &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">目标</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">移动的值<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sMove(</span><span style=\"color:#660000;background-color:#f7faff;\">$source</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$target</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if</span><span style=\"background-color:#f7faff;\">(!</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;sIsMember(</span><span style=\"color:#660000;background-color:#f7faff;\">$source</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return false</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sMove(</span><span style=\"color:#660000;background-color:#f7faff;\">$source</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$target</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 随机移除元素 并返回该元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sPop(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sPop(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 返回随机元素 不会删除次元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sRandMember(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sRandMember(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 获取两个集合交集<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key1<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key2<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sInter(</span><span style=\"color:#660000;background-color:#f7faff;\">$key1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$key2</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sInter(</span><span style=\"color:#660000;background-color:#f7faff;\">$key1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$key2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 获取两个集合∪<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key1<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key2<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sUnion(</span><span style=\"color:#660000;background-color:#f7faff;\">$key1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$key2</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sUnion(</span><span style=\"color:#660000;background-color:#f7faff;\">$key1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$key2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">无序集合 获取两个集合差集<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key1<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key2<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">sDiff(</span><span style=\"color:#660000;background-color:#f7faff;\">$key1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$key2</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;sDiff(</span><span style=\"color:#660000;background-color:#f7faff;\">$key1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$key2</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">有序集合 插入元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$score<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">zAdd(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$score</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;zAdd(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$score</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">获取集合<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $start<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $end<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">bool $score<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">zRange(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">=-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$score</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">false</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;zRange(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$score</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">删除集合元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$value<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">zDelete(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;zDelete(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">从高到低的顺序进行排列<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $start<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $end<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">bool $score<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">zRevRange(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">=-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$score</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">false</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;zRevRange(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$score</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">返回</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">key</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">对应的有序集合中</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">score</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">介于</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">min</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">和</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">max</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">之间的所有元素<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $start<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $end<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">array $option<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">zRangeByScore(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">=-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$option</span><span style=\"background-color:#f7faff;\">=[])<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;zRangeByScore(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$option</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">返回</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">key</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">对应的有序集合中介于</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">min</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">和</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">max</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">间的元素的个数<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$key<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $start<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">int $end<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">zCount(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">=</span><span style=\"color:#0000ff;background-color:#f7faff;\">0</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">=-</span><span style=\"color:#0000ff;background-color:#f7faff;\">1</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;zCount(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$start</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$end</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">悲观锁 &nbsp;获取<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">String &nbsp;$key &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">锁标识<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">Int &nbsp; &nbsp; $expire </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">锁过期时间<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">Boolean<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">pessimisticLock(</span><span style=\"color:#660000;background-color:#f7faff;\">$key </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&#39;</span><span style=\"background-color:#f7faff;\">, </span><span style=\"color:#660000;background-color:#f7faff;\">$expire </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#0000ff;background-color:#f7faff;\">5</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$is_lock </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;setnx(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">, </span><span style=\"background-color:#f7faff;font-style:italic;\">time</span><span style=\"background-color:#f7faff;\">()+</span><span style=\"color:#660000;background-color:#f7faff;\">$expire</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">不能获取锁<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if</span><span style=\"background-color:#f7faff;\">(!</span><span style=\"color:#660000;background-color:#f7faff;\">$is_lock</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">判断锁是否过期<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$lock_time </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;get(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">//</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">锁已过期，删除锁，重新获取<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">if </span><span style=\"background-color:#f7faff;\">(</span><span style=\"background-color:#f7faff;font-style:italic;\">time</span><span style=\"background-color:#f7faff;\">() &gt; </span><span style=\"color:#660000;background-color:#f7faff;\">$lock_time</span><span style=\"background-color:#f7faff;\">) {<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;unlock(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$is_lock </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;setnx(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">, </span><span style=\"background-color:#f7faff;font-style:italic;\">time</span><span style=\"background-color:#f7faff;\">() + </span><span style=\"color:#660000;background-color:#f7faff;\">$expire</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$is_lock</span><span style=\"background-color:#f7faff;\">? </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">true </span><span style=\"background-color:#f7faff;\">: </span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">false</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">释放锁<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">String &nbsp;$key </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">锁标识<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">Boolean<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">unlock(</span><span style=\"color:#660000;background-color:#f7faff;\">$key </span><span style=\"background-color:#f7faff;\">= </span><span style=\"color:#008000;background-color:#f7faff;font-weight:bold;\">&#39;&#39;</span><span style=\"background-color:#f7faff;\">){<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;del(</span><span style=\"color:#660000;background-color:#f7faff;\">$key</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">/**<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">乐观锁<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">* </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@param </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">$strKey<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; * </span><span style=\"color:#808080;background-color:#f7faff;font-weight:bold;font-style:italic;\">@return </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">mixed<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp; */<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\"> &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">public function </span><span style=\"background-color:#f7faff;\">optimisticLock(</span><span style=\"color:#660000;background-color:#f7faff;\">$strKey</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">)<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;{<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;set(</span><span style=\"color:#660000;background-color:#f7faff;\">$strKey</span><span style=\"background-color:#f7faff;\">,</span><span style=\"color:#660000;background-color:#f7faff;\">$value</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;get(</span><span style=\"color:#660000;background-color:#f7faff;\">$strKey</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;watch(</span><span style=\"color:#660000;background-color:#f7faff;\">$strKey</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;\">// </span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\">开启事务<br/></span><span style=\"color:#808080;background-color:#f7faff;font-style:italic;font-family:&#39;宋体&#39;;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;multi();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;exec();<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$age </span><span style=\"background-color:#f7faff;\">= &nbsp;</span><span style=\"color:#660000;background-color:#f7faff;\">$this</span><span style=\"background-color:#f7faff;\">-&gt;</span><span style=\"color:#660e7a;background-color:#f7faff;font-weight:bold;\">handler</span><span style=\"background-color:#f7faff;\">-&gt;get(</span><span style=\"color:#660000;background-color:#f7faff;\">$strKey</span><span style=\"background-color:#f7faff;\">);<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color:#000080;background-color:#f7faff;font-weight:bold;\">return </span><span style=\"color:#660000;background-color:#f7faff;\">$age</span><span style=\"background-color:#f7faff;\">;<br/></span><span style=\"background-color:#f7faff;\"> &nbsp; &nbsp;}<br/></span><span style=\"background-color:#f7faff;\"><br/></span><span style=\"background-color:#f7faff;\">}</span></pre><p><br/></p>', '2018-08-29 12:41:26', '2018-08-29 12:48:08', null, null, '16', '0', '0', '/index/article/show/id/74.html');
INSERT INTO `blog_article` VALUES ('75', '28', 'PHP7-安装redis扩展', '安装,扩展', '安装rediscd /\nwget http://download.redis.io/redis-stable.tar.gztar -zxvf redis-stable.tar.gzcd redis-stable\nmake\nmake install123456切换到/usr/local/bin目录即可看到redis相关程序cd /usr/local/bin\nll12查看版本redis-server --version&', '', '<p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">安装redis</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">cd&nbsp;/\nwget&nbsp;&nbsp;http://download.redis.io/redis-stable.tar.gz\ntar&nbsp;-zxvf&nbsp;redis-stable.tar.gz\ncd&nbsp;redis-stable\nmake\nmake&nbsp;install</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">默认安装完就在 解压包/src &nbsp;cd src</p><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">切换到src目录即可看到redis相关程序</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">cd&nbsp;src\nll</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">查看版本</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">redis-server&nbsp;--version&nbsp;或者&nbsp;redis-server&nbsp;-v</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">启动redis服务</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">redis-server</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">开机自启动&nbsp;<br/>复制redis-stable解压包里面的/utils/redis_init_script文件到/etc/init.d下并改名为redis</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">cp&nbsp;/redis-stable/utils/redis_init_script&nbsp;/etc/init.d/redis\nchmod&nbsp;777&nbsp;/etc/init.d/redis123</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">加入服务</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">chkconfig&nbsp;--add&nbsp;redis</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">此时会提示“redis 服务不支持 chkconfig”，需要调整配置文件</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">vi&nbsp;/etc/init.d/redis1</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">在靠前的位置添加如下两行</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">#&nbsp;chkconfig:&nbsp;&nbsp;&nbsp;2345&nbsp;90&nbsp;10\n#&nbsp;description:&nbsp;&nbsp;Redis&nbsp;is&nbsp;a&nbsp;persistent&nbsp;key-value&nbsp;database12</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">保存修改再次</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">chkconfig&nbsp;--add&nbsp;redis</pre><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">service&nbsp;redis&nbsp;start\nps&nbsp;-ef&nbsp;|&nbsp;grep&nbsp;redis123</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">提示“Fatal error, can’t open config file ‘/etc/redis/6379.conf”&nbsp;<br/>解决方法：将redis配置文件拷贝到/etc/redis/${REDISPORT}.conf，这里的REDISPORT是6379</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">mkdir&nbsp;/etc/redis\ncp&nbsp;/redis-stable/redis.conf&nbsp;&nbsp;/etc/redis/6379.conf</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">在默认情况下，redis未启用认证，可以通过开启6379.conf的requirepass 指定一个验证密码；&nbsp;<br/>修改/etc/redis/6379.conf，设置redis进程为后台守护进程，并指定一个密码:</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">vi&nbsp;/etc/redis/6379.conf</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">修改如下（：/ 搜索修改就可以）</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">#daemonize：是否以后台daemon方式运行daemonize&nbsp;yes\n#设置密码requirepass&nbsp;\n#允许通过本机ip访问bind&nbsp;192.168.1.229123456</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">安装php的redis扩展</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">wget&nbsp;https://codeload.github.com/phpredis/phpredis/zip/develop\nyum&nbsp;-y&nbsp;install&nbsp;unzip&nbsp;zip\nunzip&nbsp;develop\ncd&nbsp;phpredis-develop/\nphpize\n./configure&nbsp;--with-php-config=你的php-config路径\nmake&nbsp;&amp;&amp;&nbsp;make&nbsp;install</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">编辑php.ini</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">vi&nbsp;你的php&nbsp;ini文件</pre><p style=\"box-sizing: border-box; outline: 0px; padding: 0px; margin-top: 0px; margin-bottom: 16px; color: rgb(79, 79, 79); line-height: 26px; text-align: justify; word-break: break-all; font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; white-space: normal; background-color: rgb(255, 255, 255);\">添加一行</p><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">extension=redis.so</pre><pre class=\"prettyprint\" style=\"box-sizing: border-box; outline: 0px; padding: 8px 16px 4px 56px; margin-top: 0px; margin-bottom: 24px; position: relative; overflow-y: hidden; overflow-x: auto; font-family: Consolas, Inconsolata, Courier, monospace; font-size: 14px; line-height: 22px; word-break: break-all; background-color: rgb(246, 248, 250); border: none;\">service&nbsp;php-fpm&nbsp;restart\nphp&nbsp;-m\nnginx&nbsp;-s&nbsp;reload</pre><p>查看phpinfo<br/></p><p>测试redis<br/></p><p><img src=\"/ueditor/php/upload/image/20180830/1535595957573237.png\" title=\"1535595957573237.png\" alt=\"redis-test.png\"/></p>', '2018-08-29 12:51:37', '2018-08-30 10:37:50', null, null, '24', '0', '0', '/index/article/show/id/75.html');
INSERT INTO `blog_article` VALUES ('76', '29', 'PHP7-安装memcache memcached扩展', '安装,扩展', 'https://blog.csdn.net/u010688637/article/details/70246147', '', '<p>https://blog.csdn.net/u010688637/article/details/70246147</p>', '2018-08-29 12:53:09', '2018-08-29 12:53:33', null, null, '4', '0', '0', '/index/article/show/id/76.html');
INSERT INTO `blog_article` VALUES ('78', '41', 'PHP-扩展swoole', '扩展', '[root@localhost&nbsp;swoole-4.0.4]#&nbsp;wget&nbsp;https://github.com/swoole/swoole-src/archive/4.1.0-beta.2.tar.gz\n[root@localhost&nbsp;www]#&nbsp;tar&nbsp;xvf&nbsp;swoole-4.0.4.tgz&nbsp;\n[root@localhost&nbsp;www]#&nbsp;cd&nbsp;swoole-4.0.4/\n[root@l', '', '<pre class=\"brush:bash;toolbar:false\">[root@localhost&nbsp;swoole-4.0.4]#&nbsp;wget&nbsp;https://github.com/swoole/swoole-src/archive/4.1.0-beta.2.tar.gz\n[root@localhost&nbsp;www]#&nbsp;tar&nbsp;xvf&nbsp;swoole-4.0.4.tgz&nbsp;\n[root@localhost&nbsp;www]#&nbsp;cd&nbsp;swoole-4.0.4/\n[root@localhost&nbsp;swoole-4.0.4]#&nbsp;phpize</pre><p>phpize如果出错</p><p></p><pre class=\"brush:bash;toolbar:false\">\nwget&nbsp;http://ftp.gnu.org/gnu/m4/m4-1.4.9.tar.gztar&nbsp;-zvxf&nbsp;m4-1.4.9.tar.gzcd&nbsp;m4-1.4.9/\n./configure&nbsp;&amp;&amp;&nbsp;make&nbsp;&amp;&amp;&nbsp;make&nbsp;install\nyum&nbsp;install&nbsp;autoconf\n[root@localhost&nbsp;swoole-4.0.4]#&nbsp;.configure&nbsp;&amp;&amp;&nbsp;make&nbsp;&amp;&amp;&nbsp;make&nbsp;install</pre><p><span style=\"color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; text-align: justify; background-color: rgb(255, 255, 255);\"></span><br/></p><p>查看PHPINFO</p><p><img src=\"/ueditor/php/upload/image/20180829/1535553450739052.png\" title=\"1535553450739052.png\" alt=\"phpinfoini.png\"/></p><pre class=\"brush:bash;toolbar:false\">[root@localhost&nbsp;swoole-4.0.4]#&nbsp;vim&nbsp;/www/env/php/php7/php.ini</pre><p><img src=\"/ueditor/php/upload/image/20180829/1535553499382216.png\" title=\"1535553499382216.png\" alt=\"extswoole.png\"/></p><pre class=\"brush:bash;toolbar:false\">[root@localhost&nbsp;swoole-4.0.4]#&nbsp;service&nbsp;php-fpm&nbsp;restart\n[root@localhost&nbsp;swoole-4.0.4]#&nbsp;php&nbsp;-m&nbsp;\n[root@localhost&nbsp;swoole-4.0.4]#&nbsp;nginx&nbsp;-s&nbsp;reload</pre><p>查看PHPINFO<br/></p><p><img src=\"/ueditor/php/upload/image/20180829/1535553638981862.png\" title=\"1535553638981862.png\" alt=\"showswoole.png\"/></p>', '2018-08-29 22:33:20', '2018-08-29 22:40:42', null, null, '15', '0', '0', '/index/article/show/id/78.html');
INSERT INTO `blog_article` VALUES ('79', '34', 'SHELL基础', '基础', '&nbsp;1&nbsp;#!&nbsp;/bin/bash\n&nbsp;&nbsp;2&nbsp;###############&nbsp;声明变量\n&nbsp;&nbsp;3&nbsp;user=&quot;whlphper&quot;;\n&nbsp;&nbsp;4&nbsp;username=&#39;whlphper&#39;;\n&nbsp;&nbsp;5&nbsp;#&nbsp;输出变量{}这个符号可以省略，但是在有些情况下是必须的\n&nbsp;&nbsp;6&nbsp;echo&nb', '', '<pre class=\"brush:bash;toolbar:false\">&nbsp;1&nbsp;#!&nbsp;/bin/bash\n&nbsp;&nbsp;2&nbsp;###############&nbsp;声明变量\n&nbsp;&nbsp;3&nbsp;user=&quot;whlphper&quot;;\n&nbsp;&nbsp;4&nbsp;username=&#39;whlphper&#39;;\n&nbsp;&nbsp;5&nbsp;#&nbsp;输出变量{}这个符号可以省略，但是在有些情况下是必须的\n&nbsp;&nbsp;6&nbsp;echo&nbsp;${user};\n&nbsp;&nbsp;7&nbsp;#&nbsp;这种情况还是需要{}\n&nbsp;&nbsp;8&nbsp;echo&nbsp;&quot;${username}is&nbsp;a&nbsp;phper&quot;;\n&nbsp;&nbsp;9&nbsp;\n&nbsp;10&nbsp;#&nbsp;声明变量\n&nbsp;11&nbsp;myUrl=&#39;baidu.com&#39;;\n&nbsp;12&nbsp;#&nbsp;只读变量\n&nbsp;13&nbsp;readonly&nbsp;myUrl\n&nbsp;14&nbsp;#&nbsp;如果再次赋值就出错了\n&nbsp;15&nbsp;#myUrl=&#39;change.com&#39;;\n&nbsp;16&nbsp;#&nbsp;删除变量\n&nbsp;17&nbsp;echo&nbsp;&quot;old&nbsp;username=${username}&quot;;\n&nbsp;18&nbsp;unset&nbsp;username;\n&nbsp;19&nbsp;echo&nbsp;&quot;after&nbsp;unset&nbsp;username=${username}&quot;;\n&nbsp;20&nbsp;#&nbsp;删除只读变量&nbsp;并不能删除\n&nbsp;21&nbsp;unset&nbsp;myIUrl;\n&nbsp;22&nbsp;#&nbsp;这里还是会有输出的\n&nbsp;23&nbsp;echo&nbsp;$myUrl;\n&nbsp;24&nbsp;\n&nbsp;25&nbsp;\n&nbsp;26&nbsp;\n&nbsp;27&nbsp;\n&nbsp;28&nbsp;##############&nbsp;变量类型-字符串\n&nbsp;29&nbsp;#&nbsp;和PHP一样的&nbsp;单引号之间原样输出\n&nbsp;30&nbsp;str=&#39;this&nbsp;is&nbsp;a&nbsp;string&#39;;\n&nbsp;31&nbsp;echo&nbsp;$str;\n&nbsp;32&nbsp;#&nbsp;双引号之间可以包含变量&nbsp;也可以出现转移符号\n&nbsp;33&nbsp;my_name=&#39;whlphper&#39;;\n&nbsp;34&nbsp;new_str=&quot;\\&quot;${my_name}\\&quot;&nbsp;say&nbsp;\\&quot;&nbsp;${str}&nbsp;\\&quot;&quot;;\n&nbsp;35&nbsp;echo&nbsp;$new_str;\n&nbsp;36&nbsp;#&nbsp;字符串拼接\n&nbsp;37&nbsp;str2=&#39;phper&#39;;\n&nbsp;38&nbsp;str3=&quot;whlphper&nbsp;is&nbsp;a&nbsp;&quot;$str2&quot;!&quot;;\n&nbsp;39&nbsp;str4=&#39;whlphper&nbsp;is&nbsp;a&nbsp;&#39;$str2&#39;!&#39;;\n&nbsp;40&nbsp;echo&nbsp;$str3;\n&nbsp;41&nbsp;echo&nbsp;$str4;\n&nbsp;42&nbsp;#&nbsp;获取字符串长度\n&nbsp;43&nbsp;lengthstring=&#39;lnmp&#39;;\n&nbsp;44&nbsp;echo&nbsp;${#lengthstring};\n&nbsp;45&nbsp;#&nbsp;提取字符串\n&nbsp;46&nbsp;#&nbsp;下面表示提取lengthstring变量&nbsp;第一个字符开始截取两个字符\n&nbsp;47&nbsp;echo&nbsp;${lengthstring:1:2};\n&nbsp;48&nbsp;#&nbsp;查找子字符串\n&nbsp;49&nbsp;searchstring=&#39;abcdefghjkl&#39;;\n&nbsp;50&nbsp;echo&nbsp;`expr&nbsp;index&nbsp;&quot;$searchstring&quot;&nbsp;de`;\n&nbsp;51&nbsp;\n&nbsp;52&nbsp;##############&nbsp;数组\n&nbsp;53&nbsp;#&nbsp;定义数组\n&nbsp;54&nbsp;arrayval=&#39;testval&#39;;\n&nbsp;55&nbsp;my_array=(&#39;aa&#39;&nbsp;&#39;bb&#39;&nbsp;&#39;cc&#39;&nbsp;&#39;dd&#39;&nbsp;$arrayval);\n&nbsp;56&nbsp;#&nbsp;获取数组某个下标值\n&nbsp;57&nbsp;echo&nbsp;${my_array[1]};\n&nbsp;58&nbsp;arrayindex=4\n&nbsp;59&nbsp;echo&nbsp;${my_array[arrayindex]}\n&nbsp;60&nbsp;#&nbsp;获取数组所有元素&nbsp;&nbsp;@\n&nbsp;61&nbsp;echo&nbsp;${my_array[@]};\n&nbsp;62&nbsp;#&nbsp;获取数组长度\n&nbsp;63&nbsp;#&nbsp;获取数组总长度\n&nbsp;64&nbsp;echo&nbsp;${#my_array[@]};\n&nbsp;65&nbsp;expr&nbsp;5&nbsp;+&nbsp;6;\n&nbsp;66&nbsp;#&nbsp;获取数组某个元素的长度\n&nbsp;67&nbsp;echo&nbsp;${#my_array[2]};\n&nbsp;68&nbsp;#&nbsp;常用字符操作\n&nbsp;69&nbsp;test=&#39;http://baidu.com/index.php?name=test&#39;;\n&nbsp;70&nbsp;#&nbsp;#&nbsp;&nbsp;##\n&nbsp;71&nbsp;#&nbsp;一个#&nbsp;表示从左边删除到第一个指定的字符\n&nbsp;72&nbsp;echo&nbsp;${test#*/}\n&nbsp;73&nbsp;#&nbsp;两个#&nbsp;表示从左边删除到最后一个指定的字符\n&nbsp;74&nbsp;echo&nbsp;${test##*/}\n&nbsp;75&nbsp;#&nbsp;%&nbsp;&nbsp;%%&nbsp;同理，从右边删除\n&nbsp;76&nbsp;#&nbsp;%&nbsp;&nbsp;%%\n&nbsp;77&nbsp;echo&nbsp;${test%/*}\n&nbsp;78&nbsp;echo&nbsp;${test%%/*}\n&nbsp;79&nbsp;\n&nbsp;80&nbsp;\n&nbsp;81&nbsp;########&nbsp;read命令用户获取键盘输入信息\n&nbsp;82&nbsp;read&nbsp;-p&nbsp;&quot;input&nbsp;a&nbsp;val:&quot;&nbsp;a\n&nbsp;83&nbsp;read&nbsp;-p&nbsp;&quot;input&nbsp;b&nbsp;val:&quot;&nbsp;b\n&nbsp;84&nbsp;#&nbsp;read参数\n&nbsp;85&nbsp;read&nbsp;-p&nbsp;&#39;请输入您的密码：&#39;&nbsp;-n&nbsp;18&nbsp;-t&nbsp;10&nbsp;-s&nbsp;password\n&nbsp;86&nbsp;echo&nbsp;&quot;your&nbsp;password&nbsp;is&nbsp;$password&quot;\n&nbsp;87&nbsp;r=$[a+b]\n&nbsp;88&nbsp;echo&nbsp;&quot;result&nbsp;=&nbsp;${r}&quot;\n&nbsp;89&nbsp;\n&nbsp;90&nbsp;\n&nbsp;91&nbsp;#######&nbsp;SEHLL&nbsp;传递参数\n&nbsp;92&nbsp;echo&nbsp;&quot;SEHLL&nbsp;传递参数&quot;\n&nbsp;93&nbsp;echo&nbsp;&quot;当前脚本文件名称：$0&quot;\n&nbsp;94&nbsp;if&nbsp;[&nbsp;-n&nbsp;&quot;$1&quot;&nbsp;];then\n&nbsp;95&nbsp;echo&nbsp;&quot;参数一：$1&quot;\n&nbsp;96&nbsp;echo&nbsp;&quot;参数总个数：$#&quot;\n&nbsp;97&nbsp;echo&nbsp;&quot;所有参数字符串显示：$*&quot;\n&nbsp;98&nbsp;echo&nbsp;&quot;所有参数字符串显示：$@&quot;\n&nbsp;99&nbsp;for&nbsp;i&nbsp;in&nbsp;&quot;$*&quot;;do\n100&nbsp;echo&nbsp;$i\n101&nbsp;done\n102&nbsp;for&nbsp;i&nbsp;in&nbsp;&quot;$@&quot;;do\n103&nbsp;echo&nbsp;$i\n104&nbsp;done\n105&nbsp;else\n106&nbsp;echo&nbsp;&quot;没有参数&quot;\n107&nbsp;fi\n108&nbsp;\n109&nbsp;\n110&nbsp;#########&nbsp;运算符\n111&nbsp;val=`expr&nbsp;2&nbsp;+&nbsp;2`\n112&nbsp;echo&nbsp;&quot;和为：$val&quot;\n113&nbsp;val=`expr&nbsp;2&nbsp;\\*&nbsp;2`\n114&nbsp;echo&nbsp;&quot;积为：$val&quot;\n115&nbsp;val=`expr&nbsp;2&nbsp;/&nbsp;2`\n116&nbsp;echo&nbsp;&quot;除为：$val&quot;\n117&nbsp;val=`expr&nbsp;2&nbsp;-&nbsp;2`\n118&nbsp;echo&nbsp;&quot;减为：$val&quot;\n119&nbsp;val=`expr&nbsp;2&nbsp;%&nbsp;2`\n120&nbsp;echo&nbsp;&quot;模为：$val&quot;\n121&nbsp;\n122&nbsp;########&nbsp;关系原算符\n123&nbsp;a=10\n124&nbsp;b=21\n125&nbsp;if&nbsp;[&nbsp;$a&nbsp;-eq&nbsp;$b&nbsp;]\n126&nbsp;then\n127&nbsp;echo&nbsp;&quot;a&nbsp;==&nbsp;b&quot;\n128&nbsp;else\n129&nbsp;echo&nbsp;&#39;a&nbsp;!=&nbsp;b&#39;\n130&nbsp;fi\n131&nbsp;if&nbsp;[&nbsp;$a&nbsp;-ne&nbsp;$b&nbsp;];then\n132&nbsp;echo&nbsp;&quot;a&nbsp;!=&nbsp;b&quot;\n133&nbsp;fi\n134&nbsp;if&nbsp;[&nbsp;$a&nbsp;-gt&nbsp;$b&nbsp;];then\n135&nbsp;echo&nbsp;&#39;a&nbsp;&gt;&nbsp;b&#39;\n136&nbsp;fi\n137&nbsp;if&nbsp;[&nbsp;$a&nbsp;-lt&nbsp;$b&nbsp;];then\n138&nbsp;echo&nbsp;&#39;a&nbsp;&lt;&nbsp;b&#39;\n139&nbsp;fi\n140&nbsp;if&nbsp;[&nbsp;$a&nbsp;-ge&nbsp;$b&nbsp;];then\n141&nbsp;echo&nbsp;&#39;a&nbsp;&gt;=&nbsp;b&#39;\n142&nbsp;fi\n143&nbsp;if&nbsp;[&nbsp;$a&nbsp;-le&nbsp;$b&nbsp;];then\n144&nbsp;echo&nbsp;&#39;a&nbsp;&lt;=&nbsp;b&#39;\n145&nbsp;fi\n146&nbsp;\n147&nbsp;##########&nbsp;布尔运算符&nbsp;!&nbsp;-o或运算&nbsp;&nbsp;-a与运算\n148&nbsp;if&nbsp;[&nbsp;$a&nbsp;-lt&nbsp;50&nbsp;-o&nbsp;$b&nbsp;-gt&nbsp;5&nbsp;]\n149&nbsp;then\n150&nbsp;echo&nbsp;&quot;a&nbsp;&lt;&nbsp;50&nbsp;或者&nbsp;b&nbsp;&gt;&nbsp;5&quot;\n151&nbsp;fi\n152&nbsp;if&nbsp;[&nbsp;$a&nbsp;-gt&nbsp;5&nbsp;-a&nbsp;$b&nbsp;-gt&nbsp;5&nbsp;]\n153&nbsp;then\n154&nbsp;echo&nbsp;&#39;a&nbsp;&gt;&nbsp;5&nbsp;并且&nbsp;b&gt;5&#39;\n155&nbsp;fi\n156&nbsp;##########&nbsp;逻辑运算符&nbsp;&amp;&amp;逻辑AND&nbsp;&nbsp;||逻辑OR\n157&nbsp;\n158&nbsp;if&nbsp;[[&nbsp;$a&nbsp;-lt&nbsp;50&nbsp;||&nbsp;$b&nbsp;-gt&nbsp;5&nbsp;]]\n159&nbsp;then\n160&nbsp;echo&nbsp;&quot;a&nbsp;&lt;&nbsp;50&nbsp;或者&nbsp;b&nbsp;&gt;&nbsp;5&quot;\n161&nbsp;fi\n162&nbsp;if&nbsp;[[&nbsp;$a&nbsp;-gt&nbsp;5&nbsp;&amp;&amp;&nbsp;$b&nbsp;-gt&nbsp;5&nbsp;]]\n163&nbsp;then\n164&nbsp;echo&nbsp;&#39;a&nbsp;&gt;&nbsp;5&nbsp;并且&nbsp;b&gt;5&#39;\n165&nbsp;fi\n166&nbsp;##########&nbsp;字符串运算符&nbsp;=&nbsp;/&nbsp;!=&nbsp;/&nbsp;-z(长度是否位0,0为true)&nbsp;/&nbsp;-n(长度是否为0，不为0true)&nbsp;/&nbsp;str(是否为空，不为空true)\n167&nbsp;string=&#39;&#39;\n168&nbsp;if&nbsp;[&nbsp;$string&nbsp;=&nbsp;&#39;aaa&#39;&nbsp;]\n169&nbsp;then\n170&nbsp;echo&nbsp;&#39;string&nbsp;=&nbsp;aaa&#39;\n171&nbsp;fi\n172&nbsp;if&nbsp;[&nbsp;$string&nbsp;!=&nbsp;&#39;aa&#39;&nbsp;]\n173&nbsp;then\n174&nbsp;echo&nbsp;&#39;string&nbsp;!=&nbsp;aa&#39;\n175&nbsp;fi\n176&nbsp;if&nbsp;[&nbsp;-z&nbsp;$string&nbsp;]\n177&nbsp;then\n178&nbsp;echo&nbsp;&#39;length=0&#39;\n179&nbsp;fi\n180&nbsp;if&nbsp;[&nbsp;-n&nbsp;$string&nbsp;]\n181&nbsp;then\n182&nbsp;echo&nbsp;&#39;length&gt;0&#39;\n183&nbsp;fi\n184&nbsp;if&nbsp;[&nbsp;$string&nbsp;]\n185&nbsp;then\n186&nbsp;echo&nbsp;&#39;string&nbsp;not&nbsp;empty&nbsp;&#39;\n187&nbsp;fi\n188&nbsp;##########&nbsp;文件测试运算符&nbsp;-d(是否是目录)&nbsp;-f(是否是普通文件)&nbsp;-r/-w/-x(是否可读/写/执行)&nbsp;-s(文件是否为空)&nbsp;-e(检查文件或者目录是否存在)\n189&nbsp;\n190&nbsp;echo&nbsp;-e&nbsp;&quot;ok!&nbsp;\\n&quot;\n191&nbsp;echo&nbsp;&#39;bbb&#39;\n192&nbsp;echo&nbsp;-e&nbsp;&quot;ok!&nbsp;\\c&quot;\n193&nbsp;echo&nbsp;&#39;bbb&#39;\n194&nbsp;\n195&nbsp;#########&nbsp;流程控制语句\n196&nbsp;#&nbsp;if&nbsp;else\n197&nbsp;if&nbsp;[&nbsp;$a&nbsp;==&nbsp;$b&nbsp;]\n198&nbsp;then\n199&nbsp;echo&nbsp;&#39;a&nbsp;==&nbsp;b&#39;;\n200&nbsp;elif&nbsp;[&nbsp;$a&nbsp;-gt&nbsp;$b&nbsp;]\n201&nbsp;then\n202&nbsp;echo&nbsp;&#39;a&nbsp;&gt;&nbsp;b&#39;\n203&nbsp;elif&nbsp;[&nbsp;$a&nbsp;-lt&nbsp;10&nbsp;]\n204&nbsp;then\n205&nbsp;echo&nbsp;&#39;a&nbsp;&lt;&nbsp;10&#39;\n206&nbsp;else\n207&nbsp;echo&nbsp;&#39;i&nbsp;dont&nbsp;know&#39;\n208&nbsp;fi\n209&nbsp;\n210&nbsp;#&nbsp;for\n211&nbsp;for&nbsp;var&nbsp;in&nbsp;aa&nbsp;bb&nbsp;cc&nbsp;dd\n212&nbsp;do\n213&nbsp;echo&nbsp;$var;\n214&nbsp;done\n215&nbsp;\n216&nbsp;for&nbsp;loop&nbsp;in&nbsp;1&nbsp;2&nbsp;3&nbsp;4\n217&nbsp;do\n218&nbsp;echo&nbsp;$loop;\n219&nbsp;done\n220&nbsp;\n221&nbsp;for&nbsp;str&nbsp;in&nbsp;&#39;test&nbsp;string&#39;\n222&nbsp;do\n223&nbsp;echo&nbsp;$str;\n224&nbsp;done\n225&nbsp;\n226&nbsp;#&nbsp;while\n227&nbsp;int=1\n228&nbsp;while((&nbsp;$int&nbsp;&lt;=&nbsp;5&nbsp;))\n229&nbsp;do\n230&nbsp;echo&nbsp;$int\n231&nbsp;#let&nbsp;命令&nbsp;执行一个或者多个表达式&nbsp;变量计算中不需要加$\n232&nbsp;let&nbsp;&quot;int++&quot;\n233&nbsp;done\n234&nbsp;\n235&nbsp;echo&nbsp;&quot;编程语言：&quot;\n236&nbsp;while&nbsp;read&nbsp;LANGUAGE\n237&nbsp;do\n238&nbsp;if&nbsp;[&nbsp;$LANGUAGE&nbsp;==&nbsp;&#39;php&#39;&nbsp;]\n239&nbsp;then\n240&nbsp;break;\n241&nbsp;else\n242&nbsp;echo&nbsp;&quot;$LANGUAGE&nbsp;语言&quot;\n243&nbsp;fi\n244&nbsp;done\n245&nbsp;\n246&nbsp;\n247&nbsp;#&nbsp;case\n248&nbsp;echo&nbsp;&#39;请输入一个数字：&#39;\n249&nbsp;echo&nbsp;&quot;数字为：&quot;\n250&nbsp;read&nbsp;nNUMBER\n251&nbsp;case&nbsp;$nNUMBER&nbsp;in\n252&nbsp;1)&nbsp;echo&nbsp;&#39;1&#39;\n253&nbsp;;;\n254&nbsp;2)&nbsp;echo&nbsp;&#39;2&#39;\n255&nbsp;;;\n256&nbsp;*)&nbsp;echo&nbsp;&#39;no&nbsp;1&nbsp;/&nbsp;2&nbsp;&#39;\n257&nbsp;;;\n258&nbsp;esac\n259&nbsp;\n260&nbsp;#&nbsp;break&nbsp;continue\n261&nbsp;while&nbsp;true\n262&nbsp;do\n263&nbsp;read&nbsp;-p&nbsp;&#39;请输入1-5之间的数字：&#39;&nbsp;num\n264&nbsp;echo&nbsp;&quot;您输入的数字为：$num&quot;\n265&nbsp;case&nbsp;$num&nbsp;in\n266&nbsp;1|2|3|4|5)&nbsp;echo&nbsp;&#39;数字为：&#39;$num\n267&nbsp;&nbsp;&nbsp;&nbsp;break;\n268&nbsp;;;\n269&nbsp;*)&nbsp;echo&nbsp;&quot;数字非法&quot;\n270&nbsp;&nbsp;&nbsp;&nbsp;continue\n271&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;game&nbsp;over&quot;\n272&nbsp;;;\n273&nbsp;esac\n274&nbsp;done\n275&nbsp;\n276&nbsp;#&nbsp;shell&nbsp;函数\n277&nbsp;function&nbsp;withReturn()\n278&nbsp;{\n279&nbsp;read&nbsp;-p&nbsp;&quot;输入你的名称：&quot;&nbsp;uname\n280&nbsp;read&nbsp;-p&nbsp;&quot;输入你的密码：&quot;&nbsp;-s&nbsp;upass\n281&nbsp;return&nbsp;${uname}${upass}\n282&nbsp;}\n283&nbsp;withReturn\n284&nbsp;echo&nbsp;&quot;function&nbsp;return&nbsp;val&nbsp;is&nbsp;$?&nbsp;!&quot;</pre><p><br/></p>', '2018-08-30 16:14:18', '2018-08-30 16:16:52', null, null, '1', '0', '0', '/index/article/show/id/79.html');

-- ----------------------------
-- Table structure for blog_category
-- ----------------------------
DROP TABLE IF EXISTS `blog_category`;
CREATE TABLE `blog_category` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` int(10) unsigned NOT NULL COMMENT '上级id',
  `name` varchar(30) NOT NULL COMMENT '栏目名称',
  `image_url` varchar(255) DEFAULT NULL COMMENT '栏目图片',
  `description` varchar(255) DEFAULT NULL COMMENT '栏目描述',
  `is_menu` tinyint(1) unsigned DEFAULT NULL COMMENT '是否导航显示',
  `sort` tinyint(3) unsigned NOT NULL DEFAULT '20' COMMENT '排序',
  `meta_keywords` varchar(200) DEFAULT NULL COMMENT '页面关键词',
  `meta_description` varchar(255) DEFAULT NULL COMMENT '页面描述',
  `url` varchar(200) NOT NULL COMMENT '栏目链接',
  `is_cover` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否有封面页',
  `create_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=42 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of blog_category
-- ----------------------------
INSERT INTO `blog_category` VALUES ('1', '0', '分类', '', '', '1', '20', '学习过程，学习方法，过程分享，错误处理，解决办法', '记录学习的过程和方法，记录与分享各种程序报错，', '', '1', '2018-07-04 19:29:06');
INSERT INTO `blog_category` VALUES ('21', '1', 'Linux', '', '学习linux记录', '1', '20', '', '', '', '1', '2018-07-04 19:29:06');
INSERT INTO `blog_category` VALUES ('23', '0', 'PHP-进阶-YII框架', '', '', '0', '20', '', '', '', '0', '2018-07-04 19:29:06');
INSERT INTO `blog_category` VALUES ('24', '0', 'PHP-进阶-Laravel框架', '', '', '0', '20', '', '', '', '0', '2018-07-04 19:29:06');
INSERT INTO `blog_category` VALUES ('22', '0', 'PHP题库', '', '', '0', '20', '', '', '', '0', '2018-07-04 19:29:06');
INSERT INTO `blog_category` VALUES ('4', '0', '关于', '', '', '1', '20', '', '', '', '0', '2018-07-04 19:29:06');
INSERT INTO `blog_category` VALUES ('41', '0', 'PHP-swoole', '', '', '0', '20', '', '', '', '0', '2018-07-04 19:29:06');
INSERT INTO `blog_category` VALUES ('20', '1', 'Mysql', '', '', '1', '20', '', '', '', '1', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('7', '4', '留言', '', '', '1', '20', '', '', '/index/feedback/index', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('32', '0', '基本算法', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('9', '1', 'PHP', '', '', '1', '20', 'PHP，常见问题', '', '', '1', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('31', '0', 'MongoDb', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('11', '1', 'WEB前端', '', '', '1', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('25', '0', 'PHP-进阶-CI框架', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('26', '0', 'PHP-进阶-HTTP协议', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('27', '0', 'PHP-进阶-MYSQL 深入了解 MYSQL优化', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('28', '0', 'PHP-Redis', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('29', '0', 'PHP-Memcache', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('15', '1', 'TCP/IP协议', '', '', '1', '20', '', '', '', '1', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('16', '1', '数据结构', '', '', '1', '20', '', '', '', '1', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('17', '1', '操作系统', '', '', '1', '20', '', '', '', '1', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('18', '1', 'C语言', '', '', '1', '20', '', '', '', '1', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('19', '0', '汇海融科-工作日记', '', '', '0', '20', '', '', '', '1', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('33', '0', 'MQ消息队列', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('34', '0', 'Linux Shell', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('35', '0', 'Apache', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('36', '0', 'Nginx', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('37', '0', 'PHP 缓存技术', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('38', '0', 'Python', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('39', '0', 'Lamp  Lnmp  环境安装', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');
INSERT INTO `blog_category` VALUES ('40', '0', 'Socket编程', '', '', '0', '20', '', '', '', '0', '2018-07-12 19:29:06');

-- ----------------------------
-- Table structure for merchat
-- ----------------------------
DROP TABLE IF EXISTS `merchat`;
CREATE TABLE `merchat` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) COLLATE utf8_bin NOT NULL COMMENT '商户名称',
  `signNumber` int(11) NOT NULL COMMENT '商户编号',
  `signKey` varchar(255) COLLATE utf8_bin NOT NULL COMMENT '商户支付密钥',
  `withdrawKey` varchar(255) COLLATE utf8_bin NOT NULL DEFAULT '',
  `balance` decimal(10,2) DEFAULT NULL COMMENT '商户余额',
  `bond` decimal(10,2) DEFAULT NULL COMMENT '保证金',
  `gateway` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '使用通道',
  `status` tinyint(4) DEFAULT '1' COMMENT '商户状态 1-有效  2-冻结',
  `email` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '登陆邮箱',
  `phone` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '登陆手机号',
  `createdTime` datetime DEFAULT NULL COMMENT '创建时间',
  `createdUser` int(11) DEFAULT NULL COMMENT '创建人',
  PRIMARY KEY (`id`),
  KEY `signNumber` (`signNumber`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='商户表';

-- ----------------------------
-- Records of merchat
-- ----------------------------
INSERT INTO `merchat` VALUES ('1', '测试商户名称', '902152144', '2e5d85f8fs8f5f8g', '19940618', '849.10', '100.00', '1,2,3', '1', '761243073@qq.com', '15369197307', '2018-08-19 19:07:50', null);

-- ----------------------------
-- Table structure for merchat_bank
-- ----------------------------
DROP TABLE IF EXISTS `merchat_bank`;
CREATE TABLE `merchat_bank` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `merchatId` int(11) DEFAULT '-1' COMMENT '所属商户',
  `cardByName` varchar(255) NOT NULL COMMENT '持卡人姓名',
  `cardByNo` varchar(50) NOT NULL COMMENT '持卡人卡号',
  `tradeTime` datetime NOT NULL COMMENT '交易时间',
  `openBank` varchar(50) NOT NULL COMMENT '开户行',
  `openProvinve` varchar(20) DEFAULT NULL COMMENT '开户行-省',
  `openCity` varchar(20) DEFAULT NULL COMMENT '开户行-市',
  `created_time` datetime DEFAULT NULL COMMENT '创建时间',
  `created_user` int(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of merchat_bank
-- ----------------------------
INSERT INTO `merchat_bank` VALUES ('1', '1', '测试持卡人', '621226854521', '2018-08-22 20:11:51', '建设银行', '山东省', '青岛市', '2018-08-22 20:05:52', null);

-- ----------------------------
-- Table structure for merchat_detail
-- ----------------------------
DROP TABLE IF EXISTS `merchat_detail`;
CREATE TABLE `merchat_detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `merchatId` int(11) NOT NULL COMMENT '对应 商户表ID merchat',
  `realName` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '真实姓名',
  `idNumber` varchar(50) COLLATE utf8_bin NOT NULL COMMENT '身份证号码',
  `region` varchar(255) COLLATE utf8_bin NOT NULL COMMENT '公司地区',
  `address` varchar(255) COLLATE utf8_bin NOT NULL COMMENT '地址',
  `business` varchar(255) COLLATE utf8_bin NOT NULL COMMENT '营业执照号',
  `legalName` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '法人名称',
  `legalCarda` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '法人身份证A',
  `legalCardb` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '法人身份证B',
  `businessCard` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '营业执照副本',
  PRIMARY KEY (`id`),
  KEY `merchatId` (`merchatId`)
) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of merchat_detail
-- ----------------------------
INSERT INTO `merchat_detail` VALUES ('1', '1', '王红亮', '130121199406181014', '山西省,阳泉市,郊区', '香港中路', '251522148GH541', '测试', '/resource/uploads/default/20180821/b03dc7f8cc3aeaea55aee73764151adb.png', '/resource/uploads/default/20180821/bb5fdca8e3553e8542eaf771410d6adf.jpg', '/resource/uploads/default/20180821/29556c98a6335307e544e0602f61ac00.jpg');

-- ----------------------------
-- Table structure for merchat_withdraw
-- ----------------------------
DROP TABLE IF EXISTS `merchat_withdraw`;
CREATE TABLE `merchat_withdraw` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `merchatId` int(11) NOT NULL COMMENT '提现商户',
  `bankId` int(11) NOT NULL COMMENT '对应商户银行表ID，这个字段暂时不用',
  `transaction` varchar(50) COLLATE utf8_bin NOT NULL COMMENT '体现流水号',
  `orderAmount` decimal(10,2) NOT NULL COMMENT '提现金额',
  `cardByName` varchar(20) COLLATE utf8_bin NOT NULL,
  `cardByNo` varchar(50) COLLATE utf8_bin NOT NULL,
  `openBank` varchar(20) COLLATE utf8_bin NOT NULL,
  `openProvinve` varchar(20) COLLATE utf8_bin NOT NULL,
  `openCity` varchar(20) COLLATE utf8_bin NOT NULL,
  `serviceCharge` decimal(10,2) NOT NULL COMMENT '提现手续费',
  `accType` tinyint(4) DEFAULT '0' COMMENT '0-对私 1-对公',
  `status` tinyint(4) DEFAULT '0' COMMENT '0-处理中 1-处理成功 2-处理失败 ',
  `createdTime` datetime DEFAULT NULL COMMENT '创建时间',
  `createdUser` int(255) NOT NULL,
  `dealUser` int(11) DEFAULT NULL COMMENT '处理人',
  PRIMARY KEY (`id`),
  KEY `merchatId` (`merchatId`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of merchat_withdraw
-- ----------------------------
INSERT INTO `merchat_withdraw` VALUES ('12', '1', '1', '201808222302477918076355', '100.00', '测试持卡人', '621226854521', '建设银行', '河北省', '邯郸市', '0.60', '0', '1', '2018-08-22 13:35:00', '2', null);
INSERT INTO `merchat_withdraw` VALUES ('13', '1', '1', '201808231332328739650216', '50.00', '测试持卡人', '621226854521', '建设银行', '河北省', '秦皇岛市', '0.30', '0', '1', '2018-08-23 13:35:05', '2', null);
INSERT INTO `merchat_withdraw` VALUES ('14', '1', '1', '201808231332328739650216', '1520.00', '试持卡人', '621226854521', '建设银行', '', '', '0.00', '0', '1', null, '0', null);

-- ----------------------------
-- Table structure for record
-- ----------------------------
DROP TABLE IF EXISTS `record`;
CREATE TABLE `record` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` tinyint(4) DEFAULT '1' COMMENT '操作类型- 2 新增 3主键更新 4条件更新',
  `name` varchar(20) DEFAULT NULL COMMENT '操作名称',
  `code` varchar(50) DEFAULT NULL COMMENT '操作代码',
  `ip` varchar(50) DEFAULT NULL COMMENT '操作者IP',
  `condition` varchar(255) DEFAULT NULL COMMENT '如果为条件修改，需要此字段',
  `tableName` varchar(50) NOT NULL COMMENT '操作的数据表',
  `dataId` varchar(128) NOT NULL COMMENT '操作表的数据主键',
  `createTime` datetime DEFAULT NULL COMMENT '操作时间',
  `user` int(11) DEFAULT '0' COMMENT '操作人',
  `extra` varchar(255) DEFAULT NULL COMMENT '额外修改表的字段信息',
  PRIMARY KEY (`id`),
  KEY `tableName` (`tableName`),
  KEY `user` (`user`),
  KEY `dataId` (`dataId`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='数据变更记录表';

-- ----------------------------
-- Records of record
-- ----------------------------
INSERT INTO `record` VALUES ('1', '1', '分类更新', '5944', '127.0.0.1', null, 'ShopCategory', '1', '2018-08-31 16:55:14', null, null);
INSERT INTO `record` VALUES ('2', '1', '分类更新', '71189', '127.0.0.1', null, 'ShopCategory', '2', '2018-08-31 17:10:43', null, null);
INSERT INTO `record` VALUES ('3', '1', '分类更新', '79031', '127.0.0.1', null, 'ShopCategory', '3', '2018-08-31 17:33:03', null, null);

-- ----------------------------
-- Table structure for record_detail
-- ----------------------------
DROP TABLE IF EXISTS `record_detail`;
CREATE TABLE `record_detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `recordId` int(11) NOT NULL COMMENT '关联record id',
  `dataId` int(11) DEFAULT NULL COMMENT '当时条件更新时会获取所更新条件对应的就数据',
  `fieldName` varchar(50) NOT NULL COMMENT '字段',
  `old` varchar(255) NOT NULL COMMENT '原始值',
  `new` varchar(255) NOT NULL COMMENT '最新值',
  PRIMARY KEY (`id`),
  KEY `recordId` (`recordId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='数据变更详情表-只有修改的时候会写入详情到此表';

-- ----------------------------
-- Records of record_detail
-- ----------------------------

-- ----------------------------
-- Table structure for shop_address
-- ----------------------------
DROP TABLE IF EXISTS `shop_address`;
CREATE TABLE `shop_address` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `reciver` varchar(50) NOT NULL,
  `region` varchar(50) NOT NULL,
  `address` varchar(128) NOT NULL,
  `contact` varchar(50) NOT NULL,
  `is_default` tinyint(4) NOT NULL DEFAULT '0',
  `create_time` datetime DEFAULT NULL,
  `create_user` int(11) DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of shop_address
-- ----------------------------

-- ----------------------------
-- Table structure for shop_admin
-- ----------------------------
DROP TABLE IF EXISTS `shop_admin`;
CREATE TABLE `shop_admin` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `email` varchar(50) DEFAULT NULL,
  `phone` varchar(255) DEFAULT NULL,
  `password` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `email` (`email`,`phone`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_admin
-- ----------------------------

-- ----------------------------
-- Table structure for shop_brand
-- ----------------------------
DROP TABLE IF EXISTS `shop_brand`;
CREATE TABLE `shop_brand` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL,
  `posters` varchar(255) NOT NULL,
  `desc` varchar(150) DEFAULT NULL,
  `sort` int(11) DEFAULT '0',
  `create_time` datetime DEFAULT NULL,
  `create_user` int(11) DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_brand
-- ----------------------------

-- ----------------------------
-- Table structure for shop_category
-- ----------------------------
DROP TABLE IF EXISTS `shop_category`;
CREATE TABLE `shop_category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `parent_id` int(11) DEFAULT '0',
  `name` varchar(20) NOT NULL,
  `posters` int(11) DEFAULT NULL,
  `sort` int(11) DEFAULT '0',
  `is_menu` tinyint(4) DEFAULT '0',
  `create_time` datetime DEFAULT NULL,
  `create_user` int(11) DEFAULT '0',
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_category
-- ----------------------------
INSERT INTO `shop_category` VALUES ('1', '0', '家具家纺', '20', '10', '1', '2018-08-31 16:55:14', '0', '2018-08-31 16:55:14', null);
INSERT INTO `shop_category` VALUES ('2', '1', '床上用品', '21', '15', '1', '2018-08-31 17:10:43', '0', '2018-08-31 17:10:43', null);
INSERT INTO `shop_category` VALUES ('3', '1', '【Border】开通broker账户', '23', '0', '0', '2018-08-31 17:33:03', '0', '2018-08-31 17:33:03', null);

-- ----------------------------
-- Table structure for shop_config
-- ----------------------------
DROP TABLE IF EXISTS `shop_config`;
CREATE TABLE `shop_config` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `config_id` int(11) NOT NULL,
  `name` varchar(50) NOT NULL,
  `value` varchar(255) NOT NULL,
  `create_time` datetime DEFAULT NULL,
  `create_user` varchar(255) DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `config_id` (`config_id`,`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_config
-- ----------------------------

-- ----------------------------
-- Table structure for shop_helps
-- ----------------------------
DROP TABLE IF EXISTS `shop_helps`;
CREATE TABLE `shop_helps` (
  `id` int(11) NOT NULL,
  `parent_id` int(11) NOT NULL DEFAULT '0',
  `title` varchar(128) NOT NULL,
  `details` longtext,
  `create_time` datetime DEFAULT NULL,
  `create_user` int(11) DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_helps
-- ----------------------------

-- ----------------------------
-- Table structure for shop_members
-- ----------------------------
DROP TABLE IF EXISTS `shop_members`;
CREATE TABLE `shop_members` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `email` varchar(50) NOT NULL,
  `phone` varchar(50) NOT NULL,
  `nick_name` varchar(50) DEFAULT NULL COMMENT '昵称',
  `password` varchar(32) NOT NULL,
  `role_id` int(11) NOT NULL DEFAULT '-1' COMMENT '-1为商城会员',
  `create_time` datetime DEFAULT NULL,
  `create_user` int(11) DEFAULT '0',
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `email` (`email`,`phone`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_members
-- ----------------------------

-- ----------------------------
-- Table structure for shop_order
-- ----------------------------
DROP TABLE IF EXISTS `shop_order`;
CREATE TABLE `shop_order` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `order_no` varchar(32) NOT NULL,
  `order_amount` double NOT NULL,
  `pay_type` int(11) NOT NULL DEFAULT '0',
  `status` tinyint(4) NOT NULL DEFAULT '0',
  `progress` tinyint(4) NOT NULL DEFAULT '0',
  `express_id` int(11) DEFAULT NULL,
  `express_code` varchar(255) DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  `create_user` int(11) DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`,`order_no`,`status`,`progress`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_order
-- ----------------------------

-- ----------------------------
-- Table structure for shop_order_detail
-- ----------------------------
DROP TABLE IF EXISTS `shop_order_detail`;
CREATE TABLE `shop_order_detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `order_id` int(11) NOT NULL,
  `product_id` int(11) NOT NULL,
  `shop_price` double(10,2) DEFAULT NULL,
  `market_price` double(10,2) DEFAULT NULL,
  `number` int(11) NOT NULL,
  `create_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `order_id` (`order_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_order_detail
-- ----------------------------

-- ----------------------------
-- Table structure for shop_product
-- ----------------------------
DROP TABLE IF EXISTS `shop_product`;
CREATE TABLE `shop_product` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `category_id` int(11) NOT NULL DEFAULT '0',
  `brand_id` int(11) DEFAULT NULL,
  `name` varchar(50) NOT NULL,
  `shop_price` double(10,2) NOT NULL,
  `market_price` double(10,2) DEFAULT NULL,
  `stock` int(255) NOT NULL,
  `posters` varchar(128) DEFAULT NULL,
  `sale_number` int(11) DEFAULT '0',
  `collection_number` int(11) DEFAULT '0',
  `sort` int(255) DEFAULT '0',
  `details` longtext,
  `create_time` datetime DEFAULT NULL,
  `create_user` int(11) DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  `delete_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`,`brand_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of shop_product
-- ----------------------------

-- ----------------------------
-- Table structure for system_file
-- ----------------------------
DROP TABLE IF EXISTS `system_file`;
CREATE TABLE `system_file` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `size` double DEFAULT NULL,
  `type` varchar(255) DEFAULT NULL,
  `path` varchar(255) DEFAULT NULL,
  `time` datetime DEFAULT NULL,
  `user` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=25 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of system_file
-- ----------------------------
INSERT INTO `system_file` VALUES ('18', 'logo.png', '20462', 'png', '/resource/uploads/default/20180831/49937a18b33fe6994cb2e950d49690b6.png', '2018-08-31 16:48:45', null);
INSERT INTO `system_file` VALUES ('19', 'logo.png', '20462', 'png', '/resource/uploads/default/20180831/c06ce6022994769f4d2498c664d8fe06.png', '2018-08-31 16:48:52', null);
INSERT INTO `system_file` VALUES ('20', 'logo.png', '20462', 'png', '/resource/uploads/default/20180831/fe355f077c7058752b0a42b22e3344e1.png', '2018-08-31 16:55:13', null);
INSERT INTO `system_file` VALUES ('21', 'logo.png', '20462', 'png', '/resource/uploads/default/20180831/f33de1696f29407f31be2dabf9389e14.png', '2018-08-31 17:10:42', null);
INSERT INTO `system_file` VALUES ('22', 'logo.png', '20462', 'png', '/resource/uploads/default/20180831/a2023d4d54925960148412de0c51cace.png', '2018-08-31 17:29:04', null);
INSERT INTO `system_file` VALUES ('23', 'logo.png', '20462', 'png', '/resource/uploads/default/20180831/49c39364738c1f3fda8affb0a5a6d0d2.png', '2018-08-31 17:30:29', null);
INSERT INTO `system_file` VALUES ('24', 'logo.png', '20462', 'png', '/resource/uploads/default/20180831/8444bad0fcf9325d8a4fa646dc9f4b82.png', '2018-08-31 18:54:00', null);

-- ----------------------------
-- Table structure for system_gateway
-- ----------------------------
DROP TABLE IF EXISTS `system_gateway`;
CREATE TABLE `system_gateway` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '通道名称',
  `code` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '通道标识',
  `serviceId` varchar(50) COLLATE utf8_bin NOT NULL COMMENT '服务商-也就是上游',
  `depositeRate` double NOT NULL DEFAULT '0.006' COMMENT '入金- 通道费率 默认千6',
  `withdrawRate` double DEFAULT '0.006' COMMENT '出金- 通道费率 默认千6',
  `minAmount` decimal(10,2) DEFAULT '10.00' COMMENT '最低限额',
  `maxAmount` decimal(10,2) DEFAULT '100000.00' COMMENT '最高限额',
  `statementsRate` varchar(20) COLLATE utf8_bin DEFAULT 'T0' COMMENT '结算方式',
  `comment` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of system_gateway
-- ----------------------------
INSERT INTO `system_gateway` VALUES ('1', 'h5快捷&支付宝h5&微信h5', 'MINGFU561', '1', '0.006', '0.006', '10.00', '100000.00', 'T0', null);
INSERT INTO `system_gateway` VALUES ('2', '银联扫码&QQ扫码&微信&支付宝', 'MINGFU591', '1', '0.006', '0.006', '10.00', '100000.00', 'T0', null);
INSERT INTO `system_gateway` VALUES ('3', '手动提现', 'PLATFORM999', '-1', '0.006', '0.006', '10.00', '100000.00', 'T0', '此通道请勿删除,否则无法手动提现');

-- ----------------------------
-- Table structure for system_order
-- ----------------------------
DROP TABLE IF EXISTS `system_order`;
CREATE TABLE `system_order` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `merchatId` int(11) NOT NULL,
  `gatewayId` int(11) NOT NULL COMMENT '交易通道ID',
  `merCode` varchar(50) NOT NULL COMMENT '商户号',
  `orderNo` varchar(50) NOT NULL COMMENT '商户订单号',
  `transaction` varchar(50) NOT NULL COMMENT '平台流水号',
  `orderAmount` double NOT NULL COMMENT '订单金额 单位元',
  `serviceCharge` double NOT NULL COMMENT '手续费',
  `status` varchar(20) DEFAULT '0001' COMMENT '0000-支付成功  0001-提交，尚未支付  0002-支付失败   0003-通知失败  0004-已退款  0005-订单关闭',
  `notifyNumber` int(11) DEFAULT '0' COMMENT '通知次数 指导通知完毕  要求商户返回 success 不区别大小写',
  `returnAddress` varchar(255) DEFAULT NULL COMMENT '同步回调地址',
  `backAddress` varchar(255) DEFAULT NULL COMMENT '后台通知地址,通知5次，通知后关闭订单',
  `dateTime` varchar(20) DEFAULT NULL COMMENT '发起时间（YYYYmmddHHiiss）',
  `payType` varchar(50) DEFAULT NULL COMMENT '支付方式 这个暂时留着,要用的,',
  `bankCardType` tinyint(4) DEFAULT '1' COMMENT '1-借记卡 2-信用卡',
  `bankCode` varchar(50) DEFAULT NULL COMMENT '银行编码，具体支付具体编码',
  `sign` varchar(255) NOT NULL COMMENT '签名',
  `createdTime` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `merCode` (`merCode`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of system_order
-- ----------------------------
INSERT INTO `system_order` VALUES ('1', '1', '1', '', '20180823170765451', '201808231708541285542214', '159.99', '0', '0001', '0', 'http://www.baidu.com', 'http://www.baidu.com', '20180823170752', null, '1', 'CCB', 'd45s4d5s4d545', '2018-08-23 17:19:02');

-- ----------------------------
-- Table structure for system_supplire
-- ----------------------------
DROP TABLE IF EXISTS `system_supplire`;
CREATE TABLE `system_supplire` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) COLLATE utf8_bin NOT NULL COMMENT '服务商名称',
  `merchatId` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '上游-提供的商户号',
  `key` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '交易密钥',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of system_supplire
-- ----------------------------
INSERT INTO `system_supplire` VALUES ('1', '深圳明付科技支付公司', '19921252142', '2dsc78sd45sdw7845sd45fdsew');

-- ----------------------------
-- Table structure for users
-- ----------------------------
DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `merchat_id` int(11) DEFAULT NULL,
  `username` varchar(255) COLLATE utf8_bin NOT NULL COMMENT '登陆账号',
  `password` varchar(255) COLLATE utf8_bin NOT NULL COMMENT '登陆密码',
  `create_time` datetime DEFAULT NULL,
  `last_login` datetime DEFAULT NULL COMMENT '上次登陆时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of users
-- ----------------------------
INSERT INTO `users` VALUES ('2', '1', 'test01', 'f46ef81f2464441ba58aeecbf654ee41', '2018-08-19 16:56:03', '2018-08-19 16:56:06');
INSERT INTO `users` VALUES ('1', '-1', 'whlphper', '9b0dae2d1d76cc9afb3f339e69506f68', '2018-08-01 13:35:36', '2018-08-06 13:35:41');
